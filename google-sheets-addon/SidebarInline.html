<!DOCTYPE html>
<html lang="en">
  <head>
  <base target="_top">
<script>
  // Inject Google Apps Script API into window BEFORE React loads
  window.googleSheetsAPI = {
    getSelectedData: function(callback) {
      console.log('[Apps Script API] getSelectedData called');
      google.script.run
        .withSuccessHandler(function(result) {
          console.log('[Apps Script API] Data retrieved:', result);
          callback(null, result);
        })
        .withFailureHandler(function(error) {
          console.error('[Apps Script API] Error getting data:', error);
          callback(error, null);
        })
        .getSelectedData();
    },

    insertChart: function(imageBase64, format, chartState, callback) {
      console.log('[Apps Script API] insertChart called');
      google.script.run
        .withSuccessHandler(function(result) {
          console.log('[Apps Script API] Chart inserted:', result);
          callback(null, result);
        })
        .withFailureHandler(function(error) {
          console.error('[Apps Script API] Error inserting chart:', error);
          callback(error, null);
        })
        .insertChartToSheet(imageBase64, format, chartState);
    },

    logUsage: function(action, metadata) {
      console.log('[Apps Script API] logUsage called:', action);
      google.script.run
        .withSuccessHandler(function() {
          console.log('[Apps Script API] Usage logged');
        })
        .withFailureHandler(function(error) {
          console.error('[Apps Script API] Error logging usage:', error);
        })
        .logUsage(action, metadata);
    },

    getUserInfo: function(callback) {
      console.log('[Apps Script API] getUserInfo called');
      google.script.run
        .withSuccessHandler(function(userInfo) {
          google.script.run
            .withSuccessHandler(function(license) {
              callback(null, { user: userInfo.user, license: license.license });
            })
            .withFailureHandler(function(error) {
              callback(error, null);
            })
            .checkLicense();
        })
        .withFailureHandler(function(error) {
          callback(error, null);
        })
        .getUserInfo();
    }
  };

  console.log('[Apps Script API] API injected into window. React app will now load.');
</script>

    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Find&Tell - Interactive Funnel Chart Builder</title>
    <meta name="description" content="Find&Tell: Build beautiful funnel visualizations with customizable styles and data comparison" />
    <meta name="theme-color" content="#1e3a8a" />
    <script type="module">(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function a(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(c){if(c.ep)return;c.ep=!0;const u=a(c);fetch(c.href,u)}})();function of(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var md={exports:{}},Bs={},pd={exports:{}},Et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fm;function Bg(){if(fm)return Et;fm=1;var e=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function b(_){return _===null||typeof _!="object"?null:(_=v&&_[v]||_["@@iterator"],typeof _=="function"?_:null)}var d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,z={};function S(_,Y,se){this.props=_,this.context=Y,this.refs=z,this.updater=se||d}S.prototype.isReactComponent={},S.prototype.setState=function(_,Y){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,Y,"setState")},S.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function O(){}O.prototype=S.prototype;function T(_,Y,se){this.props=_,this.context=Y,this.refs=z,this.updater=se||d}var W=T.prototype=new O;W.constructor=T,j(W,S.prototype),W.isPureReactComponent=!0;var F=Array.isArray,U=Object.prototype.hasOwnProperty,H={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function N(_,Y,se){var ue,be={},de=null,Ee=null;if(Y!=null)for(ue in Y.ref!==void 0&&(Ee=Y.ref),Y.key!==void 0&&(de=""+Y.key),Y)U.call(Y,ue)&&!I.hasOwnProperty(ue)&&(be[ue]=Y[ue]);var ke=arguments.length-2;if(ke===1)be.children=se;else if(1<ke){for(var K=Array(ke),Ce=0;Ce<ke;Ce++)K[Ce]=arguments[Ce+2];be.children=K}if(_&&_.defaultProps)for(ue in ke=_.defaultProps,ke)be[ue]===void 0&&(be[ue]=ke[ue]);return{$typeof:e,type:_,key:de,ref:Ee,props:be,_owner:H.current}}function P(_,Y){return{$typeof:e,type:_.type,key:Y,ref:_.ref,props:_.props,_owner:_._owner}}function M(_){return typeof _=="object"&&_!==null&&_.$typeof===e}function A(_){var Y={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(se){return Y[se]})}var G=/\/+/g;function te(_,Y){return typeof _=="object"&&_!==null&&_.key!=null?A(""+_.key):Y.toString(36)}function ee(_,Y,se,ue,be){var de=typeof _;(de==="undefined"||de==="boolean")&&(_=null);var Ee=!1;if(_===null)Ee=!0;else switch(de){case"string":case"number":Ee=!0;break;case"object":switch(_.$typeof){case e:case r:Ee=!0}}if(Ee)return Ee=_,be=be(Ee),_=ue===""?"."+te(Ee,0):ue,F(be)?(se="",_!=null&&(se=_.replace(G,"<script type="module" crossorigin src="/assets/index-BXEYHHwi.js"></script>/")+"/"),ee(be,Y,se,"",function(Ce){return Ce})):be!=null&&(M(be)&&(be=P(be,se+(!be.key||Ee&&Ee.key===be.key?"":(""+be.key).replace(G,"<script type="module" crossorigin src="/assets/index-BXEYHHwi.js"></script>/")+"/")+_)),Y.push(be)),1;if(Ee=0,ue=ue===""?".":ue+":",F(_))for(var ke=0;ke<_.length;ke++){de=_[ke];var K=ue+te(de,ke);Ee+=ee(de,Y,se,K,be)}else if(K=b(_),typeof K=="function")for(_=K.call(_),ke=0;!(de=_.next()).done;)de=de.value,K=ue+te(de,ke++),Ee+=ee(de,Y,se,K,be);else if(de==="object")throw Y=String(_),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Ee}function w(_,Y,se){if(_==null)return _;var ue=[],be=0;return ee(_,ue,"","",function(de){return Y.call(se,de,be++)}),ue}function ze(_){if(_._status===-1){var Y=_._result;Y=Y(),Y.then(function(se){(_._status===0||_._status===-1)&&(_._status=1,_._result=se)},function(se){(_._status===0||_._status===-1)&&(_._status=2,_._result=se)}),_._status===-1&&(_._status=0,_._result=Y)}if(_._status===1)return _._result.default;throw _._result}var ve={current:null},re={transition:null},ae={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:re,ReactCurrentOwner:H};function le(){throw Error("act(...) is not supported in production builds of React.")}return Et.Children={map:w,forEach:function(_,Y,se){w(_,function(){Y.apply(this,arguments)},se)},count:function(_){var Y=0;return w(_,function(){Y++}),Y},toArray:function(_){return w(_,function(Y){return Y})||[]},only:function(_){if(!M(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},Et.Component=S,Et.Fragment=a,Et.Profiler=c,Et.PureComponent=T,Et.StrictMode=i,Et.Suspense=x,Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,Et.act=le,Et.cloneElement=function(_,Y,se){if(_==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_+".");var ue=j({},_.props),be=_.key,de=_.ref,Ee=_._owner;if(Y!=null){if(Y.ref!==void 0&&(de=Y.ref,Ee=H.current),Y.key!==void 0&&(be=""+Y.key),_.type&&_.type.defaultProps)var ke=_.type.defaultProps;for(K in Y)U.call(Y,K)&&!I.hasOwnProperty(K)&&(ue[K]=Y[K]===void 0&&ke!==void 0?ke[K]:Y[K])}var K=arguments.length-2;if(K===1)ue.children=se;else if(1<K){ke=Array(K);for(var Ce=0;Ce<K;Ce++)ke[Ce]=arguments[Ce+2];ue.children=ke}return{$typeof:e,type:_.type,key:be,ref:de,props:ue,_owner:Ee}},Et.createContext=function(_){return _={$typeof:h,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_.Provider={$typeof:u,_context:_},_.Consumer=_},Et.createElement=N,Et.createFactory=function(_){var Y=N.bind(null,_);return Y.type=_,Y},Et.createRef=function(){return{current:null}},Et.forwardRef=function(_){return{$typeof:p,render:_}},Et.isValidElement=M,Et.lazy=function(_){return{$typeof:y,_payload:{_status:-1,_result:_},_init:ze}},Et.memo=function(_,Y){return{$typeof:m,type:_,compare:Y===void 0?null:Y}},Et.startTransition=function(_){var Y=re.transition;re.transition={};try{_()}finally{re.transition=Y}},Et.unstable_act=le,Et.useCallback=function(_,Y){return ve.current.useCallback(_,Y)},Et.useContext=function(_){return ve.current.useContext(_)},Et.useDebugValue=function(){},Et.useDeferredValue=function(_){return ve.current.useDeferredValue(_)},Et.useEffect=function(_,Y){return ve.current.useEffect(_,Y)},Et.useId=function(){return ve.current.useId()},Et.useImperativeHandle=function(_,Y,se){return ve.current.useImperativeHandle(_,Y,se)},Et.useInsertionEffect=function(_,Y){return ve.current.useInsertionEffect(_,Y)},Et.useLayoutEffect=function(_,Y){return ve.current.useLayoutEffect(_,Y)},Et.useMemo=function(_,Y){return ve.current.useMemo(_,Y)},Et.useReducer=function(_,Y,se){return ve.current.useReducer(_,Y,se)},Et.useRef=function(_){return ve.current.useRef(_)},Et.useState=function(_){return ve.current.useState(_)},Et.useSyncExternalStore=function(_,Y,se){return ve.current.useSyncExternalStore(_,Y,se)},Et.useTransition=function(){return ve.current.useTransition()},Et.version="18.3.1",Et}var hm;function sf(){return hm||(hm=1,pd.exports=Bg()),pd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mm;function Gg(){if(mm)return Bs;mm=1;var e=sf(),r=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,c=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(p,x,m){var y,v={},b=null,d=null;m!==void 0&&(b=""+m),x.key!==void 0&&(b=""+x.key),x.ref!==void 0&&(d=x.ref);for(y in x)i.call(x,y)&&!u.hasOwnProperty(y)&&(v[y]=x[y]);if(p&&p.defaultProps)for(y in x=p.defaultProps,x)v[y]===void 0&&(v[y]=x[y]);return{$typeof:r,type:p,key:b,ref:d,props:v,_owner:c.current}}return Bs.Fragment=a,Bs.jsx=h,Bs.jsxs=h,Bs}var pm;function Yg(){return pm||(pm=1,md.exports=Gg()),md.exports}var o=Yg(),C=sf();const fl=of(C);var yc={},gd={exports:{}},yr={},xd={exports:{}},yd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gm;function Qg(){return gm||(gm=1,(function(e){function r(re,ae){var le=re.length;re.push(ae);e:for(;0<le;){var _=le-1>>>1,Y=re[_];if(0<c(Y,ae))re[_]=ae,re[le]=Y,le=_;else break e}}function a(re){return re.length===0?null:re[0]}function i(re){if(re.length===0)return null;var ae=re[0],le=re.pop();if(le!==ae){re[0]=le;e:for(var _=0,Y=re.length,se=Y>>>1;_<se;){var ue=2*(_+1)-1,be=re[ue],de=ue+1,Ee=re[de];if(0>c(be,le))de<Y&&0>c(Ee,be)?(re[_]=Ee,re[de]=le,_=de):(re[_]=be,re[ue]=le,_=ue);else if(de<Y&&0>c(Ee,le))re[_]=Ee,re[de]=le,_=de;else break e}}return ae}function c(re,ae){var le=re.sortIndex-ae.sortIndex;return le!==0?le:re.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var h=Date,p=h.now();e.unstable_now=function(){return h.now()-p}}var x=[],m=[],y=1,v=null,b=3,d=!1,j=!1,z=!1,S=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function W(re){for(var ae=a(m);ae!==null;){if(ae.callback===null)i(m);else if(ae.startTime<=re)i(m),ae.sortIndex=ae.expirationTime,r(x,ae);else break;ae=a(m)}}function F(re){if(z=!1,W(re),!j)if(a(x)!==null)j=!0,ze(U);else{var ae=a(m);ae!==null&&ve(F,ae.startTime-re)}}function U(re,ae){j=!1,z&&(z=!1,O(N),N=-1),d=!0;var le=b;try{for(W(ae),v=a(x);v!==null&&(!(v.expirationTime>ae)||re&&!A());){var _=v.callback;if(typeof _=="function"){v.callback=null,b=v.priorityLevel;var Y=_(v.expirationTime<=ae);ae=e.unstable_now(),typeof Y=="function"?v.callback=Y:v===a(x)&&i(x),W(ae)}else i(x);v=a(x)}if(v!==null)var se=!0;else{var ue=a(m);ue!==null&&ve(F,ue.startTime-ae),se=!1}return se}finally{v=null,b=le,d=!1}}var H=!1,I=null,N=-1,P=5,M=-1;function A(){return!(e.unstable_now()-M<P)}function G(){if(I!==null){var re=e.unstable_now();M=re;var ae=!0;try{ae=I(!0,re)}finally{ae?te():(H=!1,I=null)}}else H=!1}var te;if(typeof T=="function")te=function(){T(G)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,w=ee.port2;ee.port1.onmessage=G,te=function(){w.postMessage(null)}}else te=function(){S(G,0)};function ze(re){I=re,H||(H=!0,te())}function ve(re,ae){N=S(function(){re(e.unstable_now())},ae)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(re){re.callback=null},e.unstable_continueExecution=function(){j||d||(j=!0,ze(U))},e.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<re?Math.floor(1e3/re):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return a(x)},e.unstable_next=function(re){switch(b){case 1:case 2:case 3:var ae=3;break;default:ae=b}var le=b;b=ae;try{return re()}finally{b=le}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(re,ae){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var le=b;b=re;try{return ae()}finally{b=le}},e.unstable_scheduleCallback=function(re,ae,le){var _=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?_+le:_):le=_,re){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=le+Y,re={id:y++,callback:ae,priorityLevel:re,startTime:le,expirationTime:Y,sortIndex:-1},le>_?(re.sortIndex=le,r(m,re),a(x)===null&&re===a(m)&&(z?(O(N),N=-1):z=!0,ve(F,le-_))):(re.sortIndex=Y,r(x,re),j||d||(j=!0,ze(U))),re},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(re){var ae=b;return function(){var le=b;b=ae;try{return re.apply(this,arguments)}finally{b=le}}}})(yd)),yd}var xm;function qg(){return xm||(xm=1,xd.exports=Qg()),xd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ym;function Xg(){if(ym)return yr;ym=1;var e=sf(),r=qg();function a(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,c={};function u(t,n){h(t,n),h(t+"Capture",n)}function h(t,n){for(c[t]=n,t=0;t<n.length;t++)i.add(n[t])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),x=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},v={};function b(t){return x.call(v,t)?!0:x.call(y,t)?!1:m.test(t)?v[t]=!0:(y[t]=!0,!1)}function d(t,n,s,l){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return l?!1:s!==null?!s.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function j(t,n,s,l){if(n===null||typeof n>"u"||d(t,n,s,l))return!0;if(l)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function z(t,n,s,l,f,g,k){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=l,this.attributeNamespace=f,this.mustUseProperty=s,this.propertyName=t,this.type=n,this.sanitizeURL=g,this.removeEmptyString=k}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){S[t]=new z(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var n=t[0];S[n]=new z(n,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){S[t]=new z(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){S[t]=new z(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){S[t]=new z(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){S[t]=new z(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){S[t]=new z(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){S[t]=new z(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){S[t]=new z(t,5,!1,t.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function T(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var n=t.replace(O,T);S[n]=new z(n,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var n=t.replace(O,T);S[n]=new z(n,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var n=t.replace(O,T);S[n]=new z(n,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){S[t]=new z(t,1,!1,t.toLowerCase(),null,!1,!1)}),S.xlinkHref=new z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){S[t]=new z(t,1,!1,t.toLowerCase(),null,!0,!0)});function W(t,n,s,l){var f=S.hasOwnProperty(n)?S[n]:null;(f!==null?f.type!==0:l||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(j(n,s,f,l)&&(s=null),l||f===null?b(n)&&(s===null?t.removeAttribute(n):t.setAttribute(n,""+s)):f.mustUseProperty?t[f.propertyName]=s===null?f.type===3?!1:"":s:(n=f.attributeName,l=f.attributeNamespace,s===null?t.removeAttribute(n):(f=f.type,s=f===3||f===4&&s===!0?"":""+s,l?t.setAttributeNS(l,n,s):t.setAttribute(n,s))))}var F=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),H=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),A=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),ze=Symbol.for("react.lazy"),ve=Symbol.for("react.offscreen"),re=Symbol.iterator;function ae(t){return t===null||typeof t!="object"?null:(t=re&&t[re]||t["@@iterator"],typeof t=="function"?t:null)}var le=Object.assign,_;function Y(t){if(_===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);_=n&&n[1]||""}return`
`+_+t}var se=!1;function ue(t,n){if(!t||se)return"";se=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(Z){var l=Z}Reflect.construct(t,[],n)}else{try{n.call()}catch(Z){l=Z}t.call(n.prototype)}else{try{throw Error()}catch(Z){l=Z}t()}}catch(Z){if(Z&&l&&typeof Z.stack=="string"){for(var f=Z.stack.split(`
`),g=l.stack.split(`
`),k=f.length-1,E=g.length-1;1<=k&&0<=E&&f[k]!==g[E];)E--;for(;1<=k&&0<=E;k--,E--)if(f[k]!==g[E]){if(k!==1||E!==1)do if(k--,E--,0>E||f[k]!==g[E]){var R=`
`+f[k].replace(" at new "," at ");return t.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",t.displayName)),R}while(1<=k&&0<=E);break}}}finally{se=!1,Error.prepareStackTrace=s}return(t=t?t.displayName||t.name:"")?Y(t):""}function be(t){switch(t.tag){case 5:return Y(t.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return t=ue(t.type,!1),t;case 11:return t=ue(t.type.render,!1),t;case 1:return t=ue(t.type,!0),t;default:return""}}function de(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case I:return"Fragment";case H:return"Portal";case P:return"Profiler";case N:return"StrictMode";case te:return"Suspense";case ee:return"SuspenseList"}if(typeof t=="object")switch(t.$typeof){case A:return(t.displayName||"Context")+".Consumer";case M:return(t._context.displayName||"Context")+".Provider";case G:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case w:return n=t.displayName||null,n!==null?n:de(t.type)||"Memo";case ze:n=t._payload,t=t._init;try{return de(t(n))}catch{}}return null}function Ee(t){var n=t.type;switch(t.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=n.render,t=t.displayName||t.name||"",n.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return de(n);case 8:return n===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function ke(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function K(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ce(t){var n=K(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,g=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return f.call(this)},set:function(k){l=""+k,g.call(this,k)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(k){l=""+k},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function q(t){t._valueTracker||(t._valueTracker=Ce(t))}function D(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=K(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function ne(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function J(t,n){var s=n.checked;return le({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??t._wrapperState.initialChecked})}function me(t,n){var s=n.defaultValue==null?"":n.defaultValue,l=n.checked!=null?n.checked:n.defaultChecked;s=ke(n.value!=null?n.value:s),t._wrapperState={initialChecked:l,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function ye(t,n){n=n.checked,n!=null&&W(t,"checked",n,!1)}function Ue(t,n){ye(t,n);var s=ke(n.value),l=n.type;if(s!=null)l==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+s):t.value!==""+s&&(t.value=""+s);else if(l==="submit"||l==="reset"){t.removeAttribute("value");return}n.hasOwnProperty("value")?Qe(t,n.type,s):n.hasOwnProperty("defaultValue")&&Qe(t,n.type,ke(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(t.defaultChecked=!!n.defaultChecked)}function _e(t,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var l=n.type;if(!(l!=="submit"&&l!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+t._wrapperState.initialValue,s||n===t.value||(t.value=n),t.defaultValue=n}s=t.name,s!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,s!==""&&(t.name=s)}function Qe(t,n,s){(n!=="number"||ne(t.ownerDocument)!==t)&&(s==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+s&&(t.defaultValue=""+s))}var bt=Array.isArray;function ft(t,n,s,l){if(t=t.options,n){n={};for(var f=0;f<s.length;f++)n["$"+s[f]]=!0;for(s=0;s<t.length;s++)f=n.hasOwnProperty("$"+t[s].value),t[s].selected!==f&&(t[s].selected=f),f&&l&&(t[s].defaultSelected=!0)}else{for(s=""+ke(s),n=null,f=0;f<t.length;f++){if(t[f].value===s){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}n!==null||t[f].disabled||(n=t[f])}n!==null&&(n.selected=!0)}}function vt(t,n){if(n.dangerouslySetInnerHTML!=null)throw Error(a(91));return le({},n,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ln(t,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(a(92));if(bt(s)){if(1<s.length)throw Error(a(93));s=s[0]}n=s}n==null&&(n=""),s=n}t._wrapperState={initialValue:ke(s)}}function $t(t,n){var s=ke(n.value),l=ke(n.defaultValue);s!=null&&(s=""+s,s!==t.value&&(t.value=s),n.defaultValue==null&&t.defaultValue!==s&&(t.defaultValue=s)),l!=null&&(t.defaultValue=""+l)}function Yt(t){var n=t.textContent;n===t._wrapperState.initialValue&&n!==""&&n!==null&&(t.value=n)}function kt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bt(t,n){return t==null||t==="http://www.w3.org/1999/xhtml"?kt(n):t==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var lt,tn=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,l,f){MSApp.execUnsafeLocalFunction(function(){return t(n,s,l,f)})}:t})(function(t,n){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=n;else{for(lt=lt||document.createElement("div"),lt.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=lt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;n.firstChild;)t.appendChild(n.firstChild)}});function fn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var Gt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nn=["Webkit","ms","Moz","O"];Object.keys(Gt).forEach(function(t){nn.forEach(function(n){n=n+t.charAt(0).toUpperCase()+t.substring(1),Gt[n]=Gt[t]})});function vn(t,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||Gt.hasOwnProperty(t)&&Gt[t]?(""+n).trim():n+"px"}function hn(t,n){t=t.style;for(var s in n)if(n.hasOwnProperty(s)){var l=s.indexOf("--")===0,f=vn(s,n[s],l);s==="float"&&(s="cssFloat"),l?t.setProperty(s,f):t[s]=f}}var bn=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fn(t,n){if(n){if(bn[t]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(a(137,t));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(a(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(a(61))}if(n.style!=null&&typeof n.style!="object")throw Error(a(62))}}function wt(t,n){if(t.indexOf("-")===-1)return typeof n.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vt=null;function Nn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _n=null,rn=null,Mn=null;function In(t){if(t=Es(t)){if(typeof _n!="function")throw Error(a(280));var n=t.stateNode;n&&(n=Tl(n),_n(t.stateNode,t.type,n))}}function Bn(t){rn?Mn?Mn.push(t):Mn=[t]:rn=t}function cr(){if(rn){var t=rn,n=Mn;if(Mn=rn=null,In(t),n)for(t=0;t<n.length;t++)In(n[t])}}function Ln(t,n){return t(n)}function Gn(){}var Fe=!1;function Ge(t,n,s){if(Fe)return t(n,s);Fe=!0;try{return Ln(t,n,s)}finally{Fe=!1,(rn!==null||Mn!==null)&&(Gn(),cr())}}function Ze(t,n){var s=t.stateNode;if(s===null)return null;var l=Tl(s);if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var ct=!1;if(p)try{var Lt={};Object.defineProperty(Lt,"passive",{get:function(){ct=!0}}),window.addEventListener("test",Lt,Lt),window.removeEventListener("test",Lt,Lt)}catch{ct=!1}function ht(t,n,s,l,f,g,k,E,R){var Z=Array.prototype.slice.call(arguments,3);try{n.apply(s,Z)}catch(xe){this.onError(xe)}}var Pt=!1,He=null,rt=!1,Je=null,ut={onError:function(t){Pt=!0,He=t}};function et(t,n,s,l,f,g,k,E,R){Pt=!1,He=null,ht.apply(ut,arguments)}function Rt(t,n,s,l,f,g,k,E,R){if(et.apply(this,arguments),Pt){if(Pt){var Z=He;Pt=!1,He=null}else throw Error(a(198));rt||(rt=!0,Je=Z)}}function Ft(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function xt(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function Nt(t){if(Ft(t)!==t)throw Error(a(188))}function kn(t){var n=t.alternate;if(!n){if(n=Ft(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,l=n;;){var f=s.return;if(f===null)break;var g=f.alternate;if(g===null){if(l=f.return,l!==null){s=l;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===s)return Nt(f),t;if(g===l)return Nt(f),n;g=g.sibling}throw Error(a(188))}if(s.return!==l.return)s=f,l=g;else{for(var k=!1,E=f.child;E;){if(E===s){k=!0,s=f,l=g;break}if(E===l){k=!0,l=f,s=g;break}E=E.sibling}if(!k){for(E=g.child;E;){if(E===s){k=!0,s=g,l=f;break}if(E===l){k=!0,l=g,s=f;break}E=E.sibling}if(!k)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function cn(t){return t=kn(t),t!==null?ar(t):null}function ar(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var n=ar(t);if(n!==null)return n;t=t.sibling}return null}var Xt=r.unstable_scheduleCallback,ur=r.unstable_cancelCallback,L=r.unstable_shouldYield,fe=r.unstable_requestPaint,ie=r.unstable_now,Ie=r.unstable_getCurrentPriorityLevel,$e=r.unstable_ImmediatePriority,Ot=r.unstable_UserBlockingPriority,jt=r.unstable_NormalPriority,zt=r.unstable_LowPriority,Wt=r.unstable_IdlePriority,Mt=null,on=null;function Kt(t){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(Mt,t,void 0,(t.current.flags&128)===128)}catch{}}var _t=Math.clz32?Math.clz32:zr,Tr=Math.log,Tn=Math.LN2;function zr(t){return t>>>=0,t===0?32:31-(Tr(t)/Tn|0)|0}var Pn=64,jn=4194304;function mt(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function qe(t,n){var s=t.pendingLanes;if(s===0)return 0;var l=0,f=t.suspendedLanes,g=t.pingedLanes,k=s&268435455;if(k!==0){var E=k&~f;E!==0?l=mt(E):(g&=k,g!==0&&(l=mt(g)))}else k=s&~f,k!==0?l=mt(k):g!==0&&(l=mt(g));if(l===0)return 0;if(n!==0&&n!==l&&(n&f)===0&&(f=l&-l,g=n&-n,f>=g||f===16&&(g&4194240)!==0))return n;if((l&4)!==0&&(l|=s&16),n=t.entangledLanes,n!==0)for(t=t.entanglements,n&=l;0<n;)s=31-_t(n),f=1<<s,l|=t[s],n&=~f;return l}function Yn(t,n){switch(t){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jn(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,g=t.pendingLanes;0<g;){var k=31-_t(g),E=1<<k,R=f[k];R===-1?((E&s)===0||(E&l)!==0)&&(f[k]=Yn(E,n)):R<=n&&(t.expiredLanes|=E),g&=~E}}function Ct(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function un(){var t=Pn;return Pn<<=1,(Pn&4194240)===0&&(Pn=64),t}function or(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function At(t,n,s){t.pendingLanes|=n,n!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,n=31-_t(n),t[n]=s}function ce(t,n){var s=t.pendingLanes&~n;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=n,t.mutableReadLanes&=n,t.entangledLanes&=n,n=t.entanglements;var l=t.eventTimes;for(t=t.expirationTimes;0<s;){var f=31-_t(s),g=1<<f;n[f]=0,l[f]=-1,t[f]=-1,s&=~g}}function je(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-_t(s),f=1<<l;f&n|t[l]&n&&(t[l]|=n),s&=~f}}var B=0;function De(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var oe,Ne,pe,Oe,Me,Le=!1,Te=[],Re=null,at=null,nt=null,Xe=new Map,ot=new Map,tt=[],pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(t,n){switch(t){case"focusin":case"focusout":Re=null;break;case"dragenter":case"dragleave":at=null;break;case"mouseover":case"mouseout":nt=null;break;case"pointerover":case"pointerout":Xe.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ot.delete(n.pointerId)}}function gt(t,n,s,l,f,g){return t===null||t.nativeEvent!==g?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:g,targetContainers:[f]},n!==null&&(n=Es(n),n!==null&&Ne(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),t)}function Pe(t,n,s,l,f){switch(n){case"focusin":return Re=gt(Re,t,n,s,l,f),!0;case"dragenter":return at=gt(at,t,n,s,l,f),!0;case"mouseover":return nt=gt(nt,t,n,s,l,f),!0;case"pointerover":var g=f.pointerId;return Xe.set(g,gt(Xe.get(g)||null,t,n,s,l,f)),!0;case"gotpointercapture":return g=f.pointerId,ot.set(g,gt(ot.get(g)||null,t,n,s,l,f)),!0}return!1}function Ae(t){var n=wo(t.target);if(n!==null){var s=Ft(n);if(s!==null){if(n=s.tag,n===13){if(n=xt(s),n!==null){t.blockedOn=n,Me(t.priority,function(){pe(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yt(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=wn(t.domEventName,t.eventSystemFlags,n[0],t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Vt=l,s.target.dispatchEvent(l),Vt=null}else return n=Es(s),n!==null&&Ne(n),t.blockedOn=s,!1;n.shift()}return!0}function Qt(t,n,s){yt(t)&&s.delete(n)}function qt(){Le=!1,Re!==null&&yt(Re)&&(Re=null),at!==null&&yt(at)&&(at=null),nt!==null&&yt(nt)&&(nt=null),Xe.forEach(Qt),ot.forEach(Qt)}function Jt(t,n){t.blockedOn===n&&(t.blockedOn=null,Le||(Le=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,qt)))}function mn(t){function n(f){return Jt(f,t)}if(0<Te.length){Jt(Te[0],t);for(var s=1;s<Te.length;s++){var l=Te[s];l.blockedOn===t&&(l.blockedOn=null)}}for(Re!==null&&Jt(Re,t),at!==null&&Jt(at,t),nt!==null&&Jt(nt,t),Xe.forEach(n),ot.forEach(n),s=0;s<tt.length;s++)l=tt[s],l.blockedOn===t&&(l.blockedOn=null);for(;0<tt.length&&(s=tt[0],s.blockedOn===null);)Ae(s),s.blockedOn===null&&tt.shift()}var Rn=F.ReactCurrentBatchConfig,Qr=!0;function qr(t,n,s,l){var f=B,g=Rn.transition;Rn.transition=null;try{B=1,Ar(t,n,s,l)}finally{B=f,Rn.transition=g}}function dr(t,n,s,l){var f=B,g=Rn.transition;Rn.transition=null;try{B=4,Ar(t,n,s,l)}finally{B=f,Rn.transition=g}}function Ar(t,n,s,l){if(Qr){var f=wn(t,n,s,l);if(f===null)ci(t,n,l,Xr,s),Dt(t,l);else if(Pe(f,t,n,s,l))l.stopPropagation();else if(Dt(t,l),n&4&&-1<pt.indexOf(t)){for(;f!==null;){var g=Es(f);if(g!==null&&oe(g),g=wn(t,n,s,l),g===null&&ci(t,n,l,Xr,s),g===f)break;f=g}f!==null&&l.stopPropagation()}else ci(t,n,l,null,s)}}var Xr=null;function wn(t,n,s,l){if(Xr=null,t=Nn(l),t=wo(t),t!==null)if(n=Ft(t),n===null)t=null;else if(s=n.tag,s===13){if(t=xt(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null);return Xr=t,null}function fr(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ie()){case $e:return 1;case Ot:return 4;case jt:case zt:return 16;case Wt:return 536870912;default:return 16}default:return 16}}var On=null,so=null,Ta=null;function Ho(){if(Ta)return Ta;var t,n=so,s=n.length,l,f="value"in On?On.value:On.textContent,g=f.length;for(t=0;t<s&&n[t]===f[t];t++);var k=s-t;for(l=1;l<=k&&n[s-l]===f[g-l];l++);return Ta=f.slice(t,1<l?1-l:void 0)}function za(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Aa(){return!0}function Io(){return!1}function Qn(t){function n(s,l,f,g,k){this._reactName=s,this._targetInst=f,this.type=l,this.nativeEvent=g,this.target=k,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(g):g[E]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Aa:Io,this.isPropagationStopped=Io,this}return le(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Aa)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Aa)},persist:function(){},isPersistent:Aa}),n}var ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lo=Qn(ca),Da=le({},ca,{view:0,detail:0}),Ui=Qn(Da),Bo,co,ua,Ra=le({},Da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:es,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ua&&(ua&&t.type==="mousemove"?(Bo=t.screenX-ua.screenX,co=t.screenY-ua.screenY):co=Bo=0,ua=t),Bo)},movementY:function(t){return"movementY"in t?t.movementY:co}}),Go=Qn(Ra),Vi=le({},Ra,{dataTransfer:0}),Hi=Qn(Vi),Ii=le({},Da,{relatedTarget:0}),uo=Qn(Ii),Bi=le({},ca,{animationName:0,elapsedTime:0,pseudoElement:0}),Gi=Qn(Bi),Yi=le({},ca,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Qi=Qn(Yi),qi=le({},ca,{data:0}),Yo=Qn(qi),Xi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ki={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ji={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zi(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Ji[t])?!!n[t]:!1}function es(){return Zi}var ou=le({},Da,{key:function(t){if(t.key){var n=Xi[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=za(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ki[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:es,charCode:function(t){return t.type==="keypress"?za(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?za(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),iu=Qn(ou),su=le({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vl=Qn(su),lu=le({},Da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:es}),ts=Qn(lu),bl=le({},ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),ns=Qn(bl),wl=le({},Ra,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rs=Qn(wl),Cl=[9,13,27,32],fo=p&&"CompositionEvent"in window,Oa=null;p&&"documentMode"in document&&(Oa=document.documentMode);var as=p&&"TextEvent"in window&&!Oa,os=p&&(!fo||Oa&&8<Oa&&11>=Oa),Qo=" ",is=!1;function qo(t,n){switch(t){case"keyup":return Cl.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ss(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Kr=!1;function kl(t,n){switch(t){case"compositionend":return ss(n);case"keypress":return n.which!==32?null:(is=!0,Qo);case"textInput":return t=n.data,t===Qo&&is?null:t;default:return null}}function ls(t,n){if(Kr)return t==="compositionend"||!fo&&qo(t,n)?(t=Ho(),Ta=so=On=null,Kr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return os&&n.locale!=="ko"?null:n.data;default:return null}}var jl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xo(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!jl[t.type]:n==="textarea"}function cs(t,n,s,l){Bn(l),n=bo(n,"onChange"),0<n.length&&(s=new lo("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var da=null,Wa=null;function us(t){Ss(t,0)}function ho(t){var n=hi(t);if(D(n))return t}function ds(t,n){if(t==="change")return n}var fs=!1;if(p){var mo;if(p){var Ko="oninput"in document;if(!Ko){var Jo=document.createElement("div");Jo.setAttribute("oninput","return;"),Ko=typeof Jo.oninput=="function"}mo=Ko}else mo=!1;fs=mo&&(!document.documentMode||9<document.documentMode)}function hs(){da&&(da.detachEvent("onpropertychange",Zo),Wa=da=null)}function Zo(t){if(t.propertyName==="value"&&ho(Wa)){var n=[];cs(n,Wa,t,Nn(t)),Ge(us,n)}}function Sl(t,n,s){t==="focusin"?(hs(),da=n,Wa=s,da.attachEvent("onpropertychange",Zo)):t==="focusout"&&hs()}function ms(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ho(Wa)}function Nl(t,n){if(t==="click")return ho(n)}function ps(t,n){if(t==="input"||t==="change")return ho(n)}function Ml(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ir=typeof Object.is=="function"?Object.is:Ml;function $a(t,n){if(ir(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var f=s[l];if(!x.call(n,f)||!ir(t[f],n[f]))return!1}return!0}function ei(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gs(t,n){var s=ei(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=ei(s)}}function ti(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?ti(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function xs(){for(var t=window,n=ne();n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=ne(t.document)}return n}function po(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function Ll(t){var n=xs(),s=t.focusedElem,l=t.selectionRange;if(n!==s&&s&&s.ownerDocument&&ti(s.ownerDocument.documentElement,s)){if(l!==null&&po(s)){if(n=l.start,t=l.end,t===void 0&&(t=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(t,s.value.length);else if(t=(n=s.ownerDocument||document)&&n.defaultView||window,t.getSelection){t=t.getSelection();var f=s.textContent.length,g=Math.min(l.start,f);l=l.end===void 0?g:Math.min(l.end,f),!t.extend&&g>l&&(f=l,l=g,g=f),f=gs(s,g);var k=gs(s,l);f&&k&&(t.rangeCount!==1||t.anchorNode!==f.node||t.anchorOffset!==f.offset||t.focusNode!==k.node||t.focusOffset!==k.offset)&&(n=n.createRange(),n.setStart(f.node,f.offset),t.removeAllRanges(),g>l?(t.addRange(n),t.extend(k.node,k.offset)):(n.setEnd(k.node,k.offset),t.addRange(n)))}}for(n=[],t=s;t=t.parentNode;)t.nodeType===1&&n.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)t=n[s],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ys=p&&"documentMode"in document&&11>=document.documentMode,fa=null,go=null,Ua=null,xo=!1;function vs(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;xo||fa==null||fa!==ne(l)||(l=fa,"selectionStart"in l&&po(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ua&&$a(Ua,l)||(Ua=l,l=bo(go,"onSelect"),0<l.length&&(n=new lo("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=fa)))}function Va(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var ha={animationend:Va("Animation","AnimationEnd"),animationiteration:Va("Animation","AnimationIteration"),animationstart:Va("Animation","AnimationStart"),transitionend:Va("Transition","TransitionEnd")},yo={},bs={};p&&(bs=document.createElement("div").style,"AnimationEvent"in window||(delete ha.animationend.animation,delete ha.animationiteration.animation,delete ha.animationstart.animation),"TransitionEvent"in window||delete ha.transitionend.transition);function Ha(t){if(yo[t])return yo[t];if(!ha[t])return t;var n=ha[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in bs)return yo[t]=n[s];return t}var ws=Ha("animationend"),ni=Ha("animationiteration"),Cs=Ha("animationstart"),ri=Ha("transitionend"),ks=new Map,ai="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(t,n){ks.set(t,n),u(n,[t])}for(var vo=0;vo<ai.length;vo++){var oi=ai[vo],js=oi.toLowerCase(),Pl=oi[0].toUpperCase()+oi.slice(1);Dr(js,"on"+Pl)}Dr(ws,"onAnimationEnd"),Dr(ni,"onAnimationIteration"),Dr(Cs,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(ri,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),El=new Set("cancel close invalid load scroll toggle".split(" ").concat(ma));function ii(t,n,s){var l=t.type||"unknown-event";t.currentTarget=s,Rt(l,n,void 0,t),t.currentTarget=null}function Ss(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],f=l.event;l=l.listeners;e:{var g=void 0;if(n)for(var k=l.length-1;0<=k;k--){var E=l[k],R=E.instance,Z=E.currentTarget;if(E=E.listener,R!==g&&f.isPropagationStopped())break e;ii(f,E,Z),g=R}else for(k=0;k<l.length;k++){if(E=l[k],R=E.instance,Z=E.currentTarget,E=E.listener,R!==g&&f.isPropagationStopped())break e;ii(f,E,Z),g=R}}}if(rt)throw t=Je,rt=!1,Je=null,t}function Zt(t,n){var s=n[uu];s===void 0&&(s=n[uu]=new Set);var l=t+"__bubble";s.has(l)||(li(n,t,2,!1),s.add(l))}function si(t,n,s){var l=0;n&&(l|=4),li(s,t,l,n)}var Ia="_reactListening"+Math.random().toString(36).slice(2);function Ba(t){if(!t[Ia]){t[Ia]=!0,i.forEach(function(s){s!=="selectionchange"&&(El.has(s)||si(s,!1,t),si(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Ia]||(n[Ia]=!0,si("selectionchange",!1,n))}}function li(t,n,s,l){switch(fr(n)){case 1:var f=qr;break;case 4:f=dr;break;default:f=Ar}s=f.bind(null,n,s,t),f=void 0,!ct||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(n,s,{capture:!0,passive:f}):t.addEventListener(n,s,!0):f!==void 0?t.addEventListener(n,s,{passive:f}):t.addEventListener(n,s,!1)}function ci(t,n,s,l,f){var g=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var k=l.tag;if(k===3||k===4){var E=l.stateNode.containerInfo;if(E===f||E.nodeType===8&&E.parentNode===f)break;if(k===4)for(k=l.return;k!==null;){var R=k.tag;if((R===3||R===4)&&(R=k.stateNode.containerInfo,R===f||R.nodeType===8&&R.parentNode===f))return;k=k.return}for(;E!==null;){if(k=wo(E),k===null)return;if(R=k.tag,R===5||R===6){l=g=k;continue e}E=E.parentNode}}l=l.return}Ge(function(){var Z=g,xe=Nn(s),we=[];e:{var he=ks.get(t);if(he!==void 0){var We=lo,Be=t;switch(t){case"keypress":if(za(s)===0)break e;case"keydown":case"keyup":We=iu;break;case"focusin":Be="focus",We=uo;break;case"focusout":Be="blur",We=uo;break;case"beforeblur":case"afterblur":We=uo;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":We=Go;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":We=Hi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":We=ts;break;case ws:case ni:case Cs:We=Gi;break;case ri:We=ns;break;case"scroll":We=Ui;break;case"wheel":We=rs;break;case"copy":case"cut":case"paste":We=Qi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":We=vl}var Ye=(n&4)!==0,Sn=!Ye&&t==="scroll",Q=Ye?he!==null?he+"Capture":null:he;Ye=[];for(var V=Z,X;V!==null;){X=V;var Se=X.stateNode;if(X.tag===5&&Se!==null&&(X=Se,Q!==null&&(Se=Ze(V,Q),Se!=null&&Ye.push(pa(V,Se,X)))),Sn)break;V=V.return}0<Ye.length&&(he=new We(he,Be,null,s,xe),we.push({event:he,listeners:Ye}))}}if((n&7)===0){e:{if(he=t==="mouseover"||t==="pointerover",We=t==="mouseout"||t==="pointerout",he&&s!==Vt&&(Be=s.relatedTarget||s.fromElement)&&(wo(Be)||Be[ga]))break e;if((We||he)&&(he=xe.window===xe?xe:(he=xe.ownerDocument)?he.defaultView||he.parentWindow:window,We?(Be=s.relatedTarget||s.toElement,We=Z,Be=Be?wo(Be):null,Be!==null&&(Sn=Ft(Be),Be!==Sn||Be.tag!==5&&Be.tag!==6)&&(Be=null)):(We=null,Be=Z),We!==Be)){if(Ye=Go,Se="onMouseLeave",Q="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(Ye=vl,Se="onPointerLeave",Q="onPointerEnter",V="pointer"),Sn=We==null?he:hi(We),X=Be==null?he:hi(Be),he=new Ye(Se,V+"leave",We,s,xe),he.target=Sn,he.relatedTarget=X,Se=null,wo(xe)===Z&&(Ye=new Ye(Q,V+"enter",Be,s,xe),Ye.target=X,Ye.relatedTarget=Sn,Se=Ye),Sn=Se,We&&Be)t:{for(Ye=We,Q=Be,V=0,X=Ye;X;X=Jr(X))V++;for(X=0,Se=Q;Se;Se=Jr(Se))X++;for(;0<V-X;)Ye=Jr(Ye),V--;for(;0<X-V;)Q=Jr(Q),X--;for(;V--;){if(Ye===Q||Q!==null&&Ye===Q.alternate)break t;Ye=Jr(Ye),Q=Jr(Q)}Ye=null}else Ye=null;We!==null&&Ns(we,he,We,Ye,!1),Be!==null&&Sn!==null&&Ns(we,Sn,Be,Ye,!0)}}e:{if(he=Z?hi(Z):window,We=he.nodeName&&he.nodeName.toLowerCase(),We==="select"||We==="input"&&he.type==="file")var Ke=ds;else if(Xo(he))if(fs)Ke=ps;else{Ke=ms;var it=Sl}else(We=he.nodeName)&&We.toLowerCase()==="input"&&(he.type==="checkbox"||he.type==="radio")&&(Ke=Nl);if(Ke&&(Ke=Ke(t,Z))){cs(we,Ke,s,xe);break e}it&&it(t,he,Z),t==="focusout"&&(it=he._wrapperState)&&it.controlled&&he.type==="number"&&Qe(he,"number",he.value)}switch(it=Z?hi(Z):window,t){case"focusin":(Xo(it)||it.contentEditable==="true")&&(fa=it,go=Z,Ua=null);break;case"focusout":Ua=go=fa=null;break;case"mousedown":xo=!0;break;case"contextmenu":case"mouseup":case"dragend":xo=!1,vs(we,s,xe);break;case"selectionchange":if(ys)break;case"keydown":case"keyup":vs(we,s,xe)}var st;if(fo)e:{switch(t){case"compositionstart":var dt="onCompositionStart";break e;case"compositionend":dt="onCompositionEnd";break e;case"compositionupdate":dt="onCompositionUpdate";break e}dt=void 0}else Kr?qo(t,s)&&(dt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(dt="onCompositionStart");dt&&(os&&s.locale!=="ko"&&(Kr||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&Kr&&(st=Ho()):(On=xe,so="value"in On?On.value:On.textContent,Kr=!0)),it=bo(Z,dt),0<it.length&&(dt=new Yo(dt,t,null,s,xe),we.push({event:dt,listeners:it}),st?dt.data=st:(st=ss(s),st!==null&&(dt.data=st)))),(st=as?kl(t,s):ls(t,s))&&(Z=bo(Z,"onBeforeInput"),0<Z.length&&(xe=new Yo("onBeforeInput","beforeinput",null,s,xe),we.push({event:xe,listeners:Z}),xe.data=st))}Ss(we,n)})}function pa(t,n,s){return{instance:t,listener:n,currentTarget:s}}function bo(t,n){for(var s=n+"Capture",l=[];t!==null;){var f=t,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=Ze(t,s),g!=null&&l.unshift(pa(t,g,f)),g=Ze(t,n),g!=null&&l.push(pa(t,g,f))),t=t.return}return l}function Jr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ns(t,n,s,l,f){for(var g=n._reactName,k=[];s!==null&&s!==l;){var E=s,R=E.alternate,Z=E.stateNode;if(R!==null&&R===l)break;E.tag===5&&Z!==null&&(E=Z,f?(R=Ze(s,g),R!=null&&k.unshift(pa(s,R,E))):f||(R=Ze(s,g),R!=null&&k.push(pa(s,R,E)))),s=s.return}k.length!==0&&t.push({event:n,listeners:k})}var Ms=/\r\n?/g,Fl=/\u0000|\uFFFD/g;function _l(t){return(typeof t=="string"?t:""+t).replace(Ms,`
`).replace(Fl,"")}function ui(t,n,s){if(n=_l(n),_l(t)!==n&&s)throw Error(a(425))}function di(){}var Ls=null,ge=null;function Rr(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var $=typeof setTimeout=="function"?setTimeout:void 0,og=typeof clearTimeout=="function"?clearTimeout:void 0,_f=typeof Promise=="function"?Promise:void 0,ig=typeof queueMicrotask=="function"?queueMicrotask:typeof _f<"u"?function(t){return _f.resolve(null).then(t).catch(sg)}:$;function sg(t){setTimeout(function(){throw t})}function cu(t,n){var s=n,l=0;do{var f=s.nextSibling;if(t.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(l===0){t.removeChild(f),mn(n);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=f}while(s);mn(n)}function Ga(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return t}function Tf(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return t;n--}else s==="/$"&&n++}t=t.previousSibling}return null}var fi=Math.random().toString(36).slice(2),Zr="__reactFiber$"+fi,Ps="__reactProps$"+fi,ga="__reactContainer$"+fi,uu="__reactEvents$"+fi,lg="__reactListeners$"+fi,cg="__reactHandles$"+fi;function wo(t){var n=t[Zr];if(n)return n;for(var s=t.parentNode;s;){if(n=s[ga]||s[Zr]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=Tf(t);t!==null;){if(s=t[Zr])return s;t=Tf(t)}return n}t=s,s=t.parentNode}return null}function Es(t){return t=t[Zr]||t[ga],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function hi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(a(33))}function Tl(t){return t[Ps]||null}var du=[],mi=-1;function Ya(t){return{current:t}}function sn(t){0>mi||(t.current=du[mi],du[mi]=null,mi--)}function an(t,n){mi++,du[mi]=t.current,t.current=n}var Qa={},Zn=Ya(Qa),hr=Ya(!1),Co=Qa;function pi(t,n){var s=t.type.contextTypes;if(!s)return Qa;var l=t.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===n)return l.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in s)f[g]=n[g];return l&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=f),f}function mr(t){return t=t.childContextTypes,t!=null}function zl(){sn(hr),sn(Zn)}function zf(t,n,s){if(Zn.current!==Qa)throw Error(a(168));an(Zn,n),an(hr,s)}function Af(t,n,s){var l=t.stateNode;if(n=n.childContextTypes,typeof l.getChildContext!="function")return s;l=l.getChildContext();for(var f in l)if(!(f in n))throw Error(a(108,Ee(t)||"Unknown",f));return le({},s,l)}function Al(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qa,Co=Zn.current,an(Zn,t),an(hr,hr.current),!0}function Df(t,n,s){var l=t.stateNode;if(!l)throw Error(a(169));s?(t=Af(t,n,Co),l.__reactInternalMemoizedMergedChildContext=t,sn(hr),sn(Zn),an(Zn,t)):sn(hr),an(hr,s)}var xa=null,Dl=!1,fu=!1;function Rf(t){xa===null?xa=[t]:xa.push(t)}function ug(t){Dl=!0,Rf(t)}function qa(){if(!fu&&xa!==null){fu=!0;var t=0,n=B;try{var s=xa;for(B=1;t<s.length;t++){var l=s[t];do l=l(!0);while(l!==null)}xa=null,Dl=!1}catch(f){throw xa!==null&&(xa=xa.slice(t+1)),Xt($e,qa),f}finally{B=n,fu=!1}}return null}var gi=[],xi=0,Rl=null,Ol=0,jr=[],Sr=0,ko=null,ya=1,va="";function jo(t,n){gi[xi++]=Ol,gi[xi++]=Rl,Rl=t,Ol=n}function Of(t,n,s){jr[Sr++]=ya,jr[Sr++]=va,jr[Sr++]=ko,ko=t;var l=ya;t=va;var f=32-_t(l)-1;l&=~(1<<f),s+=1;var g=32-_t(n)+f;if(30<g){var k=f-f%5;g=(l&(1<<k)-1).toString(32),l>>=k,f-=k,ya=1<<32-_t(n)+f|s<<f|l,va=g+t}else ya=1<<g|s<<f|l,va=t}function hu(t){t.return!==null&&(jo(t,1),Of(t,1,0))}function mu(t){for(;t===Rl;)Rl=gi[--xi],gi[xi]=null,Ol=gi[--xi],gi[xi]=null;for(;t===ko;)ko=jr[--Sr],jr[Sr]=null,va=jr[--Sr],jr[Sr]=null,ya=jr[--Sr],jr[Sr]=null}var br=null,wr=null,dn=!1,Or=null;function Wf(t,n){var s=Pr(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=t,n=t.deletions,n===null?(t.deletions=[s],t.flags|=16):n.push(s)}function $f(t,n){switch(t.tag){case 5:var s=t.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(t.stateNode=n,br=t,wr=Ga(n.firstChild),!0):!1;case 6:return n=t.pendingProps===""||n.nodeType!==3?null:n,n!==null?(t.stateNode=n,br=t,wr=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=ko!==null?{id:ya,overflow:va}:null,t.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=Pr(18,null,null,0),s.stateNode=n,s.return=t,t.child=s,br=t,wr=null,!0):!1;default:return!1}}function pu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function gu(t){if(dn){var n=wr;if(n){var s=n;if(!$f(t,n)){if(pu(t))throw Error(a(418));n=Ga(s.nextSibling);var l=br;n&&$f(t,n)?Wf(l,s):(t.flags=t.flags&-4097|2,dn=!1,br=t)}}else{if(pu(t))throw Error(a(418));t.flags=t.flags&-4097|2,dn=!1,br=t}}}function Uf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;br=t}function Wl(t){if(t!==br)return!1;if(!dn)return Uf(t),dn=!0,!1;var n;if((n=t.tag!==3)&&!(n=t.tag!==5)&&(n=t.type,n=n!=="head"&&n!=="body"&&!Rr(t.type,t.memoizedProps)),n&&(n=wr)){if(pu(t))throw Vf(),Error(a(418));for(;n;)Wf(t,n),n=Ga(n.nextSibling)}if(Uf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"){if(n===0){wr=Ga(t.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}t=t.nextSibling}wr=null}}else wr=br?Ga(t.stateNode.nextSibling):null;return!0}function Vf(){for(var t=wr;t;)t=Ga(t.nextSibling)}function yi(){wr=br=null,dn=!1}function xu(t){Or===null?Or=[t]:Or.push(t)}var dg=F.ReactCurrentBatchConfig;function Fs(t,n,s){if(t=s.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(a(309));var l=s.stateNode}if(!l)throw Error(a(147,t));var f=l,g=""+t;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===g?n.ref:(n=function(k){var E=f.refs;k===null?delete E[g]:E[g]=k},n._stringRef=g,n)}if(typeof t!="string")throw Error(a(284));if(!s._owner)throw Error(a(290,t))}return t}function $l(t,n){throw t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}function Hf(t){var n=t._init;return n(t._payload)}function If(t){function n(Q,V){if(t){var X=Q.deletions;X===null?(Q.deletions=[V],Q.flags|=16):X.push(V)}}function s(Q,V){if(!t)return null;for(;V!==null;)n(Q,V),V=V.sibling;return null}function l(Q,V){for(Q=new Map;V!==null;)V.key!==null?Q.set(V.key,V):Q.set(V.index,V),V=V.sibling;return Q}function f(Q,V){return Q=ro(Q,V),Q.index=0,Q.sibling=null,Q}function g(Q,V,X){return Q.index=X,t?(X=Q.alternate,X!==null?(X=X.index,X<V?(Q.flags|=2,V):X):(Q.flags|=2,V)):(Q.flags|=1048576,V)}function k(Q){return t&&Q.alternate===null&&(Q.flags|=2),Q}function E(Q,V,X,Se){return V===null||V.tag!==6?(V=ld(X,Q.mode,Se),V.return=Q,V):(V=f(V,X),V.return=Q,V)}function R(Q,V,X,Se){var Ke=X.type;return Ke===I?xe(Q,V,X.props.children,Se,X.key):V!==null&&(V.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$typeof===ze&&Hf(Ke)===V.type)?(Se=f(V,X.props),Se.ref=Fs(Q,V,X),Se.return=Q,Se):(Se=uc(X.type,X.key,X.props,null,Q.mode,Se),Se.ref=Fs(Q,V,X),Se.return=Q,Se)}function Z(Q,V,X,Se){return V===null||V.tag!==4||V.stateNode.containerInfo!==X.containerInfo||V.stateNode.implementation!==X.implementation?(V=cd(X,Q.mode,Se),V.return=Q,V):(V=f(V,X.children||[]),V.return=Q,V)}function xe(Q,V,X,Se,Ke){return V===null||V.tag!==7?(V=_o(X,Q.mode,Se,Ke),V.return=Q,V):(V=f(V,X),V.return=Q,V)}function we(Q,V,X){if(typeof V=="string"&&V!==""||typeof V=="number")return V=ld(""+V,Q.mode,X),V.return=Q,V;if(typeof V=="object"&&V!==null){switch(V.$typeof){case U:return X=uc(V.type,V.key,V.props,null,Q.mode,X),X.ref=Fs(Q,null,V),X.return=Q,X;case H:return V=cd(V,Q.mode,X),V.return=Q,V;case ze:var Se=V._init;return we(Q,Se(V._payload),X)}if(bt(V)||ae(V))return V=_o(V,Q.mode,X,null),V.return=Q,V;$l(Q,V)}return null}function he(Q,V,X,Se){var Ke=V!==null?V.key:null;if(typeof X=="string"&&X!==""||typeof X=="number")return Ke!==null?null:E(Q,V,""+X,Se);if(typeof X=="object"&&X!==null){switch(X.$typeof){case U:return X.key===Ke?R(Q,V,X,Se):null;case H:return X.key===Ke?Z(Q,V,X,Se):null;case ze:return Ke=X._init,he(Q,V,Ke(X._payload),Se)}if(bt(X)||ae(X))return Ke!==null?null:xe(Q,V,X,Se,null);$l(Q,X)}return null}function We(Q,V,X,Se,Ke){if(typeof Se=="string"&&Se!==""||typeof Se=="number")return Q=Q.get(X)||null,E(V,Q,""+Se,Ke);if(typeof Se=="object"&&Se!==null){switch(Se.$typeof){case U:return Q=Q.get(Se.key===null?X:Se.key)||null,R(V,Q,Se,Ke);case H:return Q=Q.get(Se.key===null?X:Se.key)||null,Z(V,Q,Se,Ke);case ze:var it=Se._init;return We(Q,V,X,it(Se._payload),Ke)}if(bt(Se)||ae(Se))return Q=Q.get(X)||null,xe(V,Q,Se,Ke,null);$l(V,Se)}return null}function Be(Q,V,X,Se){for(var Ke=null,it=null,st=V,dt=V=0,Un=null;st!==null&&dt<X.length;dt++){st.index>dt?(Un=st,st=null):Un=st.sibling;var Ht=he(Q,st,X[dt],Se);if(Ht===null){st===null&&(st=Un);break}t&&st&&Ht.alternate===null&&n(Q,st),V=g(Ht,V,dt),it===null?Ke=Ht:it.sibling=Ht,it=Ht,st=Un}if(dt===X.length)return s(Q,st),dn&&jo(Q,dt),Ke;if(st===null){for(;dt<X.length;dt++)st=we(Q,X[dt],Se),st!==null&&(V=g(st,V,dt),it===null?Ke=st:it.sibling=st,it=st);return dn&&jo(Q,dt),Ke}for(st=l(Q,st);dt<X.length;dt++)Un=We(st,Q,dt,X[dt],Se),Un!==null&&(t&&Un.alternate!==null&&st.delete(Un.key===null?dt:Un.key),V=g(Un,V,dt),it===null?Ke=Un:it.sibling=Un,it=Un);return t&&st.forEach(function(ao){return n(Q,ao)}),dn&&jo(Q,dt),Ke}function Ye(Q,V,X,Se){var Ke=ae(X);if(typeof Ke!="function")throw Error(a(150));if(X=Ke.call(X),X==null)throw Error(a(151));for(var it=Ke=null,st=V,dt=V=0,Un=null,Ht=X.next();st!==null&&!Ht.done;dt++,Ht=X.next()){st.index>dt?(Un=st,st=null):Un=st.sibling;var ao=he(Q,st,Ht.value,Se);if(ao===null){st===null&&(st=Un);break}t&&st&&ao.alternate===null&&n(Q,st),V=g(ao,V,dt),it===null?Ke=ao:it.sibling=ao,it=ao,st=Un}if(Ht.done)return s(Q,st),dn&&jo(Q,dt),Ke;if(st===null){for(;!Ht.done;dt++,Ht=X.next())Ht=we(Q,Ht.value,Se),Ht!==null&&(V=g(Ht,V,dt),it===null?Ke=Ht:it.sibling=Ht,it=Ht);return dn&&jo(Q,dt),Ke}for(st=l(Q,st);!Ht.done;dt++,Ht=X.next())Ht=We(st,Q,dt,Ht.value,Se),Ht!==null&&(t&&Ht.alternate!==null&&st.delete(Ht.key===null?dt:Ht.key),V=g(Ht,V,dt),it===null?Ke=Ht:it.sibling=Ht,it=Ht);return t&&st.forEach(function(Ig){return n(Q,Ig)}),dn&&jo(Q,dt),Ke}function Sn(Q,V,X,Se){if(typeof X=="object"&&X!==null&&X.type===I&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$typeof){case U:e:{for(var Ke=X.key,it=V;it!==null;){if(it.key===Ke){if(Ke=X.type,Ke===I){if(it.tag===7){s(Q,it.sibling),V=f(it,X.props.children),V.return=Q,Q=V;break e}}else if(it.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$typeof===ze&&Hf(Ke)===it.type){s(Q,it.sibling),V=f(it,X.props),V.ref=Fs(Q,it,X),V.return=Q,Q=V;break e}s(Q,it);break}else n(Q,it);it=it.sibling}X.type===I?(V=_o(X.props.children,Q.mode,Se,X.key),V.return=Q,Q=V):(Se=uc(X.type,X.key,X.props,null,Q.mode,Se),Se.ref=Fs(Q,V,X),Se.return=Q,Q=Se)}return k(Q);case H:e:{for(it=X.key;V!==null;){if(V.key===it)if(V.tag===4&&V.stateNode.containerInfo===X.containerInfo&&V.stateNode.implementation===X.implementation){s(Q,V.sibling),V=f(V,X.children||[]),V.return=Q,Q=V;break e}else{s(Q,V);break}else n(Q,V);V=V.sibling}V=cd(X,Q.mode,Se),V.return=Q,Q=V}return k(Q);case ze:return it=X._init,Sn(Q,V,it(X._payload),Se)}if(bt(X))return Be(Q,V,X,Se);if(ae(X))return Ye(Q,V,X,Se);$l(Q,X)}return typeof X=="string"&&X!==""||typeof X=="number"?(X=""+X,V!==null&&V.tag===6?(s(Q,V.sibling),V=f(V,X),V.return=Q,Q=V):(s(Q,V),V=ld(X,Q.mode,Se),V.return=Q,Q=V),k(Q)):s(Q,V)}return Sn}var vi=If(!0),Bf=If(!1),Ul=Ya(null),Vl=null,bi=null,yu=null;function vu(){yu=bi=Vl=null}function bu(t){var n=Ul.current;sn(Ul),t._currentValue=n}function wu(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function wi(t,n){Vl=t,yu=bi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&n)!==0&&(pr=!0),t.firstContext=null)}function Nr(t){var n=t._currentValue;if(yu!==t)if(t={context:t,memoizedValue:n,next:null},bi===null){if(Vl===null)throw Error(a(308));bi=t,Vl.dependencies={lanes:0,firstContext:t}}else bi=bi.next=t;return n}var So=null;function Cu(t){So===null?So=[t]:So.push(t)}function Gf(t,n,s,l){var f=n.interleaved;return f===null?(s.next=s,Cu(n)):(s.next=f.next,f.next=s),n.interleaved=s,ba(t,l)}function ba(t,n){t.lanes|=n;var s=t.alternate;for(s!==null&&(s.lanes|=n),s=t,t=t.return;t!==null;)t.childLanes|=n,s=t.alternate,s!==null&&(s.childLanes|=n),s=t,t=t.return;return s.tag===3?s.stateNode:null}var Xa=!1;function ku(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function wa(t,n){return{eventTime:t,lane:n,tag:0,payload:null,callback:null,next:null}}function Ka(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ut&2)!==0){var f=l.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),l.pending=n,ba(t,s)}return f=l.interleaved,f===null?(n.next=n,Cu(l)):(n.next=f.next,f.next=n),l.interleaved=n,ba(t,s)}function Hl(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,je(t,s)}}function Qf(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var f=null,g=null;if(s=s.firstBaseUpdate,s!==null){do{var k={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};g===null?f=g=k:g=g.next=k,s=s.next}while(s!==null);g===null?f=g=n:g=g.next=n}else f=g=n;s={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:l.shared,effects:l.effects},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}function Il(t,n,s,l){var f=t.updateQueue;Xa=!1;var g=f.firstBaseUpdate,k=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var R=E,Z=R.next;R.next=null,k===null?g=Z:k.next=Z,k=R;var xe=t.alternate;xe!==null&&(xe=xe.updateQueue,E=xe.lastBaseUpdate,E!==k&&(E===null?xe.firstBaseUpdate=Z:E.next=Z,xe.lastBaseUpdate=R))}if(g!==null){var we=f.baseState;k=0,xe=Z=R=null,E=g;do{var he=E.lane,We=E.eventTime;if((l&he)===he){xe!==null&&(xe=xe.next={eventTime:We,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var Be=t,Ye=E;switch(he=n,We=s,Ye.tag){case 1:if(Be=Ye.payload,typeof Be=="function"){we=Be.call(We,we,he);break e}we=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=Ye.payload,he=typeof Be=="function"?Be.call(We,we,he):Be,he==null)break e;we=le({},we,he);break e;case 2:Xa=!0}}E.callback!==null&&E.lane!==0&&(t.flags|=64,he=f.effects,he===null?f.effects=[E]:he.push(E))}else We={eventTime:We,lane:he,tag:E.tag,payload:E.payload,callback:E.callback,next:null},xe===null?(Z=xe=We,R=we):xe=xe.next=We,k|=he;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;he=E,E=he.next,he.next=null,f.lastBaseUpdate=he,f.shared.pending=null}}while(!0);if(xe===null&&(R=we),f.baseState=R,f.firstBaseUpdate=Z,f.lastBaseUpdate=xe,n=f.shared.interleaved,n!==null){f=n;do k|=f.lane,f=f.next;while(f!==n)}else g===null&&(f.shared.lanes=0);Lo|=k,t.lanes=k,t.memoizedState=we}}function qf(t,n,s){if(t=n.effects,n.effects=null,t!==null)for(n=0;n<t.length;n++){var l=t[n],f=l.callback;if(f!==null){if(l.callback=null,l=s,typeof f!="function")throw Error(a(191,f));f.call(l)}}}var _s={},ea=Ya(_s),Ts=Ya(_s),zs=Ya(_s);function No(t){if(t===_s)throw Error(a(174));return t}function ju(t,n){switch(an(zs,n),an(Ts,t),an(ea,_s),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Bt(null,"");break;default:t=t===8?n.parentNode:n,n=t.namespaceURI||null,t=t.tagName,n=Bt(n,t)}sn(ea),an(ea,n)}function Ci(){sn(ea),sn(Ts),sn(zs)}function Xf(t){No(zs.current);var n=No(ea.current),s=Bt(n,t.type);n!==s&&(an(Ts,t),an(ea,s))}function Su(t){Ts.current===t&&(sn(ea),sn(Ts))}var pn=Ya(0);function Bl(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Nu=[];function Mu(){for(var t=0;t<Nu.length;t++)Nu[t]._workInProgressVersionPrimary=null;Nu.length=0}var Gl=F.ReactCurrentDispatcher,Lu=F.ReactCurrentBatchConfig,Mo=0,gn=null,zn=null,Wn=null,Yl=!1,As=!1,Ds=0,fg=0;function er(){throw Error(a(321))}function Pu(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!ir(t[s],n[s]))return!1;return!0}function Eu(t,n,s,l,f,g){if(Mo=g,gn=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Gl.current=t===null||t.memoizedState===null?gg:xg,t=s(l,f),As){g=0;do{if(As=!1,Ds=0,25<=g)throw Error(a(301));g+=1,Wn=zn=null,n.updateQueue=null,Gl.current=yg,t=s(l,f)}while(As)}if(Gl.current=Xl,n=zn!==null&&zn.next!==null,Mo=0,Wn=zn=gn=null,Yl=!1,n)throw Error(a(300));return t}function Fu(){var t=Ds!==0;return Ds=0,t}function ta(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wn===null?gn.memoizedState=Wn=t:Wn=Wn.next=t,Wn}function Mr(){if(zn===null){var t=gn.alternate;t=t!==null?t.memoizedState:null}else t=zn.next;var n=Wn===null?gn.memoizedState:Wn.next;if(n!==null)Wn=n,zn=t;else{if(t===null)throw Error(a(310));zn=t,t={memoizedState:zn.memoizedState,baseState:zn.baseState,baseQueue:zn.baseQueue,queue:zn.queue,next:null},Wn===null?gn.memoizedState=Wn=t:Wn=Wn.next=t}return Wn}function Rs(t,n){return typeof n=="function"?n(t):n}function _u(t){var n=Mr(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=zn,f=l.baseQueue,g=s.pending;if(g!==null){if(f!==null){var k=f.next;f.next=g.next,g.next=k}l.baseQueue=f=g,s.pending=null}if(f!==null){g=f.next,l=l.baseState;var E=k=null,R=null,Z=g;do{var xe=Z.lane;if((Mo&xe)===xe)R!==null&&(R=R.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),l=Z.hasEagerState?Z.eagerState:t(l,Z.action);else{var we={lane:xe,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};R===null?(E=R=we,k=l):R=R.next=we,gn.lanes|=xe,Lo|=xe}Z=Z.next}while(Z!==null&&Z!==g);R===null?k=l:R.next=E,ir(l,n.memoizedState)||(pr=!0),n.memoizedState=l,n.baseState=k,n.baseQueue=R,s.lastRenderedState=l}if(t=s.interleaved,t!==null){f=t;do g=f.lane,gn.lanes|=g,Lo|=g,f=f.next;while(f!==t)}else f===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function Tu(t){var n=Mr(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,f=s.pending,g=n.memoizedState;if(f!==null){s.pending=null;var k=f=f.next;do g=t(g,k.action),k=k.next;while(k!==f);ir(g,n.memoizedState)||(pr=!0),n.memoizedState=g,n.baseQueue===null&&(n.baseState=g),s.lastRenderedState=g}return[g,l]}function Kf(){}function Jf(t,n){var s=gn,l=Mr(),f=n(),g=!ir(l.memoizedState,f);if(g&&(l.memoizedState=f,pr=!0),l=l.queue,zu(th.bind(null,s,l,t),[t]),l.getSnapshot!==n||g||Wn!==null&&Wn.memoizedState.tag&1){if(s.flags|=2048,Os(9,eh.bind(null,s,l,f,n),void 0,null),$n===null)throw Error(a(349));(Mo&30)!==0||Zf(s,n,f)}return f}function Zf(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=gn.updateQueue,n===null?(n={lastEffect:null,stores:null},gn.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function eh(t,n,s,l){n.value=s,n.getSnapshot=l,nh(n)&&rh(t)}function th(t,n,s){return s(function(){nh(n)&&rh(t)})}function nh(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!ir(t,s)}catch{return!0}}function rh(t){var n=ba(t,1);n!==null&&Vr(n,t,1,-1)}function ah(t){var n=ta();return typeof t=="function"&&(t=t()),n.memoizedState=n.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:t},n.queue=t,t=t.dispatch=pg.bind(null,gn,t),[n.memoizedState,t]}function Os(t,n,s,l){return t={tag:t,create:n,destroy:s,deps:l,next:null},n=gn.updateQueue,n===null?(n={lastEffect:null,stores:null},gn.updateQueue=n,n.lastEffect=t.next=t):(s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t)),t}function oh(){return Mr().memoizedState}function Ql(t,n,s,l){var f=ta();gn.flags|=t,f.memoizedState=Os(1|n,s,void 0,l===void 0?null:l)}function ql(t,n,s,l){var f=Mr();l=l===void 0?null:l;var g=void 0;if(zn!==null){var k=zn.memoizedState;if(g=k.destroy,l!==null&&Pu(l,k.deps)){f.memoizedState=Os(n,s,g,l);return}}gn.flags|=t,f.memoizedState=Os(1|n,s,g,l)}function ih(t,n){return Ql(8390656,8,t,n)}function zu(t,n){return ql(2048,8,t,n)}function sh(t,n){return ql(4,2,t,n)}function lh(t,n){return ql(4,4,t,n)}function ch(t,n){if(typeof n=="function")return t=t(),n(t),function(){n(null)};if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function uh(t,n,s){return s=s!=null?s.concat([t]):null,ql(4,4,ch.bind(null,n,t),s)}function Au(){}function dh(t,n){var s=Mr();n=n===void 0?null:n;var l=s.memoizedState;return l!==null&&n!==null&&Pu(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function fh(t,n){var s=Mr();n=n===void 0?null:n;var l=s.memoizedState;return l!==null&&n!==null&&Pu(n,l[1])?l[0]:(t=t(),s.memoizedState=[t,n],t)}function hh(t,n,s){return(Mo&21)===0?(t.baseState&&(t.baseState=!1,pr=!0),t.memoizedState=s):(ir(s,n)||(s=un(),gn.lanes|=s,Lo|=s,t.baseState=!0),n)}function hg(t,n){var s=B;B=s!==0&&4>s?s:4,t(!0);var l=Lu.transition;Lu.transition={};try{t(!1),n()}finally{B=s,Lu.transition=l}}function mh(){return Mr().memoizedState}function mg(t,n,s){var l=to(t);if(s={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null},ph(t))gh(n,s);else if(s=Gf(t,n,s,l),s!==null){var f=lr();Vr(s,t,l,f),xh(s,n,l)}}function pg(t,n,s){var l=to(t),f={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null};if(ph(t))gh(n,f);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=n.lastRenderedReducer,g!==null))try{var k=n.lastRenderedState,E=g(k,s);if(f.hasEagerState=!0,f.eagerState=E,ir(E,k)){var R=n.interleaved;R===null?(f.next=f,Cu(n)):(f.next=R.next,R.next=f),n.interleaved=f;return}}catch{}finally{}s=Gf(t,n,f,l),s!==null&&(f=lr(),Vr(s,t,l,f),xh(s,n,l))}}function ph(t){var n=t.alternate;return t===gn||n!==null&&n===gn}function gh(t,n){As=Yl=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function xh(t,n,s){if((s&4194240)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,je(t,s)}}var Xl={readContext:Nr,useCallback:er,useContext:er,useEffect:er,useImperativeHandle:er,useInsertionEffect:er,useLayoutEffect:er,useMemo:er,useReducer:er,useRef:er,useState:er,useDebugValue:er,useDeferredValue:er,useTransition:er,useMutableSource:er,useSyncExternalStore:er,useId:er,unstable_isNewReconciler:!1},gg={readContext:Nr,useCallback:function(t,n){return ta().memoizedState=[t,n===void 0?null:n],t},useContext:Nr,useEffect:ih,useImperativeHandle:function(t,n,s){return s=s!=null?s.concat([t]):null,Ql(4194308,4,ch.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Ql(4194308,4,t,n)},useInsertionEffect:function(t,n){return Ql(4,2,t,n)},useMemo:function(t,n){var s=ta();return n=n===void 0?null:n,t=t(),s.memoizedState=[t,n],t},useReducer:function(t,n,s){var l=ta();return n=s!==void 0?s(n):n,l.memoizedState=l.baseState=n,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},l.queue=t,t=t.dispatch=mg.bind(null,gn,t),[l.memoizedState,t]},useRef:function(t){var n=ta();return t={current:t},n.memoizedState=t},useState:ah,useDebugValue:Au,useDeferredValue:function(t){return ta().memoizedState=t},useTransition:function(){var t=ah(!1),n=t[0];return t=hg.bind(null,t[1]),ta().memoizedState=t,[n,t]},useMutableSource:function(){},useSyncExternalStore:function(t,n,s){var l=gn,f=ta();if(dn){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),$n===null)throw Error(a(349));(Mo&30)!==0||Zf(l,n,s)}f.memoizedState=s;var g={value:s,getSnapshot:n};return f.queue=g,ih(th.bind(null,l,g,t),[t]),l.flags|=2048,Os(9,eh.bind(null,l,g,s,n),void 0,null),s},useId:function(){var t=ta(),n=$n.identifierPrefix;if(dn){var s=va,l=ya;s=(l&~(1<<32-_t(l)-1)).toString(32)+s,n=":"+n+"R"+s,s=Ds++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=fg++,n=":"+n+"r"+s.toString(32)+":";return t.memoizedState=n},unstable_isNewReconciler:!1},xg={readContext:Nr,useCallback:dh,useContext:Nr,useEffect:zu,useImperativeHandle:uh,useInsertionEffect:sh,useLayoutEffect:lh,useMemo:fh,useReducer:_u,useRef:oh,useState:function(){return _u(Rs)},useDebugValue:Au,useDeferredValue:function(t){var n=Mr();return hh(n,zn.memoizedState,t)},useTransition:function(){var t=_u(Rs)[0],n=Mr().memoizedState;return[t,n]},useMutableSource:Kf,useSyncExternalStore:Jf,useId:mh,unstable_isNewReconciler:!1},yg={readContext:Nr,useCallback:dh,useContext:Nr,useEffect:zu,useImperativeHandle:uh,useInsertionEffect:sh,useLayoutEffect:lh,useMemo:fh,useReducer:Tu,useRef:oh,useState:function(){return Tu(Rs)},useDebugValue:Au,useDeferredValue:function(t){var n=Mr();return zn===null?n.memoizedState=t:hh(n,zn.memoizedState,t)},useTransition:function(){var t=Tu(Rs)[0],n=Mr().memoizedState;return[t,n]},useMutableSource:Kf,useSyncExternalStore:Jf,useId:mh,unstable_isNewReconciler:!1};function Wr(t,n){if(t&&t.defaultProps){n=le({},n),t=t.defaultProps;for(var s in t)n[s]===void 0&&(n[s]=t[s]);return n}return n}function Du(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:le({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Kl={isMounted:function(t){return(t=t._reactInternals)?Ft(t)===t:!1},enqueueSetState:function(t,n,s){t=t._reactInternals;var l=lr(),f=to(t),g=wa(l,f);g.payload=n,s!=null&&(g.callback=s),n=Ka(t,g,f),n!==null&&(Vr(n,t,f,l),Hl(n,t,f))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=lr(),f=to(t),g=wa(l,f);g.tag=1,g.payload=n,s!=null&&(g.callback=s),n=Ka(t,g,f),n!==null&&(Vr(n,t,f,l),Hl(n,t,f))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=lr(),l=to(t),f=wa(s,l);f.tag=2,n!=null&&(f.callback=n),n=Ka(t,f,l),n!==null&&(Vr(n,t,l,s),Hl(n,t,l))}};function yh(t,n,s,l,f,g,k){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,g,k):n.prototype&&n.prototype.isPureReactComponent?!$a(s,l)||!$a(f,g):!0}function vh(t,n,s){var l=!1,f=Qa,g=n.contextType;return typeof g=="object"&&g!==null?g=Nr(g):(f=mr(n)?Co:Zn.current,l=n.contextTypes,g=(l=l!=null)?pi(t,f):Qa),n=new n(s,g),t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Kl,t.stateNode=n,n._reactInternals=t,l&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=f,t.__reactInternalMemoizedMaskedChildContext=g),n}function bh(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&Kl.enqueueReplaceState(n,n.state,null)}function Ru(t,n,s,l){var f=t.stateNode;f.props=s,f.state=t.memoizedState,f.refs={},ku(t);var g=n.contextType;typeof g=="object"&&g!==null?f.context=Nr(g):(g=mr(n)?Co:Zn.current,f.context=pi(t,g)),f.state=t.memoizedState,g=n.getDerivedStateFromProps,typeof g=="function"&&(Du(t,n,g,s),f.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(n=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),n!==f.state&&Kl.enqueueReplaceState(f,f.state,null),Il(t,s,f,l),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308)}function ki(t,n){try{var s="",l=n;do s+=be(l),l=l.return;while(l);var f=s}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:t,source:n,stack:f,digest:null}}function Ou(t,n,s){return{value:t,source:null,stack:s??null,digest:n??null}}function Wu(t,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var vg=typeof WeakMap=="function"?WeakMap:Map;function wh(t,n,s){s=wa(-1,s),s.tag=3,s.payload={element:null};var l=n.value;return s.callback=function(){ac||(ac=!0,ed=l),Wu(t,n)},s}function Ch(t,n,s){s=wa(-1,s),s.tag=3;var l=t.type.getDerivedStateFromError;if(typeof l=="function"){var f=n.value;s.payload=function(){return l(f)},s.callback=function(){Wu(t,n)}}var g=t.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(s.callback=function(){Wu(t,n),typeof l!="function"&&(Za===null?Za=new Set([this]):Za.add(this));var k=n.stack;this.componentDidCatch(n.value,{componentStack:k!==null?k:""})}),s}function kh(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new vg;var f=new Set;l.set(n,f)}else f=l.get(n),f===void 0&&(f=new Set,l.set(n,f));f.has(s)||(f.add(s),t=Tg.bind(null,t,n,s),n.then(t,t))}function jh(t){do{var n;if((n=t.tag===13)&&(n=t.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return t;t=t.return}while(t!==null);return null}function Sh(t,n,s,l,f){return(t.mode&1)===0?(t===n?t.flags|=65536:(t.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=wa(-1,1),n.tag=2,Ka(s,n,1))),s.lanes|=1),t):(t.flags|=65536,t.lanes=f,t)}var bg=F.ReactCurrentOwner,pr=!1;function sr(t,n,s,l){n.child=t===null?Bf(n,null,s,l):vi(n,t.child,s,l)}function Nh(t,n,s,l,f){s=s.render;var g=n.ref;return wi(n,f),l=Eu(t,n,s,l,g,f),s=Fu(),t!==null&&!pr?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~f,Ca(t,n,f)):(dn&&s&&hu(n),n.flags|=1,sr(t,n,l,f),n.child)}function Mh(t,n,s,l,f){if(t===null){var g=s.type;return typeof g=="function"&&!sd(g)&&g.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=g,Lh(t,n,g,l,f)):(t=uc(s.type,null,l,n,n.mode,f),t.ref=n.ref,t.return=n,n.child=t)}if(g=t.child,(t.lanes&f)===0){var k=g.memoizedProps;if(s=s.compare,s=s!==null?s:$a,s(k,l)&&t.ref===n.ref)return Ca(t,n,f)}return n.flags|=1,t=ro(g,l),t.ref=n.ref,t.return=n,n.child=t}function Lh(t,n,s,l,f){if(t!==null){var g=t.memoizedProps;if($a(g,l)&&t.ref===n.ref)if(pr=!1,n.pendingProps=l=g,(t.lanes&f)!==0)(t.flags&131072)!==0&&(pr=!0);else return n.lanes=t.lanes,Ca(t,n,f)}return $u(t,n,s,l,f)}function Ph(t,n,s){var l=n.pendingProps,f=l.children,g=t!==null?t.memoizedState:null;if(l.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},an(Si,Cr),Cr|=s;else{if((s&1073741824)===0)return t=g!==null?g.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:t,cachePool:null,transitions:null},n.updateQueue=null,an(Si,Cr),Cr|=t,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=g!==null?g.baseLanes:s,an(Si,Cr),Cr|=l}else g!==null?(l=g.baseLanes|s,n.memoizedState=null):l=s,an(Si,Cr),Cr|=l;return sr(t,n,f,s),n.child}function Eh(t,n){var s=n.ref;(t===null&&s!==null||t!==null&&t.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function $u(t,n,s,l,f){var g=mr(s)?Co:Zn.current;return g=pi(n,g),wi(n,f),s=Eu(t,n,s,l,g,f),l=Fu(),t!==null&&!pr?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~f,Ca(t,n,f)):(dn&&l&&hu(n),n.flags|=1,sr(t,n,s,f),n.child)}function Fh(t,n,s,l,f){if(mr(s)){var g=!0;Al(n)}else g=!1;if(wi(n,f),n.stateNode===null)Zl(t,n),vh(n,s,l),Ru(n,s,l,f),l=!0;else if(t===null){var k=n.stateNode,E=n.memoizedProps;k.props=E;var R=k.context,Z=s.contextType;typeof Z=="object"&&Z!==null?Z=Nr(Z):(Z=mr(s)?Co:Zn.current,Z=pi(n,Z));var xe=s.getDerivedStateFromProps,we=typeof xe=="function"||typeof k.getSnapshotBeforeUpdate=="function";we||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(E!==l||R!==Z)&&bh(n,k,l,Z),Xa=!1;var he=n.memoizedState;k.state=he,Il(n,l,k,f),R=n.memoizedState,E!==l||he!==R||hr.current||Xa?(typeof xe=="function"&&(Du(n,s,xe,l),R=n.memoizedState),(E=Xa||yh(n,s,E,l,he,R,Z))?(we||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(n.flags|=4194308)):(typeof k.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=R),k.props=l,k.state=R,k.context=Z,l=E):(typeof k.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{k=n.stateNode,Yf(t,n),E=n.memoizedProps,Z=n.type===n.elementType?E:Wr(n.type,E),k.props=Z,we=n.pendingProps,he=k.context,R=s.contextType,typeof R=="object"&&R!==null?R=Nr(R):(R=mr(s)?Co:Zn.current,R=pi(n,R));var We=s.getDerivedStateFromProps;(xe=typeof We=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(E!==we||he!==R)&&bh(n,k,l,R),Xa=!1,he=n.memoizedState,k.state=he,Il(n,l,k,f);var Be=n.memoizedState;E!==we||he!==Be||hr.current||Xa?(typeof We=="function"&&(Du(n,s,We,l),Be=n.memoizedState),(Z=Xa||yh(n,s,Z,l,he,Be,R)||!1)?(xe||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(l,Be,R),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(l,Be,R)),typeof k.componentDidUpdate=="function"&&(n.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof k.componentDidUpdate!="function"||E===t.memoizedProps&&he===t.memoizedState||(n.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&he===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Be),k.props=l,k.state=Be,k.context=R,l=Z):(typeof k.componentDidUpdate!="function"||E===t.memoizedProps&&he===t.memoizedState||(n.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&he===t.memoizedState||(n.flags|=1024),l=!1)}return Uu(t,n,s,l,g,f)}function Uu(t,n,s,l,f,g){Eh(t,n);var k=(n.flags&128)!==0;if(!l&&!k)return f&&Df(n,s,!1),Ca(t,n,g);l=n.stateNode,bg.current=n;var E=k&&typeof s.getDerivedStateFromError!="function"?null:l.render();return n.flags|=1,t!==null&&k?(n.child=vi(n,t.child,null,g),n.child=vi(n,null,E,g)):sr(t,n,E,g),n.memoizedState=l.state,f&&Df(n,s,!0),n.child}function _h(t){var n=t.stateNode;n.pendingContext?zf(t,n.pendingContext,n.pendingContext!==n.context):n.context&&zf(t,n.context,!1),ju(t,n.containerInfo)}function Th(t,n,s,l,f){return yi(),xu(f),n.flags|=256,sr(t,n,s,l),n.child}var Vu={dehydrated:null,treeContext:null,retryLane:0};function Hu(t){return{baseLanes:t,cachePool:null,transitions:null}}function zh(t,n,s){var l=n.pendingProps,f=pn.current,g=!1,k=(n.flags&128)!==0,E;if((E=k)||(E=t!==null&&t.memoizedState===null?!1:(f&2)!==0),E?(g=!0,n.flags&=-129):(t===null||t.memoizedState!==null)&&(f|=1),an(pn,f&1),t===null)return gu(n),t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((n.mode&1)===0?n.lanes=1:t.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(k=l.children,t=l.fallback,g?(l=n.mode,g=n.child,k={mode:"hidden",children:k},(l&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=k):g=dc(k,l,0,null),t=_o(t,l,s,null),g.return=n,t.return=n,g.sibling=t,n.child=g,n.child.memoizedState=Hu(s),n.memoizedState=Vu,t):Iu(n,k));if(f=t.memoizedState,f!==null&&(E=f.dehydrated,E!==null))return wg(t,n,k,l,E,f,s);if(g){g=l.fallback,k=n.mode,f=t.child,E=f.sibling;var R={mode:"hidden",children:l.children};return(k&1)===0&&n.child!==f?(l=n.child,l.childLanes=0,l.pendingProps=R,n.deletions=null):(l=ro(f,R),l.subtreeFlags=f.subtreeFlags&14680064),E!==null?g=ro(E,g):(g=_o(g,k,s,null),g.flags|=2),g.return=n,l.return=n,l.sibling=g,n.child=l,l=g,g=n.child,k=t.child.memoizedState,k=k===null?Hu(s):{baseLanes:k.baseLanes|s,cachePool:null,transitions:k.transitions},g.memoizedState=k,g.childLanes=t.childLanes&~s,n.memoizedState=Vu,l}return g=t.child,t=g.sibling,l=ro(g,{mode:"visible",children:l.children}),(n.mode&1)===0&&(l.lanes=s),l.return=n,l.sibling=null,t!==null&&(s=n.deletions,s===null?(n.deletions=[t],n.flags|=16):s.push(t)),n.child=l,n.memoizedState=null,l}function Iu(t,n){return n=dc({mode:"visible",children:n},t.mode,0,null),n.return=t,t.child=n}function Jl(t,n,s,l){return l!==null&&xu(l),vi(n,t.child,null,s),t=Iu(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function wg(t,n,s,l,f,g,k){if(s)return n.flags&256?(n.flags&=-257,l=Ou(Error(a(422))),Jl(t,n,k,l)):n.memoizedState!==null?(n.child=t.child,n.flags|=128,null):(g=l.fallback,f=n.mode,l=dc({mode:"visible",children:l.children},f,0,null),g=_o(g,f,k,null),g.flags|=2,l.return=n,g.return=n,l.sibling=g,n.child=l,(n.mode&1)!==0&&vi(n,t.child,null,k),n.child.memoizedState=Hu(k),n.memoizedState=Vu,g);if((n.mode&1)===0)return Jl(t,n,k,null);if(f.data==="$!"){if(l=f.nextSibling&&f.nextSibling.dataset,l)var E=l.dgst;return l=E,g=Error(a(419)),l=Ou(g,l,void 0),Jl(t,n,k,l)}if(E=(k&t.childLanes)!==0,pr||E){if(l=$n,l!==null){switch(k&-k){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(l.suspendedLanes|k))!==0?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,ba(t,f),Vr(l,t,f,-1))}return id(),l=Ou(Error(a(421))),Jl(t,n,k,l)}return f.data==="$?"?(n.flags|=128,n.child=t.child,n=zg.bind(null,t),f._reactRetry=n,null):(t=g.treeContext,wr=Ga(f.nextSibling),br=n,dn=!0,Or=null,t!==null&&(jr[Sr++]=ya,jr[Sr++]=va,jr[Sr++]=ko,ya=t.id,va=t.overflow,ko=n),n=Iu(n,l.children),n.flags|=4096,n)}function Ah(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),wu(t.return,n,s)}function Bu(t,n,s,l,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=f)}function Dh(t,n,s){var l=n.pendingProps,f=l.revealOrder,g=l.tail;if(sr(t,n,l.children,s),l=pn.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ah(t,s,n);else if(t.tag===19)Ah(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}if(an(pn,l),(n.mode&1)===0)n.memoizedState=null;else switch(f){case"forwards":for(s=n.child,f=null;s!==null;)t=s.alternate,t!==null&&Bl(t)===null&&(f=s),s=s.sibling;s=f,s===null?(f=n.child,n.child=null):(f=s.sibling,s.sibling=null),Bu(n,!1,f,s,g);break;case"backwards":for(s=null,f=n.child,n.child=null;f!==null;){if(t=f.alternate,t!==null&&Bl(t)===null){n.child=f;break}t=f.sibling,f.sibling=s,s=f,f=t}Bu(n,!0,s,null,g);break;case"together":Bu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Zl(t,n){(n.mode&1)===0&&t!==null&&(t.alternate=null,n.alternate=null,n.flags|=2)}function Ca(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Lo|=n.lanes,(s&n.childLanes)===0)return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=ro(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=ro(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Cg(t,n,s){switch(n.tag){case 3:_h(n),yi();break;case 5:Xf(n);break;case 1:mr(n.type)&&Al(n);break;case 4:ju(n,n.stateNode.containerInfo);break;case 10:var l=n.type._context,f=n.memoizedProps.value;an(Ul,l._currentValue),l._currentValue=f;break;case 13:if(l=n.memoizedState,l!==null)return l.dehydrated!==null?(an(pn,pn.current&1),n.flags|=128,null):(s&n.child.childLanes)!==0?zh(t,n,s):(an(pn,pn.current&1),t=Ca(t,n,s),t!==null?t.sibling:null);an(pn,pn.current&1);break;case 19:if(l=(s&n.childLanes)!==0,(t.flags&128)!==0){if(l)return Dh(t,n,s);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),an(pn,pn.current),l)break;return null;case 22:case 23:return n.lanes=0,Ph(t,n,s)}return Ca(t,n,s)}var Rh,Gu,Oh,Wh;Rh=function(t,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},Gu=function(){},Oh=function(t,n,s,l){var f=t.memoizedProps;if(f!==l){t=n.stateNode,No(ea.current);var g=null;switch(s){case"input":f=J(t,f),l=J(t,l),g=[];break;case"select":f=le({},f,{value:void 0}),l=le({},l,{value:void 0}),g=[];break;case"textarea":f=vt(t,f),l=vt(t,l),g=[];break;default:typeof f.onClick!="function"&&typeof l.onClick=="function"&&(t.onclick=di)}Fn(s,l);var k;s=null;for(Z in f)if(!l.hasOwnProperty(Z)&&f.hasOwnProperty(Z)&&f[Z]!=null)if(Z==="style"){var E=f[Z];for(k in E)E.hasOwnProperty(k)&&(s||(s={}),s[k]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(c.hasOwnProperty(Z)?g||(g=[]):(g=g||[]).push(Z,null));for(Z in l){var R=l[Z];if(E=f?.[Z],l.hasOwnProperty(Z)&&R!==E&&(R!=null||E!=null))if(Z==="style")if(E){for(k in E)!E.hasOwnProperty(k)||R&&R.hasOwnProperty(k)||(s||(s={}),s[k]="");for(k in R)R.hasOwnProperty(k)&&E[k]!==R[k]&&(s||(s={}),s[k]=R[k])}else s||(g||(g=[]),g.push(Z,s)),s=R;else Z==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,E=E?E.__html:void 0,R!=null&&E!==R&&(g=g||[]).push(Z,R)):Z==="children"?typeof R!="string"&&typeof R!="number"||(g=g||[]).push(Z,""+R):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(c.hasOwnProperty(Z)?(R!=null&&Z==="onScroll"&&Zt("scroll",t),g||E===R||(g=[])):(g=g||[]).push(Z,R))}s&&(g=g||[]).push("style",s);var Z=g;(n.updateQueue=Z)&&(n.flags|=4)}},Wh=function(t,n,s,l){s!==l&&(n.flags|=4)};function Ws(t,n){if(!dn)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function tr(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var f=t.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags&14680064,l|=f.flags&14680064,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function kg(t,n,s){var l=n.pendingProps;switch(mu(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tr(n),null;case 1:return mr(n.type)&&zl(),tr(n),null;case 3:return l=n.stateNode,Ci(),sn(hr),sn(Zn),Mu(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(Wl(n)?n.flags|=4:t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Or!==null&&(rd(Or),Or=null))),Gu(t,n),tr(n),null;case 5:Su(n);var f=No(zs.current);if(s=n.type,t!==null&&n.stateNode!=null)Oh(t,n,s,l,f),t.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!l){if(n.stateNode===null)throw Error(a(166));return tr(n),null}if(t=No(ea.current),Wl(n)){l=n.stateNode,s=n.type;var g=n.memoizedProps;switch(l[Zr]=n,l[Ps]=g,t=(n.mode&1)!==0,s){case"dialog":Zt("cancel",l),Zt("close",l);break;case"iframe":case"object":case"embed":Zt("load",l);break;case"video":case"audio":for(f=0;f<ma.length;f++)Zt(ma[f],l);break;case"source":Zt("error",l);break;case"img":case"image":case"link":Zt("error",l),Zt("load",l);break;case"details":Zt("toggle",l);break;case"input":me(l,g),Zt("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!g.multiple},Zt("invalid",l);break;case"textarea":ln(l,g),Zt("invalid",l)}Fn(s,g),f=null;for(var k in g)if(g.hasOwnProperty(k)){var E=g[k];k==="children"?typeof E=="string"?l.textContent!==E&&(g.suppressHydrationWarning!==!0&&ui(l.textContent,E,t),f=["children",E]):typeof E=="number"&&l.textContent!==""+E&&(g.suppressHydrationWarning!==!0&&ui(l.textContent,E,t),f=["children",""+E]):c.hasOwnProperty(k)&&E!=null&&k==="onScroll"&&Zt("scroll",l)}switch(s){case"input":q(l),_e(l,g,!0);break;case"textarea":q(l),Yt(l);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(l.onclick=di)}l=f,n.updateQueue=l,l!==null&&(n.flags|=4)}else{k=f.nodeType===9?f:f.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=kt(s)),t==="http://www.w3.org/1999/xhtml"?s==="script"?(t=k.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof l.is=="string"?t=k.createElement(s,{is:l.is}):(t=k.createElement(s),s==="select"&&(k=t,l.multiple?k.multiple=!0:l.size&&(k.size=l.size))):t=k.createElementNS(t,s),t[Zr]=n,t[Ps]=l,Rh(t,n,!1,!1),n.stateNode=t;e:{switch(k=wt(s,l),s){case"dialog":Zt("cancel",t),Zt("close",t),f=l;break;case"iframe":case"object":case"embed":Zt("load",t),f=l;break;case"video":case"audio":for(f=0;f<ma.length;f++)Zt(ma[f],t);f=l;break;case"source":Zt("error",t),f=l;break;case"img":case"image":case"link":Zt("error",t),Zt("load",t),f=l;break;case"details":Zt("toggle",t),f=l;break;case"input":me(t,l),f=J(t,l),Zt("invalid",t);break;case"option":f=l;break;case"select":t._wrapperState={wasMultiple:!!l.multiple},f=le({},l,{value:void 0}),Zt("invalid",t);break;case"textarea":ln(t,l),f=vt(t,l),Zt("invalid",t);break;default:f=l}Fn(s,f),E=f;for(g in E)if(E.hasOwnProperty(g)){var R=E[g];g==="style"?hn(t,R):g==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&tn(t,R)):g==="children"?typeof R=="string"?(s!=="textarea"||R!=="")&&fn(t,R):typeof R=="number"&&fn(t,""+R):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(c.hasOwnProperty(g)?R!=null&&g==="onScroll"&&Zt("scroll",t):R!=null&&W(t,g,R,k))}switch(s){case"input":q(t),_e(t,l,!1);break;case"textarea":q(t),Yt(t);break;case"option":l.value!=null&&t.setAttribute("value",""+ke(l.value));break;case"select":t.multiple=!!l.multiple,g=l.value,g!=null?ft(t,!!l.multiple,g,!1):l.defaultValue!=null&&ft(t,!!l.multiple,l.defaultValue,!0);break;default:typeof f.onClick=="function"&&(t.onclick=di)}switch(s){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return tr(n),null;case 6:if(t&&n.stateNode!=null)Wh(t,n,t.memoizedProps,l);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(s=No(zs.current),No(ea.current),Wl(n)){if(l=n.stateNode,s=n.memoizedProps,l[Zr]=n,(g=l.nodeValue!==s)&&(t=br,t!==null))switch(t.tag){case 3:ui(l.nodeValue,s,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ui(l.nodeValue,s,(t.mode&1)!==0)}g&&(n.flags|=4)}else l=(s.nodeType===9?s:s.ownerDocument).createTextNode(l),l[Zr]=n,n.stateNode=l}return tr(n),null;case 13:if(sn(pn),l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(dn&&wr!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Vf(),yi(),n.flags|=98560,g=!1;else if(g=Wl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!g)throw Error(a(318));if(g=n.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(a(317));g[Zr]=n}else yi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;tr(n),g=!1}else Or!==null&&(rd(Or),Or=null),g=!0;if(!g)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=s,n):(l=l!==null,l!==(t!==null&&t.memoizedState!==null)&&l&&(n.child.flags|=8192,(n.mode&1)!==0&&(t===null||(pn.current&1)!==0?An===0&&(An=3):id())),n.updateQueue!==null&&(n.flags|=4),tr(n),null);case 4:return Ci(),Gu(t,n),t===null&&Ba(n.stateNode.containerInfo),tr(n),null;case 10:return bu(n.type._context),tr(n),null;case 17:return mr(n.type)&&zl(),tr(n),null;case 19:if(sn(pn),g=n.memoizedState,g===null)return tr(n),null;if(l=(n.flags&128)!==0,k=g.rendering,k===null)if(l)Ws(g,!1);else{if(An!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(k=Bl(t),k!==null){for(n.flags|=128,Ws(g,!1),l=k.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),n.subtreeFlags=0,l=s,s=n.child;s!==null;)g=s,t=l,g.flags&=14680066,k=g.alternate,k===null?(g.childLanes=0,g.lanes=t,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=k.childLanes,g.lanes=k.lanes,g.child=k.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=k.memoizedProps,g.memoizedState=k.memoizedState,g.updateQueue=k.updateQueue,g.type=k.type,t=k.dependencies,g.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),s=s.sibling;return an(pn,pn.current&1|2),n.child}t=t.sibling}g.tail!==null&&ie()>Ni&&(n.flags|=128,l=!0,Ws(g,!1),n.lanes=4194304)}else{if(!l)if(t=Bl(k),t!==null){if(n.flags|=128,l=!0,s=t.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),Ws(g,!0),g.tail===null&&g.tailMode==="hidden"&&!k.alternate&&!dn)return tr(n),null}else 2*ie()-g.renderingStartTime>Ni&&s!==1073741824&&(n.flags|=128,l=!0,Ws(g,!1),n.lanes=4194304);g.isBackwards?(k.sibling=n.child,n.child=k):(s=g.last,s!==null?s.sibling=k:n.child=k,g.last=k)}return g.tail!==null?(n=g.tail,g.rendering=n,g.tail=n.sibling,g.renderingStartTime=ie(),n.sibling=null,s=pn.current,an(pn,l?s&1|2:s&1),n):(tr(n),null);case 22:case 23:return od(),l=n.memoizedState!==null,t!==null&&t.memoizedState!==null!==l&&(n.flags|=8192),l&&(n.mode&1)!==0?(Cr&1073741824)!==0&&(tr(n),n.subtreeFlags&6&&(n.flags|=8192)):tr(n),null;case 24:return null;case 25:return null}throw Error(a(156,n.tag))}function jg(t,n){switch(mu(n),n.tag){case 1:return mr(n.type)&&zl(),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ci(),sn(hr),sn(Zn),Mu(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 5:return Su(n),null;case 13:if(sn(pn),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));yi()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return sn(pn),null;case 4:return Ci(),null;case 10:return bu(n.type._context),null;case 22:case 23:return od(),null;case 24:return null;default:return null}}var ec=!1,nr=!1,Sg=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function ji(t,n){var s=t.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(l){Cn(t,n,l)}else s.current=null}function Yu(t,n,s){try{s()}catch(l){Cn(t,n,l)}}var $h=!1;function Ng(t,n){if(Ls=Qr,t=xs(),po(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var f=l.anchorOffset,g=l.focusNode;l=l.focusOffset;try{s.nodeType,g.nodeType}catch{s=null;break e}var k=0,E=-1,R=-1,Z=0,xe=0,we=t,he=null;t:for(;;){for(var We;we!==s||f!==0&&we.nodeType!==3||(E=k+f),we!==g||l!==0&&we.nodeType!==3||(R=k+l),we.nodeType===3&&(k+=we.nodeValue.length),(We=we.firstChild)!==null;)he=we,we=We;for(;;){if(we===t)break t;if(he===s&&++Z===f&&(E=k),he===g&&++xe===l&&(R=k),(We=we.nextSibling)!==null)break;we=he,he=we.parentNode}we=We}s=E===-1||R===-1?null:{start:E,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(ge={focusedElem:t,selectionRange:s},Qr=!1,Ve=n;Ve!==null;)if(n=Ve,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ve=t;else for(;Ve!==null;){n=Ve;try{var Be=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(Be!==null){var Ye=Be.memoizedProps,Sn=Be.memoizedState,Q=n.stateNode,V=Q.getSnapshotBeforeUpdate(n.elementType===n.type?Ye:Wr(n.type,Ye),Sn);Q.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var X=n.stateNode.containerInfo;X.nodeType===1?X.textContent="":X.nodeType===9&&X.documentElement&&X.removeChild(X.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(Se){Cn(n,n.return,Se)}if(t=n.sibling,t!==null){t.return=n.return,Ve=t;break}Ve=n.return}return Be=$h,$h=!1,Be}function $s(t,n,s){var l=n.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var f=l=l.next;do{if((f.tag&t)===t){var g=f.destroy;f.destroy=void 0,g!==void 0&&Yu(n,s,g)}f=f.next}while(f!==l)}}function tc(t,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var l=s.create;s.destroy=l()}s=s.next}while(s!==n)}}function Qu(t){var n=t.ref;if(n!==null){var s=t.stateNode;switch(t.tag){case 5:t=s;break;default:t=s}typeof n=="function"?n(t):n.current=t}}function Uh(t){var n=t.alternate;n!==null&&(t.alternate=null,Uh(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&(delete n[Zr],delete n[Ps],delete n[uu],delete n[lg],delete n[cg])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Vh(t){return t.tag===5||t.tag===3||t.tag===4}function Hh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Vh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qu(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(t,n):s.insertBefore(t,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(t,s)):(n=s,n.appendChild(t)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=di));else if(l!==4&&(t=t.child,t!==null))for(qu(t,n,s),t=t.sibling;t!==null;)qu(t,n,s),t=t.sibling}function Xu(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(t=t.child,t!==null))for(Xu(t,n,s),t=t.sibling;t!==null;)Xu(t,n,s),t=t.sibling}var qn=null,$r=!1;function Ja(t,n,s){for(s=s.child;s!==null;)Ih(t,n,s),s=s.sibling}function Ih(t,n,s){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(Mt,s)}catch{}switch(s.tag){case 5:nr||ji(s,n);case 6:var l=qn,f=$r;qn=null,Ja(t,n,s),qn=l,$r=f,qn!==null&&($r?(t=qn,s=s.stateNode,t.nodeType===8?t.parentNode.removeChild(s):t.removeChild(s)):qn.removeChild(s.stateNode));break;case 18:qn!==null&&($r?(t=qn,s=s.stateNode,t.nodeType===8?cu(t.parentNode,s):t.nodeType===1&&cu(t,s),mn(t)):cu(qn,s.stateNode));break;case 4:l=qn,f=$r,qn=s.stateNode.containerInfo,$r=!0,Ja(t,n,s),qn=l,$r=f;break;case 0:case 11:case 14:case 15:if(!nr&&(l=s.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){f=l=l.next;do{var g=f,k=g.destroy;g=g.tag,k!==void 0&&((g&2)!==0||(g&4)!==0)&&Yu(s,n,k),f=f.next}while(f!==l)}Ja(t,n,s);break;case 1:if(!nr&&(ji(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=s.memoizedProps,l.state=s.memoizedState,l.componentWillUnmount()}catch(E){Cn(s,n,E)}Ja(t,n,s);break;case 21:Ja(t,n,s);break;case 22:s.mode&1?(nr=(l=nr)||s.memoizedState!==null,Ja(t,n,s),nr=l):Ja(t,n,s);break;default:Ja(t,n,s)}}function Bh(t){var n=t.updateQueue;if(n!==null){t.updateQueue=null;var s=t.stateNode;s===null&&(s=t.stateNode=new Sg),n.forEach(function(l){var f=Ag.bind(null,t,l);s.has(l)||(s.add(l),l.then(f,f))})}}function Ur(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var f=s[l];try{var g=t,k=n,E=k;e:for(;E!==null;){switch(E.tag){case 5:qn=E.stateNode,$r=!1;break e;case 3:qn=E.stateNode.containerInfo,$r=!0;break e;case 4:qn=E.stateNode.containerInfo,$r=!0;break e}E=E.return}if(qn===null)throw Error(a(160));Ih(g,k,f),qn=null,$r=!1;var R=f.alternate;R!==null&&(R.return=null),f.return=null}catch(Z){Cn(f,n,Z)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Gh(n,t),n=n.sibling}function Gh(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ur(n,t),na(t),l&4){try{$s(3,t,t.return),tc(3,t)}catch(Ye){Cn(t,t.return,Ye)}try{$s(5,t,t.return)}catch(Ye){Cn(t,t.return,Ye)}}break;case 1:Ur(n,t),na(t),l&512&&s!==null&&ji(s,s.return);break;case 5:if(Ur(n,t),na(t),l&512&&s!==null&&ji(s,s.return),t.flags&32){var f=t.stateNode;try{fn(f,"")}catch(Ye){Cn(t,t.return,Ye)}}if(l&4&&(f=t.stateNode,f!=null)){var g=t.memoizedProps,k=s!==null?s.memoizedProps:g,E=t.type,R=t.updateQueue;if(t.updateQueue=null,R!==null)try{E==="input"&&g.type==="radio"&&g.name!=null&&ye(f,g),wt(E,k);var Z=wt(E,g);for(k=0;k<R.length;k+=2){var xe=R[k],we=R[k+1];xe==="style"?hn(f,we):xe==="dangerouslySetInnerHTML"?tn(f,we):xe==="children"?fn(f,we):W(f,xe,we,Z)}switch(E){case"input":Ue(f,g);break;case"textarea":$t(f,g);break;case"select":var he=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var We=g.value;We!=null?ft(f,!!g.multiple,We,!1):he!==!!g.multiple&&(g.defaultValue!=null?ft(f,!!g.multiple,g.defaultValue,!0):ft(f,!!g.multiple,g.multiple?[]:"",!1))}f[Ps]=g}catch(Ye){Cn(t,t.return,Ye)}}break;case 6:if(Ur(n,t),na(t),l&4){if(t.stateNode===null)throw Error(a(162));f=t.stateNode,g=t.memoizedProps;try{f.nodeValue=g}catch(Ye){Cn(t,t.return,Ye)}}break;case 3:if(Ur(n,t),na(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{mn(n.containerInfo)}catch(Ye){Cn(t,t.return,Ye)}break;case 4:Ur(n,t),na(t);break;case 13:Ur(n,t),na(t),f=t.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(Zu=ie())),l&4&&Bh(t);break;case 22:if(xe=s!==null&&s.memoizedState!==null,t.mode&1?(nr=(Z=nr)||xe,Ur(n,t),nr=Z):Ur(n,t),na(t),l&8192){if(Z=t.memoizedState!==null,(t.stateNode.isHidden=Z)&&!xe&&(t.mode&1)!==0)for(Ve=t,xe=t.child;xe!==null;){for(we=Ve=xe;Ve!==null;){switch(he=Ve,We=he.child,he.tag){case 0:case 11:case 14:case 15:$s(4,he,he.return);break;case 1:ji(he,he.return);var Be=he.stateNode;if(typeof Be.componentWillUnmount=="function"){l=he,s=he.return;try{n=l,Be.props=n.memoizedProps,Be.state=n.memoizedState,Be.componentWillUnmount()}catch(Ye){Cn(l,s,Ye)}}break;case 5:ji(he,he.return);break;case 22:if(he.memoizedState!==null){qh(we);continue}}We!==null?(We.return=he,Ve=We):qh(we)}xe=xe.sibling}e:for(xe=null,we=t;;){if(we.tag===5){if(xe===null){xe=we;try{f=we.stateNode,Z?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(E=we.stateNode,R=we.memoizedProps.style,k=R!=null&&R.hasOwnProperty("display")?R.display:null,E.style.display=vn("display",k))}catch(Ye){Cn(t,t.return,Ye)}}}else if(we.tag===6){if(xe===null)try{we.stateNode.nodeValue=Z?"":we.memoizedProps}catch(Ye){Cn(t,t.return,Ye)}}else if((we.tag!==22&&we.tag!==23||we.memoizedState===null||we===t)&&we.child!==null){we.child.return=we,we=we.child;continue}if(we===t)break e;for(;we.sibling===null;){if(we.return===null||we.return===t)break e;xe===we&&(xe=null),we=we.return}xe===we&&(xe=null),we.sibling.return=we.return,we=we.sibling}}break;case 19:Ur(n,t),na(t),l&4&&Bh(t);break;case 21:break;default:Ur(n,t),na(t)}}function na(t){var n=t.flags;if(n&2){try{e:{for(var s=t.return;s!==null;){if(Vh(s)){var l=s;break e}s=s.return}throw Error(a(160))}switch(l.tag){case 5:var f=l.stateNode;l.flags&32&&(fn(f,""),l.flags&=-33);var g=Hh(t);Xu(t,g,f);break;case 3:case 4:var k=l.stateNode.containerInfo,E=Hh(t);qu(t,E,k);break;default:throw Error(a(161))}}catch(R){Cn(t,t.return,R)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Mg(t,n,s){Ve=t,Yh(t)}function Yh(t,n,s){for(var l=(t.mode&1)!==0;Ve!==null;){var f=Ve,g=f.child;if(f.tag===22&&l){var k=f.memoizedState!==null||ec;if(!k){var E=f.alternate,R=E!==null&&E.memoizedState!==null||nr;E=ec;var Z=nr;if(ec=k,(nr=R)&&!Z)for(Ve=f;Ve!==null;)k=Ve,R=k.child,k.tag===22&&k.memoizedState!==null?Xh(f):R!==null?(R.return=k,Ve=R):Xh(f);for(;g!==null;)Ve=g,Yh(g),g=g.sibling;Ve=f,ec=E,nr=Z}Qh(t)}else(f.subtreeFlags&8772)!==0&&g!==null?(g.return=f,Ve=g):Qh(t)}}function Qh(t){for(;Ve!==null;){var n=Ve;if((n.flags&8772)!==0){var s=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:nr||tc(5,n);break;case 1:var l=n.stateNode;if(n.flags&4&&!nr)if(s===null)l.componentDidMount();else{var f=n.elementType===n.type?s.memoizedProps:Wr(n.type,s.memoizedProps);l.componentDidUpdate(f,s.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var g=n.updateQueue;g!==null&&qf(n,g,l);break;case 3:var k=n.updateQueue;if(k!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}qf(n,k,s)}break;case 5:var E=n.stateNode;if(s===null&&n.flags&4){s=E;var R=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&s.focus();break;case"img":R.src&&(s.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var Z=n.alternate;if(Z!==null){var xe=Z.memoizedState;if(xe!==null){var we=xe.dehydrated;we!==null&&mn(we)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}nr||n.flags&512&&Qu(n)}catch(he){Cn(n,n.return,he)}}if(n===t){Ve=null;break}if(s=n.sibling,s!==null){s.return=n.return,Ve=s;break}Ve=n.return}}function qh(t){for(;Ve!==null;){var n=Ve;if(n===t){Ve=null;break}var s=n.sibling;if(s!==null){s.return=n.return,Ve=s;break}Ve=n.return}}function Xh(t){for(;Ve!==null;){var n=Ve;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{tc(4,n)}catch(R){Cn(n,s,R)}break;case 1:var l=n.stateNode;if(typeof l.componentDidMount=="function"){var f=n.return;try{l.componentDidMount()}catch(R){Cn(n,f,R)}}var g=n.return;try{Qu(n)}catch(R){Cn(n,g,R)}break;case 5:var k=n.return;try{Qu(n)}catch(R){Cn(n,k,R)}}}catch(R){Cn(n,n.return,R)}if(n===t){Ve=null;break}var E=n.sibling;if(E!==null){E.return=n.return,Ve=E;break}Ve=n.return}}var Lg=Math.ceil,nc=F.ReactCurrentDispatcher,Ku=F.ReactCurrentOwner,Lr=F.ReactCurrentBatchConfig,Ut=0,$n=null,En=null,Xn=0,Cr=0,Si=Ya(0),An=0,Us=null,Lo=0,rc=0,Ju=0,Vs=null,gr=null,Zu=0,Ni=1/0,ka=null,ac=!1,ed=null,Za=null,oc=!1,eo=null,ic=0,Hs=0,td=null,sc=-1,lc=0;function lr(){return(Ut&6)!==0?ie():sc!==-1?sc:sc=ie()}function to(t){return(t.mode&1)===0?1:(Ut&2)!==0&&Xn!==0?Xn&-Xn:dg.transition!==null?(lc===0&&(lc=un()),lc):(t=B,t!==0||(t=window.event,t=t===void 0?16:fr(t.type)),t)}function Vr(t,n,s,l){if(50<Hs)throw Hs=0,td=null,Error(a(185));At(t,s,l),((Ut&2)===0||t!==$n)&&(t===$n&&((Ut&2)===0&&(rc|=s),An===4&&no(t,Xn)),xr(t,l),s===1&&Ut===0&&(n.mode&1)===0&&(Ni=ie()+500,Dl&&qa()))}function xr(t,n){var s=t.callbackNode;Jn(t,n);var l=qe(t,t===$n?Xn:0);if(l===0)s!==null&&ur(s),t.callbackNode=null,t.callbackPriority=0;else if(n=l&-l,t.callbackPriority!==n){if(s!=null&&ur(s),n===1)t.tag===0?ug(Jh.bind(null,t)):Rf(Jh.bind(null,t)),ig(function(){(Ut&6)===0&&qa()}),s=null;else{switch(De(l)){case 1:s=$e;break;case 4:s=Ot;break;case 16:s=jt;break;case 536870912:s=Wt;break;default:s=jt}s=im(s,Kh.bind(null,t))}t.callbackPriority=n,t.callbackNode=s}}function Kh(t,n){if(sc=-1,lc=0,(Ut&6)!==0)throw Error(a(327));var s=t.callbackNode;if(Mi()&&t.callbackNode!==s)return null;var l=qe(t,t===$n?Xn:0);if(l===0)return null;if((l&30)!==0||(l&t.expiredLanes)!==0||n)n=cc(t,l);else{n=l;var f=Ut;Ut|=2;var g=em();($n!==t||Xn!==n)&&(ka=null,Ni=ie()+500,Eo(t,n));do try{Fg();break}catch(E){Zh(t,E)}while(!0);vu(),nc.current=g,Ut=f,En!==null?n=0:($n=null,Xn=0,n=An)}if(n!==0){if(n===2&&(f=Ct(t),f!==0&&(l=f,n=nd(t,f))),n===1)throw s=Us,Eo(t,0),no(t,l),xr(t,ie()),s;if(n===6)no(t,l);else{if(f=t.current.alternate,(l&30)===0&&!Pg(f)&&(n=cc(t,l),n===2&&(g=Ct(t),g!==0&&(l=g,n=nd(t,g))),n===1))throw s=Us,Eo(t,0),no(t,l),xr(t,ie()),s;switch(t.finishedWork=f,t.finishedLanes=l,n){case 0:case 1:throw Error(a(345));case 2:Fo(t,gr,ka);break;case 3:if(no(t,l),(l&130023424)===l&&(n=Zu+500-ie(),10<n)){if(qe(t,0)!==0)break;if(f=t.suspendedLanes,(f&l)!==l){lr(),t.pingedLanes|=t.suspendedLanes&f;break}t.timeoutHandle=$(Fo.bind(null,t,gr,ka),n);break}Fo(t,gr,ka);break;case 4:if(no(t,l),(l&4194240)===l)break;for(n=t.eventTimes,f=-1;0<l;){var k=31-_t(l);g=1<<k,k=n[k],k>f&&(f=k),l&=~g}if(l=f,l=ie()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*Lg(l/1960))-l,10<l){t.timeoutHandle=$(Fo.bind(null,t,gr,ka),l);break}Fo(t,gr,ka);break;case 5:Fo(t,gr,ka);break;default:throw Error(a(329))}}}return xr(t,ie()),t.callbackNode===s?Kh.bind(null,t):null}function nd(t,n){var s=Vs;return t.current.memoizedState.isDehydrated&&(Eo(t,n).flags|=256),t=cc(t,n),t!==2&&(n=gr,gr=s,n!==null&&rd(n)),t}function rd(t){gr===null?gr=t:gr.push.apply(gr,t)}function Pg(t){for(var n=t;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var l=0;l<s.length;l++){var f=s[l],g=f.getSnapshot;f=f.value;try{if(!ir(g(),f))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function no(t,n){for(n&=~Ju,n&=~rc,t.suspendedLanes|=n,t.pingedLanes&=~n,t=t.expirationTimes;0<n;){var s=31-_t(n),l=1<<s;t[s]=-1,n&=~l}}function Jh(t){if((Ut&6)!==0)throw Error(a(327));Mi();var n=qe(t,0);if((n&1)===0)return xr(t,ie()),null;var s=cc(t,n);if(t.tag!==0&&s===2){var l=Ct(t);l!==0&&(n=l,s=nd(t,l))}if(s===1)throw s=Us,Eo(t,0),no(t,n),xr(t,ie()),s;if(s===6)throw Error(a(345));return t.finishedWork=t.current.alternate,t.finishedLanes=n,Fo(t,gr,ka),xr(t,ie()),null}function ad(t,n){var s=Ut;Ut|=1;try{return t(n)}finally{Ut=s,Ut===0&&(Ni=ie()+500,Dl&&qa())}}function Po(t){eo!==null&&eo.tag===0&&(Ut&6)===0&&Mi();var n=Ut;Ut|=1;var s=Lr.transition,l=B;try{if(Lr.transition=null,B=1,t)return t()}finally{B=l,Lr.transition=s,Ut=n,(Ut&6)===0&&qa()}}function od(){Cr=Si.current,sn(Si)}function Eo(t,n){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;if(s!==-1&&(t.timeoutHandle=-1,og(s)),En!==null)for(s=En.return;s!==null;){var l=s;switch(mu(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&zl();break;case 3:Ci(),sn(hr),sn(Zn),Mu();break;case 5:Su(l);break;case 4:Ci();break;case 13:sn(pn);break;case 19:sn(pn);break;case 10:bu(l.type._context);break;case 22:case 23:od()}s=s.return}if($n=t,En=t=ro(t.current,null),Xn=Cr=n,An=0,Us=null,Ju=rc=Lo=0,gr=Vs=null,So!==null){for(n=0;n<So.length;n++)if(s=So[n],l=s.interleaved,l!==null){s.interleaved=null;var f=l.next,g=s.pending;if(g!==null){var k=g.next;g.next=f,l.next=k}s.pending=l}So=null}return t}function Zh(t,n){do{var s=En;try{if(vu(),Gl.current=Xl,Yl){for(var l=gn.memoizedState;l!==null;){var f=l.queue;f!==null&&(f.pending=null),l=l.next}Yl=!1}if(Mo=0,Wn=zn=gn=null,As=!1,Ds=0,Ku.current=null,s===null||s.return===null){An=1,Us=n,En=null;break}e:{var g=t,k=s.return,E=s,R=n;if(n=Xn,E.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var Z=R,xe=E,we=xe.tag;if((xe.mode&1)===0&&(we===0||we===11||we===15)){var he=xe.alternate;he?(xe.updateQueue=he.updateQueue,xe.memoizedState=he.memoizedState,xe.lanes=he.lanes):(xe.updateQueue=null,xe.memoizedState=null)}var We=jh(k);if(We!==null){We.flags&=-257,Sh(We,k,E,g,n),We.mode&1&&kh(g,Z,n),n=We,R=Z;var Be=n.updateQueue;if(Be===null){var Ye=new Set;Ye.add(R),n.updateQueue=Ye}else Be.add(R);break e}else{if((n&1)===0){kh(g,Z,n),id();break e}R=Error(a(426))}}else if(dn&&E.mode&1){var Sn=jh(k);if(Sn!==null){(Sn.flags&65536)===0&&(Sn.flags|=256),Sh(Sn,k,E,g,n),xu(ki(R,E));break e}}g=R=ki(R,E),An!==4&&(An=2),Vs===null?Vs=[g]:Vs.push(g),g=k;do{switch(g.tag){case 3:g.flags|=65536,n&=-n,g.lanes|=n;var Q=wh(g,R,n);Qf(g,Q);break e;case 1:E=R;var V=g.type,X=g.stateNode;if((g.flags&128)===0&&(typeof V.getDerivedStateFromError=="function"||X!==null&&typeof X.componentDidCatch=="function"&&(Za===null||!Za.has(X)))){g.flags|=65536,n&=-n,g.lanes|=n;var Se=Ch(g,E,n);Qf(g,Se);break e}}g=g.return}while(g!==null)}nm(s)}catch(Ke){n=Ke,En===s&&s!==null&&(En=s=s.return);continue}break}while(!0)}function em(){var t=nc.current;return nc.current=Xl,t===null?Xl:t}function id(){(An===0||An===3||An===2)&&(An=4),$n===null||(Lo&268435455)===0&&(rc&268435455)===0||no($n,Xn)}function cc(t,n){var s=Ut;Ut|=2;var l=em();($n!==t||Xn!==n)&&(ka=null,Eo(t,n));do try{Eg();break}catch(f){Zh(t,f)}while(!0);if(vu(),Ut=s,nc.current=l,En!==null)throw Error(a(261));return $n=null,Xn=0,An}function Eg(){for(;En!==null;)tm(En)}function Fg(){for(;En!==null&&!L();)tm(En)}function tm(t){var n=om(t.alternate,t,Cr);t.memoizedProps=t.pendingProps,n===null?nm(t):En=n,Ku.current=null}function nm(t){var n=t;do{var s=n.alternate;if(t=n.return,(n.flags&32768)===0){if(s=kg(s,n,Cr),s!==null){En=s;return}}else{if(s=jg(s,n),s!==null){s.flags&=32767,En=s;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{An=6,En=null;return}}if(n=n.sibling,n!==null){En=n;return}En=n=t}while(n!==null);An===0&&(An=5)}function Fo(t,n,s){var l=B,f=Lr.transition;try{Lr.transition=null,B=1,_g(t,n,s,l)}finally{Lr.transition=f,B=l}return null}function _g(t,n,s,l){do Mi();while(eo!==null);if((Ut&6)!==0)throw Error(a(327));s=t.finishedWork;var f=t.finishedLanes;if(s===null)return null;if(t.finishedWork=null,t.finishedLanes=0,s===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0;var g=s.lanes|s.childLanes;if(ce(t,g),t===$n&&(En=$n=null,Xn=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||oc||(oc=!0,im(jt,function(){return Mi(),null})),g=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||g){g=Lr.transition,Lr.transition=null;var k=B;B=1;var E=Ut;Ut|=4,Ku.current=null,Ng(t,s),Gh(s,t),Ll(ge),Qr=!!Ls,ge=Ls=null,t.current=s,Mg(s),fe(),Ut=E,B=k,Lr.transition=g}else t.current=s;if(oc&&(oc=!1,eo=t,ic=f),g=t.pendingLanes,g===0&&(Za=null),Kt(s.stateNode),xr(t,ie()),n!==null)for(l=t.onRecoverableError,s=0;s<n.length;s++)f=n[s],l(f.value,{componentStack:f.stack,digest:f.digest});if(ac)throw ac=!1,t=ed,ed=null,t;return(ic&1)!==0&&t.tag!==0&&Mi(),g=t.pendingLanes,(g&1)!==0?t===td?Hs++:(Hs=0,td=t):Hs=0,qa(),null}function Mi(){if(eo!==null){var t=De(ic),n=Lr.transition,s=B;try{if(Lr.transition=null,B=16>t?16:t,eo===null)var l=!1;else{if(t=eo,eo=null,ic=0,(Ut&6)!==0)throw Error(a(331));var f=Ut;for(Ut|=4,Ve=t.current;Ve!==null;){var g=Ve,k=g.child;if((Ve.flags&16)!==0){var E=g.deletions;if(E!==null){for(var R=0;R<E.length;R++){var Z=E[R];for(Ve=Z;Ve!==null;){var xe=Ve;switch(xe.tag){case 0:case 11:case 15:$s(8,xe,g)}var we=xe.child;if(we!==null)we.return=xe,Ve=we;else for(;Ve!==null;){xe=Ve;var he=xe.sibling,We=xe.return;if(Uh(xe),xe===Z){Ve=null;break}if(he!==null){he.return=We,Ve=he;break}Ve=We}}}var Be=g.alternate;if(Be!==null){var Ye=Be.child;if(Ye!==null){Be.child=null;do{var Sn=Ye.sibling;Ye.sibling=null,Ye=Sn}while(Ye!==null)}}Ve=g}}if((g.subtreeFlags&2064)!==0&&k!==null)k.return=g,Ve=k;else e:for(;Ve!==null;){if(g=Ve,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:$s(9,g,g.return)}var Q=g.sibling;if(Q!==null){Q.return=g.return,Ve=Q;break e}Ve=g.return}}var V=t.current;for(Ve=V;Ve!==null;){k=Ve;var X=k.child;if((k.subtreeFlags&2064)!==0&&X!==null)X.return=k,Ve=X;else e:for(k=V;Ve!==null;){if(E=Ve,(E.flags&2048)!==0)try{switch(E.tag){case 0:case 11:case 15:tc(9,E)}}catch(Ke){Cn(E,E.return,Ke)}if(E===k){Ve=null;break e}var Se=E.sibling;if(Se!==null){Se.return=E.return,Ve=Se;break e}Ve=E.return}}if(Ut=f,qa(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(Mt,t)}catch{}l=!0}return l}finally{B=s,Lr.transition=n}}return!1}function rm(t,n,s){n=ki(s,n),n=wh(t,n,1),t=Ka(t,n,1),n=lr(),t!==null&&(At(t,1,n),xr(t,n))}function Cn(t,n,s){if(t.tag===3)rm(t,t,s);else for(;n!==null;){if(n.tag===3){rm(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Za===null||!Za.has(l))){t=ki(s,t),t=Ch(n,t,1),n=Ka(n,t,1),t=lr(),n!==null&&(At(n,1,t),xr(n,t));break}}n=n.return}}function Tg(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),n=lr(),t.pingedLanes|=t.suspendedLanes&s,$n===t&&(Xn&s)===s&&(An===4||An===3&&(Xn&130023424)===Xn&&500>ie()-Zu?Eo(t,0):Ju|=s),xr(t,n)}function am(t,n){n===0&&((t.mode&1)===0?n=1:(n=jn,jn<<=1,(jn&130023424)===0&&(jn=4194304)));var s=lr();t=ba(t,n),t!==null&&(At(t,n,s),xr(t,s))}function zg(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),am(t,s)}function Ag(t,n){var s=0;switch(t.tag){case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(s=f.retryLane);break;case 19:l=t.stateNode;break;default:throw Error(a(314))}l!==null&&l.delete(n),am(t,s)}var om;om=function(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps||hr.current)pr=!0;else{if((t.lanes&s)===0&&(n.flags&128)===0)return pr=!1,Cg(t,n,s);pr=(t.flags&131072)!==0}else pr=!1,dn&&(n.flags&1048576)!==0&&Of(n,Ol,n.index);switch(n.lanes=0,n.tag){case 2:var l=n.type;Zl(t,n),t=n.pendingProps;var f=pi(n,Zn.current);wi(n,s),f=Eu(null,n,l,t,f,s);var g=Fu();return n.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,mr(l)?(g=!0,Al(n)):g=!1,n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,ku(n),f.updater=Kl,n.stateNode=f,f._reactInternals=n,Ru(n,l,t,s),n=Uu(null,n,l,!0,g,s)):(n.tag=0,dn&&g&&hu(n),sr(null,n,f,s),n=n.child),n;case 16:l=n.elementType;e:{switch(Zl(t,n),t=n.pendingProps,f=l._init,l=f(l._payload),n.type=l,f=n.tag=Rg(l),t=Wr(l,t),f){case 0:n=$u(null,n,l,t,s);break e;case 1:n=Fh(null,n,l,t,s);break e;case 11:n=Nh(null,n,l,t,s);break e;case 14:n=Mh(null,n,l,Wr(l.type,t),s);break e}throw Error(a(306,l,""))}return n;case 0:return l=n.type,f=n.pendingProps,f=n.elementType===l?f:Wr(l,f),$u(t,n,l,f,s);case 1:return l=n.type,f=n.pendingProps,f=n.elementType===l?f:Wr(l,f),Fh(t,n,l,f,s);case 3:e:{if(_h(n),t===null)throw Error(a(387));l=n.pendingProps,g=n.memoizedState,f=g.element,Yf(t,n),Il(n,l,null,s);var k=n.memoizedState;if(l=k.element,g.isDehydrated)if(g={element:l,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},n.updateQueue.baseState=g,n.memoizedState=g,n.flags&256){f=ki(Error(a(423)),n),n=Th(t,n,l,s,f);break e}else if(l!==f){f=ki(Error(a(424)),n),n=Th(t,n,l,s,f);break e}else for(wr=Ga(n.stateNode.containerInfo.firstChild),br=n,dn=!0,Or=null,s=Bf(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(yi(),l===f){n=Ca(t,n,s);break e}sr(t,n,l,s)}n=n.child}return n;case 5:return Xf(n),t===null&&gu(n),l=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,k=f.children,Rr(l,f)?k=null:g!==null&&Rr(l,g)&&(n.flags|=32),Eh(t,n),sr(t,n,k,s),n.child;case 6:return t===null&&gu(n),null;case 13:return zh(t,n,s);case 4:return ju(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=vi(n,null,l,s):sr(t,n,l,s),n.child;case 11:return l=n.type,f=n.pendingProps,f=n.elementType===l?f:Wr(l,f),Nh(t,n,l,f,s);case 7:return sr(t,n,n.pendingProps,s),n.child;case 8:return sr(t,n,n.pendingProps.children,s),n.child;case 12:return sr(t,n,n.pendingProps.children,s),n.child;case 10:e:{if(l=n.type._context,f=n.pendingProps,g=n.memoizedProps,k=f.value,an(Ul,l._currentValue),l._currentValue=k,g!==null)if(ir(g.value,k)){if(g.children===f.children&&!hr.current){n=Ca(t,n,s);break e}}else for(g=n.child,g!==null&&(g.return=n);g!==null;){var E=g.dependencies;if(E!==null){k=g.child;for(var R=E.firstContext;R!==null;){if(R.context===l){if(g.tag===1){R=wa(-1,s&-s),R.tag=2;var Z=g.updateQueue;if(Z!==null){Z=Z.shared;var xe=Z.pending;xe===null?R.next=R:(R.next=xe.next,xe.next=R),Z.pending=R}}g.lanes|=s,R=g.alternate,R!==null&&(R.lanes|=s),wu(g.return,s,n),E.lanes|=s;break}R=R.next}}else if(g.tag===10)k=g.type===n.type?null:g.child;else if(g.tag===18){if(k=g.return,k===null)throw Error(a(341));k.lanes|=s,E=k.alternate,E!==null&&(E.lanes|=s),wu(k,s,n),k=g.sibling}else k=g.child;if(k!==null)k.return=g;else for(k=g;k!==null;){if(k===n){k=null;break}if(g=k.sibling,g!==null){g.return=k.return,k=g;break}k=k.return}g=k}sr(t,n,f.children,s),n=n.child}return n;case 9:return f=n.type,l=n.pendingProps.children,wi(n,s),f=Nr(f),l=l(f),n.flags|=1,sr(t,n,l,s),n.child;case 14:return l=n.type,f=Wr(l,n.pendingProps),f=Wr(l.type,f),Mh(t,n,l,f,s);case 15:return Lh(t,n,n.type,n.pendingProps,s);case 17:return l=n.type,f=n.pendingProps,f=n.elementType===l?f:Wr(l,f),Zl(t,n),n.tag=1,mr(l)?(t=!0,Al(n)):t=!1,wi(n,s),vh(n,l,f),Ru(n,l,f,s),Uu(null,n,l,!0,t,s);case 19:return Dh(t,n,s);case 22:return Ph(t,n,s)}throw Error(a(156,n.tag))};function im(t,n){return Xt(t,n)}function Dg(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pr(t,n,s,l){return new Dg(t,n,s,l)}function sd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Rg(t){if(typeof t=="function")return sd(t)?1:0;if(t!=null){if(t=t.$typeof,t===G)return 11;if(t===w)return 14}return 2}function ro(t,n){var s=t.alternate;return s===null?(s=Pr(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&14680064,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s}function uc(t,n,s,l,f,g){var k=2;if(l=t,typeof t=="function")sd(t)&&(k=1);else if(typeof t=="string")k=5;else e:switch(t){case I:return _o(s.children,f,g,n);case N:k=8,f|=8;break;case P:return t=Pr(12,s,n,f|2),t.elementType=P,t.lanes=g,t;case te:return t=Pr(13,s,n,f),t.elementType=te,t.lanes=g,t;case ee:return t=Pr(19,s,n,f),t.elementType=ee,t.lanes=g,t;case ve:return dc(s,f,g,n);default:if(typeof t=="object"&&t!==null)switch(t.$typeof){case M:k=10;break e;case A:k=9;break e;case G:k=11;break e;case w:k=14;break e;case ze:k=16,l=null;break e}throw Error(a(130,t==null?t:typeof t,""))}return n=Pr(k,s,n,f),n.elementType=t,n.type=l,n.lanes=g,n}function _o(t,n,s,l){return t=Pr(7,t,l,n),t.lanes=s,t}function dc(t,n,s,l){return t=Pr(22,t,l,n),t.elementType=ve,t.lanes=s,t.stateNode={isHidden:!1},t}function ld(t,n,s){return t=Pr(6,t,null,n),t.lanes=s,t}function cd(t,n,s){return n=Pr(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Og(t,n,s,l,f){this.tag=n,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=or(0),this.expirationTimes=or(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=or(0),this.identifierPrefix=l,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function ud(t,n,s,l,f,g,k,E,R){return t=new Og(t,n,s,E,R),n===1?(n=1,g===!0&&(n|=8)):n=0,g=Pr(3,null,null,n),t.current=g,g.stateNode=t,g.memoizedState={element:l,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},ku(g),t}function Wg(t,n,s){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$typeof:H,key:l==null?null:""+l,children:t,containerInfo:n,implementation:s}}function sm(t){if(!t)return Qa;t=t._reactInternals;e:{if(Ft(t)!==t||t.tag!==1)throw Error(a(170));var n=t;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(mr(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(a(171))}if(t.tag===1){var s=t.type;if(mr(s))return Af(t,s,n)}return n}function lm(t,n,s,l,f,g,k,E,R){return t=ud(s,l,!0,t,f,g,k,E,R),t.context=sm(null),s=t.current,l=lr(),f=to(s),g=wa(l,f),g.callback=n??null,Ka(s,g,f),t.current.lanes=f,At(t,f,l),xr(t,l),t}function fc(t,n,s,l){var f=n.current,g=lr(),k=to(f);return s=sm(s),n.context===null?n.context=s:n.pendingContext=s,n=wa(g,k),n.payload={element:t},l=l===void 0?null:l,l!==null&&(n.callback=l),t=Ka(f,n,k),t!==null&&(Vr(t,f,k,g),Hl(t,f,k)),k}function hc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function cm(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function dd(t,n){cm(t,n),(t=t.alternate)&&cm(t,n)}function $g(){return null}var um=typeof reportError=="function"?reportError:function(t){console.error(t)};function fd(t){this._internalRoot=t}mc.prototype.render=fd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));fc(t,n,null,null)},mc.prototype.unmount=fd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Po(function(){fc(null,t,null,null)}),n[ga]=null}};function mc(t){this._internalRoot=t}mc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Oe();t={blockedOn:null,target:t,priority:n};for(var s=0;s<tt.length&&n!==0&&n<tt[s].priority;s++);tt.splice(s,0,t),s===0&&Ae(t)}};function hd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function pc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function dm(){}function Ug(t,n,s,l,f){if(f){if(typeof l=="function"){var g=l;l=function(){var Z=hc(k);g.call(Z)}}var k=lm(n,l,t,0,null,!1,!1,"",dm);return t._reactRootContainer=k,t[ga]=k.current,Ba(t.nodeType===8?t.parentNode:t),Po(),k}for(;f=t.lastChild;)t.removeChild(f);if(typeof l=="function"){var E=l;l=function(){var Z=hc(R);E.call(Z)}}var R=ud(t,0,!1,null,null,!1,!1,"",dm);return t._reactRootContainer=R,t[ga]=R.current,Ba(t.nodeType===8?t.parentNode:t),Po(function(){fc(n,R,s,l)}),R}function gc(t,n,s,l,f){var g=s._reactRootContainer;if(g){var k=g;if(typeof f=="function"){var E=f;f=function(){var R=hc(k);E.call(R)}}fc(n,k,t,f)}else k=Ug(s,n,t,f,l);return hc(k)}oe=function(t){switch(t.tag){case 3:var n=t.stateNode;if(n.current.memoizedState.isDehydrated){var s=mt(n.pendingLanes);s!==0&&(je(n,s|1),xr(n,ie()),(Ut&6)===0&&(Ni=ie()+500,qa()))}break;case 13:Po(function(){var l=ba(t,1);if(l!==null){var f=lr();Vr(l,t,1,f)}}),dd(t,1)}},Ne=function(t){if(t.tag===13){var n=ba(t,134217728);if(n!==null){var s=lr();Vr(n,t,134217728,s)}dd(t,134217728)}},pe=function(t){if(t.tag===13){var n=to(t),s=ba(t,n);if(s!==null){var l=lr();Vr(s,t,n,l)}dd(t,n)}},Oe=function(){return B},Me=function(t,n){var s=B;try{return B=t,n()}finally{B=s}},_n=function(t,n,s){switch(n){case"input":if(Ue(t,s),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var f=Tl(l);if(!f)throw Error(a(90));D(l),Ue(l,f)}}}break;case"textarea":$t(t,s);break;case"select":n=s.value,n!=null&&ft(t,!!s.multiple,n,!1)}},Ln=ad,Gn=Po;var Vg={usingClientEntryPoint:!1,Events:[Es,hi,Tl,Bn,cr,ad]},Is={findFiberByHostInstance:wo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Hg={bundleType:Is.bundleType,version:Is.version,rendererPackageName:Is.rendererPackageName,rendererConfig:Is.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=cn(t),t===null?null:t.stateNode},findFiberByHostInstance:Is.findFiberByHostInstance||$g,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xc.isDisabled&&xc.supportsFiber)try{Mt=xc.inject(Hg),on=xc}catch{}}return yr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vg,yr.createPortal=function(t,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hd(n))throw Error(a(200));return Wg(t,n,null,s)},yr.createRoot=function(t,n){if(!hd(t))throw Error(a(299));var s=!1,l="",f=um;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(f=n.onRecoverableError)),n=ud(t,1,!1,null,null,s,!1,l,f),t[ga]=n.current,Ba(t.nodeType===8?t.parentNode:t),new fd(n)},yr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=cn(n),t=t===null?null:t.stateNode,t},yr.flushSync=function(t){return Po(t)},yr.hydrate=function(t,n,s){if(!pc(n))throw Error(a(200));return gc(null,t,n,!0,s)},yr.hydrateRoot=function(t,n,s){if(!hd(t))throw Error(a(405));var l=s!=null&&s.hydratedSources||null,f=!1,g="",k=um;if(s!=null&&(s.unstable_strictMode===!0&&(f=!0),s.identifierPrefix!==void 0&&(g=s.identifierPrefix),s.onRecoverableError!==void 0&&(k=s.onRecoverableError)),n=lm(n,null,t,1,s??null,f,!1,g,k),t[ga]=n.current,Ba(t),l)for(t=0;t<l.length;t++)s=l[t],f=s._getVersion,f=f(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,f]:n.mutableSourceEagerHydrationData.push(s,f);return new mc(n)},yr.render=function(t,n,s){if(!pc(n))throw Error(a(200));return gc(null,t,n,!1,s)},yr.unmountComponentAtNode=function(t){if(!pc(t))throw Error(a(40));return t._reactRootContainer?(Po(function(){gc(null,null,t,!1,function(){t._reactRootContainer=null,t[ga]=null})}),!0):!1},yr.unstable_batchedUpdates=ad,yr.unstable_renderSubtreeIntoContainer=function(t,n,s,l){if(!pc(s))throw Error(a(200));if(t==null||t._reactInternals===void 0)throw Error(a(38));return gc(t,n,s,!1,l)},yr.version="18.3.1-next-f1338f8080-20240426",yr}var vm;function Kg(){if(vm)return gd.exports;vm=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),gd.exports=Xg(),gd.exports}var bm;function Jg(){if(bm)return yc;bm=1;var e=Kg();return yc.createRoot=e.createRoot,yc.hydrateRoot=e.hydrateRoot,yc}var Zg=Jg();const ex=of(Zg);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var wm="popstate";function tx(e={}){function r(i,c){let{pathname:u,search:h,hash:p}=i.location;return Od("",{pathname:u,search:h,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function a(i,c){return typeof c=="string"?c:al(c)}return rx(r,a,null,e)}function yn(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function aa(e,r){if(!e){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function nx(){return Math.random().toString(36).substring(2,10)}function Cm(e,r){return{usr:e.state,key:e.key,idx:r}}function Od(e,r,a=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof r=="string"?Wi(r):r,state:a,key:r&&r.key||i||nx()}}function al({pathname:e="/",search:r="",hash:a=""}){return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(e+=a.charAt(0)==="#"?a:"#"+a),e}function Wi(e){let r={};if(e){let a=e.indexOf("#");a>=0&&(r.hash=e.substring(a),e=e.substring(0,a));let i=e.indexOf("?");i>=0&&(r.search=e.substring(i),e=e.substring(0,i)),e&&(r.pathname=e)}return r}function rx(e,r,a,i={}){let{window:c=document.defaultView,v5Compat:u=!1}=i,h=c.history,p="POP",x=null,m=y();m==null&&(m=0,h.replaceState({...h.state,idx:m},""));function y(){return(h.state||{idx:null}).idx}function v(){p="POP";let S=y(),O=S==null?null:S-m;m=S,x&&x({action:p,location:z.location,delta:O})}function b(S,O){p="PUSH";let T=Od(z.location,S,O);m=y()+1;let W=Cm(T,m),F=z.createHref(T);try{h.pushState(W,"",F)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;c.location.assign(F)}u&&x&&x({action:p,location:z.location,delta:1})}function d(S,O){p="REPLACE";let T=Od(z.location,S,O);m=y();let W=Cm(T,m),F=z.createHref(T);h.replaceState(W,"",F),u&&x&&x({action:p,location:z.location,delta:0})}function j(S){return ax(S)}let z={get action(){return p},get location(){return e(c,h)},listen(S){if(x)throw new Error("A history only accepts one active listener");return c.addEventListener(wm,v),x=S,()=>{c.removeEventListener(wm,v),x=null}},createHref(S){return r(c,S)},createURL:j,encodeLocation(S){let O=j(S);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:b,replace:d,go(S){return h.go(S)}};return z}function ax(e,r=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),yn(a,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:al(e);return i=i.replace(/ $/,"%20"),!r&&i.startsWith("//")&&(i=a+i),new URL(i,a)}function T0(e,r,a="/"){return ox(e,r,a,!1)}function ox(e,r,a,i){let c=typeof r=="string"?Wi(r):r,u=La(c.pathname||"/",a);if(u==null)return null;let h=z0(e);ix(h);let p=null;for(let x=0;p==null&&x<h.length;++x){let m=xx(u);p=px(h[x],m,i)}return p}function z0(e,r=[],a=[],i="",c=!1){let u=(h,p,x=c,m)=>{let y={relativePath:m===void 0?h.path||"":m,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(i)&&x)return;yn(y.relativePath.startsWith(i),`Absolute route path "${y.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(i.length)}let v=Ma([i,y.relativePath]),b=a.concat(y);h.children&&h.children.length>0&&(yn(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),z0(h.children,r,b,v,x)),!(h.path==null&&!h.index)&&r.push({path:v,score:hx(v,h.index),routesMeta:b})};return e.forEach((h,p)=>{if(h.path===""||!h.path?.includes("?"))u(h,p);else for(let x of A0(h.path))u(h,p,!0,x)}),r}function A0(e){let r=e.split("/");if(r.length===0)return[];let[a,...i]=r,c=a.endsWith("?"),u=a.replace(/\?$/,"");if(i.length===0)return c?[u,""]:[u];let h=A0(i.join("/")),p=[];return p.push(...h.map(x=>x===""?u:[u,x].join("/"))),c&&p.push(...h),p.map(x=>e.startsWith("/")&&x===""?"/":x)}function ix(e){e.sort((r,a)=>r.score!==a.score?a.score-r.score:mx(r.routesMeta.map(i=>i.childrenIndex),a.routesMeta.map(i=>i.childrenIndex)))}var sx=/^:[\w-]+$/,lx=3,cx=2,ux=1,dx=10,fx=-2,km=e=>e==="*";function hx(e,r){let a=e.split("/"),i=a.length;return a.some(km)&&(i+=fx),r&&(i+=cx),a.filter(c=>!km(c)).reduce((c,u)=>c+(sx.test(u)?lx:u===""?ux:dx),i)}function mx(e,r){return e.length===r.length&&e.slice(0,-1).every((i,c)=>i===r[c])?e[e.length-1]-r[r.length-1]:0}function px(e,r,a=!1){let{routesMeta:i}=e,c={},u="/",h=[];for(let p=0;p<i.length;++p){let x=i[p],m=p===i.length-1,y=u==="/"?r:r.slice(u.length)||"/",v=_c({path:x.relativePath,caseSensitive:x.caseSensitive,end:m},y),b=x.route;if(!v&&m&&a&&!i[i.length-1].route.index&&(v=_c({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},y)),!v)return null;Object.assign(c,v.params),h.push({params:c,pathname:Ma([u,v.pathname]),pathnameBase:wx(Ma([u,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(u=Ma([u,v.pathnameBase]))}return h}function _c(e,r){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[a,i]=gx(e.path,e.caseSensitive,e.end),c=r.match(a);if(!c)return null;let u=c[0],h=u.replace(/(.)\/+$/,"$1"),p=c.slice(1);return{params:i.reduce((m,{paramName:y,isOptional:v},b)=>{if(y==="*"){let j=p[b]||"";h=u.slice(0,u.length-j.length).replace(/(.)\/+$/,"$1")}const d=p[b];return v&&!d?m[y]=void 0:m[y]=(d||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:h,pattern:e}}function gx(e,r=!1,a=!0){aa(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],c="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\<script type="module" crossorigin src="/assets/index-BXEYHHwi.js"></script>").replace(/\/:([\w-]+)(\?)?/g,(h,p,x)=>(i.push({paramName:p,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),c+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?c+="\\/*$":e!==""&&e!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,r?void 0:"i"),i]}function xx(e){try{return e.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return aa(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),e}}function La(e,r){if(r==="/")return e;if(!e.toLowerCase().startsWith(r.toLowerCase()))return null;let a=r.endsWith("/")?r.length-1:r.length,i=e.charAt(a);return i&&i!=="/"?null:e.slice(a)||"/"}function yx(e,r="/"){let{pathname:a,search:i="",hash:c=""}=typeof e=="string"?Wi(e):e;return{pathname:a?a.startsWith("/")?a:vx(a,r):r,search:Cx(i),hash:kx(c)}}function vx(e,r){let a=r.replace(/\/+$/,"").split("/");return e.split("/").forEach(c=>{c===".."?a.length>1&&a.pop():c!=="."&&a.push(c)}),a.length>1?a.join("/"):"/"}function vd(e,r,a,i){return`Cannot include a '${e}' character in a manually specified \`to.${r}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function bx(e){return e.filter((r,a)=>a===0||r.route.path&&r.route.path.length>0)}function D0(e){let r=bx(e);return r.map((a,i)=>i===r.length-1?a.pathname:a.pathnameBase)}function R0(e,r,a,i=!1){let c;typeof e=="string"?c=Wi(e):(c={...e},yn(!c.pathname||!c.pathname.includes("?"),vd("?","pathname","search",c)),yn(!c.pathname||!c.pathname.includes("#"),vd("#","pathname","hash",c)),yn(!c.search||!c.search.includes("#"),vd("#","search","hash",c)));let u=e===""||c.pathname==="",h=u?"/":c.pathname,p;if(h==null)p=a;else{let v=r.length-1;if(!i&&h.startsWith("..")){let b=h.split("/");for(;b[0]==="..";)b.shift(),v-=1;c.pathname=b.join("/")}p=v>=0?r[v]:"/"}let x=yx(c,p),m=h&&h!=="/"&&h.endsWith("/"),y=(u||h===".")&&a.endsWith("/");return!x.pathname.endsWith("/")&&(m||y)&&(x.pathname+="/"),x}var Ma=e=>e.join("/").replace(/\/\/+/g,"/"),wx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Cx=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,kx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function jx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var O0=["POST","PUT","PATCH","DELETE"];new Set(O0);var Sx=["GET",...O0];new Set(Sx);var $i=C.createContext(null);$i.displayName="DataRouter";var Kc=C.createContext(null);Kc.displayName="DataRouterState";C.createContext(!1);var W0=C.createContext({isTransitioning:!1});W0.displayName="ViewTransition";var Nx=C.createContext(new Map);Nx.displayName="Fetchers";var Mx=C.createContext(null);Mx.displayName="Await";var oa=C.createContext(null);oa.displayName="Navigation";var hl=C.createContext(null);hl.displayName="Location";var ia=C.createContext({outlet:null,matches:[],isDataRoute:!1});ia.displayName="Route";var lf=C.createContext(null);lf.displayName="RouteError";function Lx(e,{relative:r}={}){yn(ml(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:i}=C.useContext(oa),{hash:c,pathname:u,search:h}=pl(e,{relative:r}),p=u;return a!=="/"&&(p=u==="/"?a:Ma([a,u])),i.createHref({pathname:p,search:h,hash:c})}function ml(){return C.useContext(hl)!=null}function $o(){return yn(ml(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(hl).location}var $0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function U0(e){C.useContext(oa).static||C.useLayoutEffect(e)}function cf(){let{isDataRoute:e}=C.useContext(ia);return e?Vx():Px()}function Px(){yn(ml(),"useNavigate() may be used only in the context of a <Router> component.");let e=C.useContext($i),{basename:r,navigator:a}=C.useContext(oa),{matches:i}=C.useContext(ia),{pathname:c}=$o(),u=JSON.stringify(D0(i)),h=C.useRef(!1);return U0(()=>{h.current=!0}),C.useCallback((x,m={})=>{if(aa(h.current,$0),!h.current)return;if(typeof x=="number"){a.go(x);return}let y=R0(x,JSON.parse(u),c,m.relative==="path");e==null&&r!=="/"&&(y.pathname=y.pathname==="/"?r:Ma([r,y.pathname])),(m.replace?a.replace:a.push)(y,m.state,m)},[r,a,u,c,e])}C.createContext(null);function Ex(){let{matches:e}=C.useContext(ia),r=e[e.length-1];return r?r.params:{}}function pl(e,{relative:r}={}){let{matches:a}=C.useContext(ia),{pathname:i}=$o(),c=JSON.stringify(D0(a));return C.useMemo(()=>R0(e,JSON.parse(c),i,r==="path"),[e,c,i,r])}function Fx(e,r){return V0(e,r)}function V0(e,r,a,i,c){yn(ml(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=C.useContext(oa),{matches:h}=C.useContext(ia),p=h[h.length-1],x=p?p.params:{},m=p?p.pathname:"/",y=p?p.pathnameBase:"/",v=p&&p.route;{let T=v&&v.path||"";H0(m,!v||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let b=$o(),d;if(r){let T=typeof r=="string"?Wi(r):r;yn(y==="/"||T.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${T.pathname}" was given in the \`location\` prop.`),d=T}else d=b;let j=d.pathname||"/",z=j;if(y!=="/"){let T=y.replace(/^\//,"").split("/");z="/"+j.replace(/^\//,"").split("/").slice(T.length).join("/")}let S=T0(e,{pathname:z});aa(v||S!=null,`No routes matched location "${d.pathname}${d.search}${d.hash}" `),aa(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${d.pathname}${d.search}${d.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=Dx(S&&S.map(T=>Object.assign({},T,{params:Object.assign({},x,T.params),pathname:Ma([y,u.encodeLocation?u.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?y:Ma([y,u.encodeLocation?u.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),h,a,i,c);return r&&O?C.createElement(hl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...d},navigationType:"POP"}},O):O}function _x(){let e=Ux(),r=jx(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",e),h=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:u},"ErrorBoundary")," or"," ",C.createElement("code",{style:u},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},r),a?C.createElement("pre",{style:c},a):null,h)}var Tx=C.createElement(_x,null),zx=class extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){this.props.unstable_onError?this.props.unstable_onError(e,r):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?C.createElement(ia.Provider,{value:this.props.routeContext},C.createElement(lf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ax({routeContext:e,match:r,children:a}){let i=C.useContext($i);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),C.createElement(ia.Provider,{value:e},a)}function Dx(e,r=[],a=null,i=null,c=null){if(e==null){if(!a)return null;if(a.errors)e=a.matches;else if(r.length===0&&!a.initialized&&a.matches.length>0)e=a.matches;else return null}let u=e,h=a?.errors;if(h!=null){let m=u.findIndex(y=>y.route.id&&h?.[y.route.id]!==void 0);yn(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,m+1))}let p=!1,x=-1;if(a)for(let m=0;m<u.length;m++){let y=u[m];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(x=m),y.route.id){let{loaderData:v,errors:b}=a,d=y.route.loader&&!v.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||d){p=!0,x>=0?u=u.slice(0,x+1):u=[u[0]];break}}}return u.reduceRight((m,y,v)=>{let b,d=!1,j=null,z=null;a&&(b=h&&y.route.id?h[y.route.id]:void 0,j=y.route.errorElement||Tx,p&&(x<0&&v===0?(H0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,z=null):x===v&&(d=!0,z=y.route.hydrateFallbackElement||null)));let S=r.concat(u.slice(0,v+1)),O=()=>{let T;return b?T=j:d?T=z:y.route.Component?T=C.createElement(y.route.Component,null):y.route.element?T=y.route.element:T=m,C.createElement(Ax,{match:y,routeContext:{outlet:m,matches:S,isDataRoute:a!=null},children:T})};return a&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?C.createElement(zx,{location:a.location,revalidation:a.revalidation,component:j,error:b,children:O(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:i}):O()},null)}function uf(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Rx(e){let r=C.useContext($i);return yn(r,uf(e)),r}function Ox(e){let r=C.useContext(Kc);return yn(r,uf(e)),r}function Wx(e){let r=C.useContext(ia);return yn(r,uf(e)),r}function df(e){let r=Wx(e),a=r.matches[r.matches.length-1];return yn(a.route.id,`${e} can only be used on routes that contain a unique "id"`),a.route.id}function $x(){return df("useRouteId")}function Ux(){let e=C.useContext(lf),r=Ox("useRouteError"),a=df("useRouteError");return e!==void 0?e:r.errors?.[a]}function Vx(){let{router:e}=Rx("useNavigate"),r=df("useNavigate"),a=C.useRef(!1);return U0(()=>{a.current=!0}),C.useCallback(async(c,u={})=>{aa(a.current,$0),a.current&&(typeof c=="number"?e.navigate(c):await e.navigate(c,{fromRouteId:r,...u}))},[e,r])}var jm={};function H0(e,r,a){!r&&!jm[e]&&(jm[e]=!0,aa(!1,a))}C.memo(Hx);function Hx({routes:e,future:r,state:a,unstable_onError:i}){return V0(e,void 0,a,i,r)}function Wd(e){yn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ix({basename:e="/",children:r=null,location:a,navigationType:i="POP",navigator:c,static:u=!1}){yn(!ml(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=e.replace(/^\/*/,"/"),p=C.useMemo(()=>({basename:h,navigator:c,static:u,future:{}}),[h,c,u]);typeof a=="string"&&(a=Wi(a));let{pathname:x="/",search:m="",hash:y="",state:v=null,key:b="default"}=a,d=C.useMemo(()=>{let j=La(x,h);return j==null?null:{location:{pathname:j,search:m,hash:y,state:v,key:b},navigationType:i}},[h,x,m,y,v,b,i]);return aa(d!=null,`<Router basename="${h}"> is not able to match the URL "${x}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),d==null?null:C.createElement(oa.Provider,{value:p},C.createElement(hl.Provider,{children:r,value:d}))}function Bx({children:e,location:r}){return Fx($d(e),r)}function $d(e,r=[]){let a=[];return C.Children.forEach(e,(i,c)=>{if(!C.isValidElement(i))return;let u=[...r,c];if(i.type===C.Fragment){a.push.apply(a,$d(i.props.children,u));return}yn(i.type===Wd,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),yn(!i.props.index||!i.props.children,"An index route cannot have child routes.");let h={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=$d(i.props.children,u)),a.push(h)}),a}var Sc="get",Nc="application/x-www-form-urlencoded";function Jc(e){return e!=null&&typeof e.tagName=="string"}function Gx(e){return Jc(e)&&e.tagName.toLowerCase()==="button"}function Yx(e){return Jc(e)&&e.tagName.toLowerCase()==="form"}function Qx(e){return Jc(e)&&e.tagName.toLowerCase()==="input"}function qx(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Xx(e,r){return e.button===0&&(!r||r==="_self")&&!qx(e)}var vc=null;function Kx(){if(vc===null)try{new FormData(document.createElement("form"),0),vc=!1}catch{vc=!0}return vc}var Jx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bd(e){return e!=null&&!Jx.has(e)?(aa(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nc}"`),null):e}function Zx(e,r){let a,i,c,u,h;if(Yx(e)){let p=e.getAttribute("action");i=p?La(p,r):null,a=e.getAttribute("method")||Sc,c=bd(e.getAttribute("enctype"))||Nc,u=new FormData(e)}else if(Gx(e)||Qx(e)&&(e.type==="submit"||e.type==="image")){let p=e.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let x=e.getAttribute("formaction")||p.getAttribute("action");if(i=x?La(x,r):null,a=e.getAttribute("formmethod")||p.getAttribute("method")||Sc,c=bd(e.getAttribute("formenctype"))||bd(p.getAttribute("enctype"))||Nc,u=new FormData(p,e),!Kx()){let{name:m,type:y,value:v}=e;if(y==="image"){let b=m?`${m}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else m&&u.append(m,v)}}else{if(Jc(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=Sc,i=null,c=Nc,h=e}return u&&c==="text/plain"&&(h=u,u=void 0),{action:i,method:a.toLowerCase(),encType:c,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ff(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function ey(e,r,a){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${a}`:r&&La(i.pathname,r)==="/"?i.pathname=`${r.replace(/\/$/,"")}/_root.${a}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${a}`,i}async function ty(e,r){if(e.id in r)return r[e.id];try{let a=await import(e.module);return r[e.id]=a,a}catch(a){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ny(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function ry(e,r,a){let i=await Promise.all(e.map(async c=>{let u=r.routes[c.route.id];if(u){let h=await ty(u,a);return h.links?h.links():[]}return[]}));return sy(i.flat(1).filter(ny).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function Sm(e,r,a,i,c,u){let h=(x,m)=>a[m]?x.route.id!==a[m].route.id:!0,p=(x,m)=>a[m].pathname!==x.pathname||a[m].route.path?.endsWith("*")&&a[m].params["*"]!==x.params["*"];return u==="assets"?r.filter((x,m)=>h(x,m)||p(x,m)):u==="data"?r.filter((x,m)=>{let y=i.routes[x.route.id];if(!y||!y.hasLoader)return!1;if(h(x,m)||p(x,m))return!0;if(x.route.shouldRevalidate){let v=x.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:x.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function ay(e,r,{includeHydrateFallback:a}={}){return oy(e.map(i=>{let c=r.routes[i.route.id];if(!c)return[];let u=[c.module];return c.clientActionModule&&(u=u.concat(c.clientActionModule)),c.clientLoaderModule&&(u=u.concat(c.clientLoaderModule)),a&&c.hydrateFallbackModule&&(u=u.concat(c.hydrateFallbackModule)),c.imports&&(u=u.concat(c.imports)),u}).flat(1))}function oy(e){return[...new Set(e)]}function iy(e){let r={},a=Object.keys(e).sort();for(let i of a)r[i]=e[i];return r}function sy(e,r){let a=new Set;return new Set(r),e.reduce((i,c)=>{let u=JSON.stringify(iy(c));return a.has(u)||(a.add(u),i.push({key:u,link:c})),i},[])}function I0(){let e=C.useContext($i);return ff(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function ly(){let e=C.useContext(Kc);return ff(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var hf=C.createContext(void 0);hf.displayName="FrameworkContext";function B0(){let e=C.useContext(hf);return ff(e,"You must render this element inside a <HydratedRouter> element"),e}function cy(e,r){let a=C.useContext(hf),[i,c]=C.useState(!1),[u,h]=C.useState(!1),{onFocus:p,onBlur:x,onMouseEnter:m,onMouseLeave:y,onTouchStart:v}=r,b=C.useRef(null);C.useEffect(()=>{if(e==="render"&&h(!0),e==="viewport"){let z=O=>{O.forEach(T=>{h(T.isIntersecting)})},S=new IntersectionObserver(z,{threshold:.5});return b.current&&S.observe(b.current),()=>{S.disconnect()}}},[e]),C.useEffect(()=>{if(i){let z=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(z)}}},[i]);let d=()=>{c(!0)},j=()=>{c(!1),h(!1)};return a?e!=="intent"?[u,b,{}]:[u,b,{onFocus:Gs(p,d),onBlur:Gs(x,j),onMouseEnter:Gs(m,d),onMouseLeave:Gs(y,j),onTouchStart:Gs(v,d)}]:[!1,b,{}]}function Gs(e,r){return a=>{e&&e(a),a.defaultPrevented||r(a)}}function uy({page:e,...r}){let{router:a}=I0(),i=C.useMemo(()=>T0(a.routes,e,a.basename),[a.routes,e,a.basename]);return i?C.createElement(fy,{page:e,matches:i,...r}):null}function dy(e){let{manifest:r,routeModules:a}=B0(),[i,c]=C.useState([]);return C.useEffect(()=>{let u=!1;return ry(e,r,a).then(h=>{u||c(h)}),()=>{u=!0}},[e,r,a]),i}function fy({page:e,matches:r,...a}){let i=$o(),{manifest:c,routeModules:u}=B0(),{basename:h}=I0(),{loaderData:p,matches:x}=ly(),m=C.useMemo(()=>Sm(e,r,x,c,i,"data"),[e,r,x,c,i]),y=C.useMemo(()=>Sm(e,r,x,c,i,"assets"),[e,r,x,c,i]),v=C.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let j=new Set,z=!1;if(r.forEach(O=>{let T=c.routes[O.route.id];!T||!T.hasLoader||(!m.some(W=>W.route.id===O.route.id)&&O.route.id in p&&u[O.route.id]?.shouldRevalidate||T.hasClientLoader?z=!0:j.add(O.route.id))}),j.size===0)return[];let S=ey(e,h,"data");return z&&j.size>0&&S.searchParams.set("_routes",r.filter(O=>j.has(O.route.id)).map(O=>O.route.id).join(",")),[S.pathname+S.search]},[h,p,i,c,m,r,e,u]),b=C.useMemo(()=>ay(y,c),[y,c]),d=dy(y);return C.createElement(C.Fragment,null,v.map(j=>C.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...a})),b.map(j=>C.createElement("link",{key:j,rel:"modulepreload",href:j,...a})),d.map(({key:j,link:z})=>C.createElement("link",{key:j,nonce:a.nonce,...z})))}function hy(...e){return r=>{e.forEach(a=>{typeof a=="function"?a(r):a!=null&&(a.current=r)})}}var G0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{G0&&(window.__reactRouterVersion="7.9.4")}catch{}function my({basename:e,children:r,window:a}){let i=C.useRef();i.current==null&&(i.current=tx({window:a,v5Compat:!0}));let c=i.current,[u,h]=C.useState({action:c.action,location:c.location}),p=C.useCallback(x=>{C.startTransition(()=>h(x))},[h]);return C.useLayoutEffect(()=>c.listen(p),[c,p]),C.createElement(Ix,{basename:e,children:r,location:u.location,navigationType:u.action,navigator:c})}var Y0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Q0=C.forwardRef(function({onClick:r,discover:a="render",prefetch:i="none",relative:c,reloadDocument:u,replace:h,state:p,target:x,to:m,preventScrollReset:y,viewTransition:v,...b},d){let{basename:j}=C.useContext(oa),z=typeof m=="string"&&Y0.test(m),S,O=!1;if(typeof m=="string"&&z&&(S=m,G0))try{let P=new URL(window.location.href),M=m.startsWith("//")?new URL(P.protocol+m):new URL(m),A=La(M.pathname,j);M.origin===P.origin&&A!=null?m=A+M.search+M.hash:O=!0}catch{aa(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=Lx(m,{relative:c}),[W,F,U]=cy(i,b),H=yy(m,{replace:h,state:p,target:x,preventScrollReset:y,relative:c,viewTransition:v});function I(P){r&&r(P),P.defaultPrevented||H(P)}let N=C.createElement("a",{...b,...U,href:S||T,onClick:O||u?r:I,ref:hy(d,F),target:x,"data-discover":!z&&a==="render"?"true":void 0});return W&&!z?C.createElement(C.Fragment,null,N,C.createElement(uy,{page:T})):N});Q0.displayName="Link";var py=C.forwardRef(function({"aria-current":r="page",caseSensitive:a=!1,className:i="",end:c=!1,style:u,to:h,viewTransition:p,children:x,...m},y){let v=pl(h,{relative:m.relative}),b=$o(),d=C.useContext(Kc),{navigator:j,basename:z}=C.useContext(oa),S=d!=null&&ky(v)&&p===!0,O=j.encodeLocation?j.encodeLocation(v).pathname:v.pathname,T=b.pathname,W=d&&d.navigation&&d.navigation.location?d.navigation.location.pathname:null;a||(T=T.toLowerCase(),W=W?W.toLowerCase():null,O=O.toLowerCase()),W&&z&&(W=La(W,z)||W);const F=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let U=T===O||!c&&T.startsWith(O)&&T.charAt(F)==="/",H=W!=null&&(W===O||!c&&W.startsWith(O)&&W.charAt(O.length)==="/"),I={isActive:U,isPending:H,isTransitioning:S},N=U?r:void 0,P;typeof i=="function"?P=i(I):P=[i,U?"active":null,H?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(I):u;return C.createElement(Q0,{...m,"aria-current":N,className:P,ref:y,style:M,to:h,viewTransition:p},typeof x=="function"?x(I):x)});py.displayName="NavLink";var gy=C.forwardRef(({discover:e="render",fetcherKey:r,navigate:a,reloadDocument:i,replace:c,state:u,method:h=Sc,action:p,onSubmit:x,relative:m,preventScrollReset:y,viewTransition:v,...b},d)=>{let j=wy(),z=Cy(p,{relative:m}),S=h.toLowerCase()==="get"?"get":"post",O=typeof p=="string"&&Y0.test(p),T=W=>{if(x&&x(W),W.defaultPrevented)return;W.preventDefault();let F=W.nativeEvent.submitter,U=F?.getAttribute("formmethod")||h;j(F||W.currentTarget,{fetcherKey:r,method:U,navigate:a,replace:c,state:u,relative:m,preventScrollReset:y,viewTransition:v})};return C.createElement("form",{ref:d,method:S,action:z,onSubmit:i?x:T,...b,"data-discover":!O&&e==="render"?"true":void 0})});gy.displayName="Form";function xy(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function q0(e){let r=C.useContext($i);return yn(r,xy(e)),r}function yy(e,{target:r,replace:a,state:i,preventScrollReset:c,relative:u,viewTransition:h}={}){let p=cf(),x=$o(),m=pl(e,{relative:u});return C.useCallback(y=>{if(Xx(y,r)){y.preventDefault();let v=a!==void 0?a:al(x)===al(m);p(e,{replace:v,state:i,preventScrollReset:c,relative:u,viewTransition:h})}},[x,p,m,a,i,r,e,c,u,h])}var vy=0,by=()=>`__${String(++vy)}__`;function wy(){let{router:e}=q0("useSubmit"),{basename:r}=C.useContext(oa),a=$x();return C.useCallback(async(i,c={})=>{let{action:u,method:h,encType:p,formData:x,body:m}=Zx(i,r);if(c.navigate===!1){let y=c.fetcherKey||by();await e.fetch(y,a,c.action||u,{preventScrollReset:c.preventScrollReset,formData:x,body:m,formMethod:c.method||h,formEncType:c.encType||p,flushSync:c.flushSync})}else await e.navigate(c.action||u,{preventScrollReset:c.preventScrollReset,formData:x,body:m,formMethod:c.method||h,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:a,flushSync:c.flushSync,viewTransition:c.viewTransition})},[e,r,a])}function Cy(e,{relative:r}={}){let{basename:a}=C.useContext(oa),i=C.useContext(ia);yn(i,"useFormAction must be used inside a RouteContext");let[c]=i.matches.slice(-1),u={...pl(e||".",{relative:r})},h=$o();if(e==null){u.search=h.search;let p=new URLSearchParams(u.search),x=p.getAll("index");if(x.some(y=>y==="")){p.delete("index"),x.filter(v=>v).forEach(v=>p.append("index",v));let y=p.toString();u.search=y?`?${y}`:""}}return(!e||e===".")&&c.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(u.pathname=u.pathname==="/"?a:Ma([a,u.pathname])),al(u)}function ky(e,{relative:r}={}){let a=C.useContext(W0);yn(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=q0("useViewTransitionState"),c=pl(e,{relative:r});if(!a.isTransitioning)return!1;let u=La(a.currentLocation.pathname,i)||a.currentLocation.pathname,h=La(a.nextLocation.pathname,i)||a.nextLocation.pathname;return _c(c.pathname,h)!=null||_c(c.pathname,u)!=null}function jy(){const e=cf();C.useEffect(()=>{const c=new URLSearchParams(window.location.search).get("csv");c&&(sessionStorage.setItem("pendingCSVData",c),e(`/chart/bar${window.location.search}`))},[e]);const r=[{key:"line",name:"Line Chart",description:"Visualize trends and patterns over time with continuous data points connected by lines, perfect for showing growth, decline, or cyclical patterns.",image:"/Examples/line_chart_marketing_channels.svg"},{key:"bar",name:"Bar Chart",description:"Compare values across different categories or time periods with horizontal or vertical bars, ideal for showing relative sizes and rankings.",image:"/Examples/bar_chart_revenue_asia_latinamerica.svg"},{key:"slope",name:"Slope Chart",description:"Show change between two points in time with connecting lines that emphasize increases, decreases, or stability across multiple categories.",image:"/Examples/slope_chart_tufte.svg"},{key:"funnel",name:"Funnel Chart",description:"Track progression through sequential stages in a process, displaying conversion rates and drop-off points in sales pipelines or user journeys.",image:"/Examples/funnel_chart_ab.svg"}],a=i=>{const c=window.location.search;e(`/chart/${i}${c}`)};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-cyan-50 to-blue-50",children:[o.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-8 py-12",children:[o.jsxs("div",{className:"flex flex-col items-center mb-6",children:[o.jsx("img",{src:"/findandtell_logo.png",alt:"Find&Tell",className:"h-20 mb-4"}),o.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Data Story Charts"})]}),o.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto text-center",children:"Create clean and clear data visualizations to be used in your data stories."})]})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-8 py-16",children:[o.jsxs("div",{className:"mb-12",children:[o.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Select a Chart Type"}),o.jsx("p",{className:"text-lg text-gray-600",children:"Choose from our collection of professional chart types to get started"})]}),o.jsx("div",{className:"grid grid-cols-4 gap-8",children:r.map(i=>o.jsxs("div",{onClick:()=>a(i.key),className:"bg-white rounded-lg shadow-md overflow-hidden cursor-pointer group hover:shadow-xl transition-all duration-300 border border-gray-200 hover:border-cyan-400",children:[o.jsx("div",{className:"bg-white border-b border-gray-200 relative h-56 overflow-hidden",children:o.jsx("object",{data:i.image,type:"image/svg+xml",className:"pointer-events-none w-full h-full","aria-label":`${i.name} Example`})}),o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:i.name}),o.jsx("p",{className:"text-gray-600 text-sm mb-6 leading-relaxed",children:i.description}),o.jsx("button",{className:"w-full px-4 py-2 bg-cyan-600 text-white font-semibold rounded-lg hover:bg-cyan-700 transition-colors",children:"Create Chart"})]})]},i.key))})]}),o.jsx("div",{className:"bg-white border-t border-gray-200 mt-16",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8 text-center",children:[o.jsx("p",{className:"text-sm font-medium text-blue-900 mb-3",children:o.jsx("a",{href:"https://findandtell.co",target:"_blank",rel:"noopener noreferrer",className:"hover:text-cyan-600 transition-colors",children:"Made with Find&Tell | Charts for Data Stories | FindandTell.co"})}),o.jsx("p",{className:"text-gray-500 text-xs",children:"Built with React, D3.js, and Tailwind CSS  Export to PNG, SVG, or D3 code"})]})})]})}const Sy="modulepreload",Ny=function(e){return"/"+e},Nm={},My=function(r,a,i){let c=Promise.resolve();if(a&&a.length>0){let m=function(y){return Promise.all(y.map(v=>Promise.resolve(v).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};var h=m;document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),x=p?.nonce||p?.getAttribute("nonce");c=m(a.map(y=>{if(y=Ny(y),y in Nm)return;Nm[y]=!0;const v=y.endsWith(".css"),b=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${b}`))return;const d=document.createElement("link");if(d.rel=v?"stylesheet":Sy,v||(d.as="script"),d.crossOrigin="",d.href=y,x&&d.setAttribute("nonce",x),document.head.appendChild(d),v)return new Promise((j,z)=>{d.addEventListener("load",j),d.addEventListener("error",()=>z(new Error(`Unable to preload CSS for ${y}`)))})}))}function u(p){const x=new Event("vite:preloadError",{cancelable:!0});if(x.payload=p,window.dispatchEvent(x),!x.defaultPrevented)throw p}return c.then(p=>{for(const x of p||[])x.status==="rejected"&&u(x.reason);return r().catch(u)})};function Ly(e,r){const a=[],i=new Date(e);for(let c=0;c<r;c++){const u=new Date(i);u.setDate(i.getDate()+c);const h=u.toISOString().split("T")[0],p=u.getDay(),x=p===0||p===6,m=u.getDate()/30,y=25e3+c/r*15e3,v=180+c/r*80,b=2.8+c/r*.7,d=x?.7:1,j=m>.8?1+(m-.8)*1.5:1,z=.85+Math.random()*.3,S=Math.round(y*d*j*z),O=Math.round(v*d*j*z),T=Number((b*d*z).toFixed(2));a.push({date:h,Revenue:S,Orders:O,ConversionRate:T})}return a}let wd=null;function Py(e,r){if(wd)return wd;const a=[],i=new Date(e).getTime(),c=1440*60*1e3,u=850,h=1200,p=950,x=450,m=380;for(let y=0;y<r;y++){const v=i+y*c,b=new Date(v),d=b.toISOString().split("T")[0],j=b.getMonth()+1,z=b.getDay(),O=z===0||z===6?1.25:1,T=j===7||j===8?1.3+(j===7?.5:1)*.5:1,W=j===11||j===12?1.5+(j===11?.6:1)*.8:1,F=1+y/r*.3,U=()=>.8+Math.random()*.4;a.push({date:d,Shoes:Math.round(u*O*T*W*F*U()),Shirts:Math.round(h*O*T*W*F*U()),Pants:Math.round(p*O*T*W*F*U()),Socks:Math.round(x*O*T*W*F*U()),Accessories:Math.round(m*O*W*F*U())})}return wd=a,a}const Ey={generic:{name:"Generic 5-Stage Flow",description:"Simple 5-stage funnel with 3 time periods",title:"Website Conversion Funnel",subtitle:"Visitor journey from page views to purchases",data:[{Stage:"Stage 1","Period 3":1e4,"Period 2":9500,"Period 1":9e3},{Stage:"Stage 2","Period 3":5e3,"Period 2":4750,"Period 1":4500},{Stage:"Stage 3","Period 3":2500,"Period 2":2400,"Period 1":2250},{Stage:"Stage 4","Period 3":1e3,"Period 2":960,"Period 1":900},{Stage:"Stage 5","Period 3":500,"Period 2":480,"Period 1":450}]},ecommerce:{name:"E-commerce Funnel",description:"Customer journey from homepage to purchase",title:"E-Commerce Sales Funnel",subtitle:"Customer conversion from product views to checkout completion",data:[{Stage:"Homepage Visit","Dec 2024":52400,"Nov 2024":51200,"Oct 2024":48900,"Sep 2024":47100,"Aug 2024":45800,"Jul 2024":44300,"Jun 2024":43200},{Stage:"Product View","Dec 2024":16200,"Nov 2024":15800,"Oct 2024":14900,"Sep 2024":14300,"Aug 2024":13800,"Jul 2024":13100,"Jun 2024":12700},{Stage:"Add to Cart","Dec 2024":4890,"Nov 2024":4720,"Oct 2024":4480,"Sep 2024":4250,"Aug 2024":4050,"Jul 2024":3920,"Jun 2024":3780},{Stage:"Checkout","Dec 2024":1680,"Nov 2024":1720,"Oct 2024":1850,"Sep 2024":2980,"Aug 2024":2850,"Jul 2024":2760,"Jun 2024":2650},{Stage:"Purchase","Dec 2024":1340,"Nov 2024":1370,"Oct 2024":1480,"Sep 2024":2380,"Aug 2024":2280,"Jul 2024":2210,"Jun 2024":2120}]},saas:{name:"SaaS Sales Funnel",description:"B2B software sales pipeline",title:"SaaS User Onboarding Funnel",subtitle:"Trial user activation and conversion to paid subscribers",data:[{Stage:"Website Visitors","Q4 2024":125e3,"Q3 2024":118e3,"Q2 2024":112e3},{Stage:"Trial Signups","Q4 2024":8750,"Q3 2024":8260,"Q2 2024":7840},{Stage:"Active Users","Q4 2024":4375,"Q3 2024":4130,"Q2 2024":3920},{Stage:"Sales Qualified","Q4 2024":1750,"Q3 2024":1652,"Q2 2024":1568},{Stage:"Paying Customers","Q4 2024":525,"Q3 2024":496,"Q2 2024":470}]},marketing:{name:"Marketing Campaign",description:"Campaign performance tracking",title:"Marketing Campaign Performance",subtitle:"Lead generation and conversion across campaign stages",data:[{Stage:"Impressions","Week 4":25e5,"Week 3":235e4,"Week 2":22e5,"Week 1":21e5},{Stage:"Clicks","Week 4":75e3,"Week 3":70500,"Week 2":66e3,"Week 1":63e3},{Stage:"Landing Page","Week 4":52500,"Week 3":49350,"Week 2":46200,"Week 1":44100},{Stage:"Form Submission","Week 4":10500,"Week 3":9870,"Week 2":9240,"Week 1":8820},{Stage:"Qualified Leads","Week 4":3150,"Week 3":2961,"Week 2":2772,"Week 1":2646}]},content:{name:"Content/Media Funnel",description:"Content engagement and conversion",title:"Content Engagement Funnel",subtitle:"Reader journey from discovery to newsletter subscription",data:[{Stage:"Article Views",March:45e4,February:425e3,January:4e5},{Stage:"Read 50%+",March:135e3,February:127500,January:12e4},{Stage:"Engaged (comments/shares)",March:27e3,February:25500,January:24e3},{Stage:"Newsletter Signup",March:9e3,February:8500,January:8e3},{Stage:"Premium Subscriber",March:1800,February:1700,January:1600}]},mobileApp:{name:"Mobile App Funnel",description:"App user journey and retention",title:"Mobile App User Funnel",subtitle:"User activation from app install to first purchase",data:[{Stage:"App Install","This Month":85e3,"Last Month":78e3,"2 Months Ago":72e3},{Stage:"Account Created","This Month":59500,"Last Month":54600,"2 Months Ago":50400},{Stage:"Feature Used","This Month":42500,"Last Month":39e3,"2 Months Ago":36e3},{Stage:"Day 7 Active","This Month":25500,"Last Month":23400,"2 Months Ago":21600},{Stage:"Day 30 Retained","This Month":12750,"Last Month":11700,"2 Months Ago":10800}]},b2bLeads:{name:"B2B Lead Generation",description:"Enterprise sales funnel",title:"B2B Sales Pipeline",subtitle:"Enterprise lead qualification and deal closure rates",data:[{Stage:"Marketing Qualified Lead","Q1 2025":3200,"Q4 2024":2950,"Q3 2024":2800},{Stage:"Sales Accepted Lead","Q1 2025":1920,"Q4 2024":1770,"Q3 2024":1680},{Stage:"Opportunity","Q1 2025":960,"Q4 2024":885,"Q3 2024":840},{Stage:"Proposal","Q1 2025":480,"Q4 2024":443,"Q3 2024":420},{Stage:"Closed Won","Q1 2025":192,"Q4 2024":177,"Q3 2024":168}]},ageComparison:{name:"Age Group Comparison",description:"Compare conversion by age demographics",title:"Conversion by Age Group",subtitle:"User engagement across different demographic segments",data:[{Stage:"Awareness","18-24":15e3,"25-34":22e3,"35-44":18e3,"45-54":12e3,"55+":8e3},{Stage:"Interest","18-24":7500,"25-34":13200,"35-44":10800,"45-54":7200,"55+":5600},{Stage:"Consideration","18-24":3750,"25-34":7920,"35-44":7560,"45-54":5040,"55+":4480},{Stage:"Intent","18-24":1500,"25-34":3960,"35-44":4536,"45-54":3024,"55+":3136},{Stage:"Purchase","18-24":450,"25-34":1584,"35-44":2268,"45-54":1814,"55+":2195}]},abTest:{name:"A/B Test Comparison",description:"Compare control vs variation performance",title:"A/B Test Results: 43% Improvement",subtitle:"Variation A Exceeded Expectations: 4.6% Conversion to Activation",stylePreset:"/Examples/ab-test-funnel-wsj-style.json",data:[{Stage:"Visitors",Control:5e4,"Variation A":5e4,"Variation B":5e4},{Stage:"Engagement",Control:17500,"Variation A":19e3,"Variation B":18500},{Stage:"Sign Up",Control:3500,"Variation A":4180,"Variation B":3885},{Stage:"Activation",Control:1750,"Variation A":2299,"Variation B":2138},{Stage:"Conversion",Control:525,"Variation A":736,"Variation B":663}]},deviceComparison:{name:"Device Comparison",description:"Compare user behavior across devices",title:"Conversion by Device Type",subtitle:"Mobile, desktop, and tablet user behavior comparison",data:[{Stage:"Sessions",Desktop:45e3,Mobile:65e3,Tablet:15e3},{Stage:"Product View",Desktop:22500,Mobile:29250,Tablet:8250},{Stage:"Add to Cart",Desktop:11250,Mobile:11700,Tablet:4125},{Stage:"Checkout",Desktop:6750,Mobile:5850,Tablet:2475},{Stage:"Purchase",Desktop:5400,Mobile:3510,Tablet:1733}]},channelComparison:{name:"Channel Comparison",description:"Compare marketing channel performance",title:"Marketing Channel Performance",subtitle:"Conversion rates across organic, paid, and social channels",data:[{Stage:"Visits",Organic:85e3,"Paid Search":45e3,Social:38e3,Email:22e3,Direct:15e3},{Stage:"Engagement",Organic:42500,"Paid Search":27e3,Social:19e3,Email:15400,Direct:10500},{Stage:"Lead",Organic:12750,"Paid Search":10800,Social:5700,Email:8470,Direct:5250},{Stage:"Qualified",Organic:5100,"Paid Search":5400,Social:1710,Email:4659,Direct:2625},{Stage:"Customer",Organic:2040,"Paid Search":2430,Social:513,Email:2330,Direct:1313}]},timeComparison:{name:"Weekday vs Weekend",description:"Compare behavior patterns by time",title:"Quarter-over-Quarter Performance",subtitle:"Q3 2023 vs. Q4 2023 conversion trends",data:[{Stage:"Traffic",Weekday:125e3,Weekend:85e3},{Stage:"Engagement",Weekday:5e4,Weekend:42500},{Stage:"Browse Products",Weekday:25e3,Weekend:25500},{Stage:"Add to Cart",Weekday:1e4,Weekend:12750},{Stage:"Purchase",Weekday:4e3,Weekend:6375}]},slopeDefault:{name:"Market Share Change",description:"Year-over-year market share change",title:"Regional Performance Trends",subtitle:"Year-over-year metric changes by region",data:[{Stage:"A",2015:20,2016:20},{Stage:"B",2015:18,2016:19},{Stage:"C",2015:17,2016:18},{Stage:"D",2015:17,2016:17},{Stage:"E",2015:14,2016:13},{Stage:"F",2015:13,2016:12},{Stage:"G",2015:12,2016:11},{Stage:"H",2015:11,2016:8},{Stage:"I",2015:10,2016:4},{Stage:"J",2015:7,2016:9}]},slopeRevenue:{name:"Revenue by Product Line",description:"Annual revenue comparison across product categories",title:"Product Line Revenue Growth",subtitle:"Annual revenue comparison: 2023 vs. 2024",data:[{Stage:"Cloud Services",2023:45,2024:62},{Stage:"Software Licenses",2023:38,2024:35},{Stage:"Consulting",2023:28,2024:31},{Stage:"Support & Maintenance",2023:22,2024:25},{Stage:"Training",2023:15,2024:18},{Stage:"Hardware",2023:12,2024:9}]},slopeCustomerSatisfaction:{name:"Customer Satisfaction Scores",description:"NPS scores before and after product improvements",title:"Customer Satisfaction Score Changes",subtitle:"CSAT improvement across product categories",data:[{Stage:"Product Quality",Before:72,After:85},{Stage:"Customer Service",Before:68,After:79},{Stage:"Ease of Use",Before:65,After:82},{Stage:"Value for Money",Before:61,After:74},{Stage:"Speed/Performance",Before:58,After:76},{Stage:"Documentation",Before:52,After:68},{Stage:"Onboarding",Before:48,After:71}]},slopeEmployeeMetrics:{name:"Employee Engagement",description:"Engagement scores Q1 vs Q4",title:"Department Performance Metrics",subtitle:"Annual employee productivity trends by department",data:[{Stage:"Arizona",Q1:87,Q4:89},{Stage:"Washington",Q1:82,Q4:88},{Stage:"Texas",Q1:79,Q4:85},{Stage:"Delaware",Q1:78,Q4:78},{Stage:"Nevada",Q1:74,Q4:71},{Stage:"Florida",Q1:71,Q4:68},{Stage:"Ohio",Q1:68,Q4:64}]},slopeWebsiteMetrics:{name:"Website Performance",description:"Key metrics before and after redesign",title:"Website Traffic Sources",subtitle:"Channel performance shifts over the past year",data:[{Stage:"Page Load Time (s)","Old Site":4.2,"New Site":1.8},{Stage:"Bounce Rate (%)","Old Site":62,"New Site":38},{Stage:"Avg Session (min)","Old Site":2.4,"New Site":4.7},{Stage:"Pages per Session","Old Site":3.1,"New Site":5.8},{Stage:"Conversion Rate (%)","Old Site":2.3,"New Site":4.9},{Stage:"Mobile Traffic (%)","Old Site":42,"New Site":68}]},slopeMarketShare:{name:"Smartphone Market Share",description:"Global market share changes year over year",title:"Competitive Market Position",subtitle:"Market share changes in enterprise software sector",data:[{Stage:"Apple",2023:28,2024:26},{Stage:"Samsung",2023:24,2024:25},{Stage:"Xiaomi",2023:14,2024:16},{Stage:"OPPO",2023:11,2024:12},{Stage:"Vivo",2023:9,2024:10},{Stage:"Others",2023:14,2024:11}]},slopeEducation:{name:"Student Performance",description:"Test scores before and after intervention program",title:"Student Performance by Subject",subtitle:"Academic achievement trends across core subjects",data:[{Stage:"Mathematics","Pre-Test":68,"Post-Test":82},{Stage:"Reading","Pre-Test":74,"Post-Test":84},{Stage:"Writing","Pre-Test":71,"Post-Test":79},{Stage:"Science","Pre-Test":65,"Post-Test":77},{Stage:"Social Studies","Pre-Test":72,"Post-Test":78}]},slopeHealthcare:{name:"Patient Health Outcomes",description:"Health indicators before and after treatment",title:"Patient Health Outcomes",subtitle:"Quality metrics improvement across treatment areas",data:[{Stage:"Blood Pressure",Baseline:145,"3 Months":128},{Stage:"Cholesterol",Baseline:240,"3 Months":195},{Stage:"Weight (kg)",Baseline:92,"3 Months":84},{Stage:"Blood Sugar",Baseline:156,"3 Months":118},{Stage:"Exercise (min/week)",Baseline:45,"3 Months":180}]},aiTechRevenue:{name:"AI Created - Tech Revenue Revolution",description:"Styled data story: Cloud dominating traditional software",title:"The Cloud Revolution",subtitle:"How modern tech stacks are reshaping revenue streams",data:[{Stage:"Cloud Services",2023:45,2024:62},{Stage:"Software Licenses",2023:38,2024:35},{Stage:"Consulting",2023:28,2024:31},{Stage:"Support & Maintenance",2023:22,2024:25},{Stage:"Training",2023:15,2024:18},{Stage:"Hardware",2023:12,2024:9}],stylePreset:{darkMode:!0,fontFamily:"Inter",titleFontSize:32,subtitleFontSize:16,segmentLabelFontSize:14,periodLabelFontSize:16,emphasizedLines:[0],lineThickness:3,colorMode:"custom",userCustomColors:["#06b6d4","#ef4444","#8b5cf6","#10b981","#f59e0b","#6b7280"],axisEnds:"both",slopeAxisLineColor:"#475569",slopeAxisLineWidth:2,slopeAxisLineStyle:"solid",periodHeight:400,chartWidth:700,chartHeight:500,canvasWidth:1e3,canvasHeight:600}},aiMarketBattle:{name:"AI Created - Market Share Shake-Up",description:"Styled data story: Smartphone competition winners and losers",title:"The Smartphone Wars",subtitle:"Chinese brands surge while Apple loses ground",data:[{Stage:"Apple",2023:28,2024:26},{Stage:"Samsung",2023:24,2024:25},{Stage:"Xiaomi",2023:14,2024:16},{Stage:"OPPO",2023:11,2024:12},{Stage:"Vivo",2023:9,2024:10},{Stage:"Others",2023:14,2024:11}],stylePreset:{darkMode:!1,fontFamily:"Inter",titleFontSize:36,subtitleFontSize:18,segmentLabelFontSize:16,periodLabelFontSize:18,emphasizedLines:[2],lineThickness:3,colorMode:"custom",userCustomColors:["#ef4444","#3b82f6","#f97316","#10b981","#8b5cf6","#6b7280"],axisEnds:"both",slopeAxisLineColor:"#1f2937",slopeAxisLineWidth:3,slopeAxisLineStyle:"solid",periodHeight:450,chartWidth:700,chartHeight:520,canvasWidth:1e3,canvasHeight:620}},aiWebsiteWin:{name:"AI Created - Digital Transformation Win",description:"Styled data story: Dramatic website performance improvements",title:"Website Redesign Impact",subtitle:"Before and after: A performance breakthrough",data:[{Stage:"Page Load Time (s)","Old Site":4.2,"New Site":1.8},{Stage:"Bounce Rate (%)","Old Site":62,"New Site":38},{Stage:"Avg Session (min)","Old Site":2.4,"New Site":4.7},{Stage:"Pages per Session","Old Site":3.1,"New Site":5.8},{Stage:"Conversion Rate (%)","Old Site":2.3,"New Site":4.9},{Stage:"Mobile Traffic (%)","Old Site":42,"New Site":68}],stylePreset:{darkMode:!1,fontFamily:"Inter",titleFontSize:34,subtitleFontSize:17,segmentLabelFontSize:14,periodLabelFontSize:16,emphasizedLines:[4],lineThickness:2.5,colorMode:"custom",userCustomColors:["#10b981","#10b981","#06b6d4","#3b82f6","#8b5cf6","#f59e0b"],axisEnds:"both",slopeAxisLineColor:"#374151",slopeAxisLineWidth:2,slopeAxisLineStyle:"solid",periodHeight:480,chartWidth:750,chartHeight:540,canvasWidth:1050,canvasHeight:640}},tufteSlope:{name:"Tufte Slope Chart",description:"Government receipts as % of GDP (1970-1979) - Classic Tufte visualization",chartType:"slope",title:"Current Receipts of Government",subtitle:"Percentage of Gross Domestic Product, 1970 and 1979",stylePreset:"/Examples/current-receipts-of-government-slope-style-2025-11-05.json",data:[{Stage:"Sweden",1970:46.9,1979:57.4},{Stage:"Netherlands",1970:44,1979:55.8},{Stage:"Norway",1970:43.5,1979:52.2},{Stage:"Britain",1970:40.7,1979:39},{Stage:"France",1970:39,1979:43.4},{Stage:"Germany",1970:37.5,1979:42.9},{Stage:"Belgium",1970:35.2,1979:43.2},{Stage:"Canada",1970:35.2,1979:35.8},{Stage:"Finland",1970:34.9,1979:38.2},{Stage:"Italy",1970:30.4,1979:35.7},{Stage:"United States",1970:30.3,1979:32.5},{Stage:"Greece",1970:26.8,1979:30.6},{Stage:"Switzerland",1970:26.5,1979:33.2},{Stage:"Spain",1970:22.5,1979:27.1},{Stage:"Japan",1970:20.7,1979:26.6}]},barSimple:{name:"Units Produced by Region",description:"Production units by regional location",title:"Regional Production Output",subtitle:"Manufacturing units produced by location - January 2024",data:[{Category:"East",Jan:41427},{Category:"Central",Jan:37284},{Category:"North",Jan:22371},{Category:"West",Jan:20134}]},barRegionalSales:{name:"Sales Performance by Region",description:"Compare regional sales across multiple quarters",title:"Q4 Sales by Region",subtitle:"Revenue performance across North American territories",stylePreset:"/Examples/q4-sales-by-region-bar-style-2025-11-04.json",data:[{Category:"North America","Q1 2024":245e3,"Q2 2024":298e3,"Q3 2024":312e3},{Category:"Europe","Q1 2024":189e3,"Q2 2024":215e3,"Q3 2024":228e3},{Category:"Asia Pacific","Q1 2024":156e3,"Q2 2024":198e3,"Q3 2024":245e3},{Category:"Latin America","Q1 2024":98e3,"Q2 2024":112e3,"Q3 2024":125e3}]},barMarketingChannels:{name:"Marketing Channel Performance",description:"Compare marketing channel effectiveness (conversions)",title:"Marketing Channel ROI",subtitle:"Return on investment by acquisition channel",data:[{Category:"Organic Search",2023:12500,2024:15800},{Category:"Paid Social",2023:8900,2024:11200},{Category:"Email Marketing",2023:6700,2024:7400},{Category:"Direct Traffic",2023:5200,2024:5800},{Category:"Referral",2023:3400,2024:4100}]},barProductRevenue:{name:"Product Category Revenue",description:"E-commerce revenue by product category",title:"Product Line Revenue",subtitle:"Annual revenue by product category - 2024",data:[{Category:"Electronics",Jan:145e3,Feb:132e3,Mar:168e3},{Category:"Clothing",Jan:98e3,Feb:115e3,Mar:122e3},{Category:"Home & Garden",Jan:76e3,Feb:82e3,Mar:91e3},{Category:"Sports",Jan:62e3,Feb:71e3,Mar:78e3},{Category:"Books",Jan:34e3,Feb:38e3,Mar:41e3}]},barTeamPerformance:{name:"Team Performance Metrics",description:"Track team productivity across quarters",title:"Sales Team Performance",subtitle:"Individual contributor revenue achievements - Q4 2024",data:[{Category:"Engineering",Q1:145,Q2:162,Q3:178,Q4:189},{Category:"Product",Q1:98,Q2:112,Q3:125,Q4:134},{Category:"Design",Q1:76,Q2:84,Q3:91,Q4:98},{Category:"Marketing",Q1:112,Q2:128,Q3:145,Q4:156}]},barCustomerAcquisition:{name:"Customer Acquisition by Source",description:"New customers acquired through different channels",title:"Customer Acquisition Cost by Channel",subtitle:"Cost efficiency analysis across marketing channels",data:[{Category:"Google Ads","Month 1":450,"Month 2":520,"Month 3":580},{Category:"Facebook Ads","Month 1":380,"Month 2":420,"Month 3":390},{Category:"Content Marketing","Month 1":290,"Month 2":340,"Month 3":410},{Category:"Partnerships","Month 1":180,"Month 2":210,"Month 3":245},{Category:"Events","Month 1":120,"Month 2":95,"Month 3":145}]},webTrafficYearly:{name:"Web Traffic (Yearly)",description:"Website metrics tracked annually from 2015-2024",chartType:"line",title:"Annual Website Performance",subtitle:"Yearly trends in visitors, page views, and conversions",data:[{date:"2015-01-01",Visitors:12500,PageViews:18900,Conversions:4800},{date:"2016-01-01",Visitors:14800,PageViews:23400,Conversions:6200},{date:"2017-01-01",Visitors:17500,PageViews:28900,Conversions:8100},{date:"2018-01-01",Visitors:20300,PageViews:35200,Conversions:10500},{date:"2019-01-01",Visitors:23900,PageViews:42100,Conversions:13200},{date:"2020-01-01",Visitors:26800,PageViews:48500,Conversions:15800},{date:"2021-01-01",Visitors:31400,PageViews:56200,Conversions:19400},{date:"2022-01-01",Visitors:35800,PageViews:63900,Conversions:23100},{date:"2023-01-01",Visitors:40100,PageViews:71500,Conversions:27500},{date:"2024-01-01",Visitors:43900,PageViews:78300,Conversions:31200}],metricNames:["Visitors","PageViews","Conversions"],timeScale:"year"},salesMonthly:{name:"Online Sales (Monthly)",description:"E-commerce revenue and orders tracked monthly for 2024",chartType:"line",title:"2024 Monthly Sales Performance",subtitle:"Revenue, orders, and customer count throughout the year",data:[{date:"2024-01-01",Revenue:28500,Orders:14200,Customers:12400},{date:"2024-02-01",Revenue:29800,Orders:15100,Customers:13100},{date:"2024-03-01",Revenue:34200,Orders:16800,Customers:14500},{date:"2024-04-01",Revenue:36700,Orders:17900,Customers:15400},{date:"2024-05-01",Revenue:38900,Orders:18500,Customers:15900},{date:"2024-06-01",Revenue:41200,Orders:19200,Customers:16500},{date:"2024-07-01",Revenue:39800,Orders:18700,Customers:16100},{date:"2024-08-01",Revenue:42100,Orders:19500,Customers:16800},{date:"2024-09-01",Revenue:45600,Orders:20800,Customers:17900},{date:"2024-10-01",Revenue:48900,Orders:22100,Customers:19e3},{date:"2024-11-01",Revenue:51200,Orders:23400,Customers:20100},{date:"2024-12-01",Revenue:58700,Orders:26500,Customers:22800}],metricNames:["Revenue","Orders","Customers"],timeScale:"month"},patientOutcomesMonthly:{name:"Patient Outcomes (Monthly)",description:"Hospital metrics: admissions, treatments, and discharges",chartType:"line",title:"Patient Care Metrics - 2024",subtitle:"Monthly tracking of admissions, treatments, and discharges",data:[{date:"2024-01-01",Admissions:12500,Treatments:18900,Discharges:11800},{date:"2024-02-01",Admissions:11800,Treatments:17600,Discharges:11100},{date:"2024-03-01",Admissions:13200,Treatments:19500,Discharges:12400},{date:"2024-04-01",Admissions:12800,Treatments:19e3,Discharges:12100},{date:"2024-05-01",Admissions:12400,Treatments:18300,Discharges:11700},{date:"2024-06-01",Admissions:11900,Treatments:17800,Discharges:11300},{date:"2024-07-01",Admissions:12100,Treatments:18100,Discharges:11500},{date:"2024-08-01",Admissions:12300,Treatments:18400,Discharges:11700},{date:"2024-09-01",Admissions:12900,Treatments:19200,Discharges:12200},{date:"2024-10-01",Admissions:13400,Treatments:19900,Discharges:12700},{date:"2024-11-01",Admissions:13800,Treatments:20500,Discharges:13100},{date:"2024-12-01",Admissions:14200,Treatments:21100,Discharges:13500}],metricNames:["Admissions","Treatments","Discharges"],timeScale:"month"},serverMetricsDaily:{name:"Server Performance (Daily)",description:"System metrics over 30 days: requests, sessions, and errors",chartType:"line",title:"Server Performance - Last 30 Days",subtitle:"Daily tracking of requests, active sessions, and error count",data:[{date:"2024-10-01",Requests:14500,Sessions:12300,Errors:4500},{date:"2024-10-02",Requests:15200,Sessions:12800,Errors:4800},{date:"2024-10-03",Requests:15800,Sessions:13200,Errors:5200},{date:"2024-10-04",Requests:14900,Sessions:12900,Errors:4900},{date:"2024-10-05",Requests:13800,Sessions:11800,Errors:4300},{date:"2024-10-06",Requests:13200,Sessions:11500,Errors:4100},{date:"2024-10-07",Requests:14700,Sessions:12400,Errors:4700},{date:"2024-10-08",Requests:15600,Sessions:13100,Errors:5100},{date:"2024-10-09",Requests:16200,Sessions:13700,Errors:5400},{date:"2024-10-10",Requests:17100,Sessions:14200,Errors:5800},{date:"2024-10-11",Requests:17800,Sessions:14800,Errors:6200},{date:"2024-10-12",Requests:16900,Sessions:14300,Errors:5900},{date:"2024-10-13",Requests:15700,Sessions:13500,Errors:5300},{date:"2024-10-14",Requests:15100,Sessions:13e3,Errors:5e3},{date:"2024-10-15",Requests:16400,Sessions:13800,Errors:5500},{date:"2024-10-16",Requests:17300,Sessions:14500,Errors:6e3},{date:"2024-10-17",Requests:18200,Sessions:15100,Errors:6300},{date:"2024-10-18",Requests:18900,Sessions:15600,Errors:6700},{date:"2024-10-19",Requests:18400,Sessions:15300,Errors:6500},{date:"2024-10-20",Requests:17500,Sessions:14700,Errors:6100},{date:"2024-10-21",Requests:16800,Sessions:14100,Errors:5800},{date:"2024-10-22",Requests:18e3,Sessions:15e3,Errors:6400},{date:"2024-10-23",Requests:19200,Sessions:15800,Errors:6800},{date:"2024-10-24",Requests:19800,Sessions:16200,Errors:7100},{date:"2024-10-25",Requests:20400,Sessions:16700,Errors:7300},{date:"2024-10-26",Requests:19500,Sessions:16100,Errors:6900},{date:"2024-10-27",Requests:18700,Sessions:15500,Errors:6600},{date:"2024-10-28",Requests:17900,Sessions:14900,Errors:6300},{date:"2024-10-29",Requests:19600,Sessions:16300,Errors:7e3},{date:"2024-10-30",Requests:20700,Sessions:16900,Errors:7400}],metricNames:["Requests","Sessions","Errors"],timeScale:"day"},stockPricesDaily:{name:"Product Sales (Daily)",description:"Product category sales tracked daily over Q4 2024",chartType:"line",title:"Product Sales Comparison - Q4 2024",subtitle:"Daily sales for major product categories",data:[{date:"2024-10-01",Electronics:22750,Clothing:41520,HomeGoods:16380,Sports:17830},{date:"2024-10-02",Electronics:22910,Clothing:41780,HomeGoods:16450,Sports:17980},{date:"2024-10-03",Electronics:22830,Clothing:41650,HomeGoods:16390,Sports:17890},{date:"2024-10-04",Electronics:23070,Clothing:41920,HomeGoods:16520,Sports:18120},{date:"2024-10-07",Electronics:23210,Clothing:42160,HomeGoods:16610,Sports:18250},{date:"2024-10-08",Electronics:23140,Clothing:42030,HomeGoods:16570,Sports:18190},{date:"2024-10-09",Electronics:23380,Clothing:42370,HomeGoods:16730,Sports:18380},{date:"2024-10-10",Electronics:23520,Clothing:42590,HomeGoods:16850,Sports:18510},{date:"2024-10-11",Electronics:23460,Clothing:42480,HomeGoods:16790,Sports:18440},{date:"2024-10-14",Electronics:23690,Clothing:42740,HomeGoods:16970,Sports:18670},{date:"2024-10-15",Electronics:23810,Clothing:42920,HomeGoods:17080,Sports:18790},{date:"2024-10-16",Electronics:23750,Clothing:42810,HomeGoods:17020,Sports:18720},{date:"2024-10-17",Electronics:23980,Clothing:43150,HomeGoods:17210,Sports:18950},{date:"2024-10-18",Electronics:24120,Clothing:43380,HomeGoods:17340,Sports:19080},{date:"2024-10-21",Electronics:24050,Clothing:43260,HomeGoods:17270,Sports:19010},{date:"2024-10-22",Electronics:24280,Clothing:43590,HomeGoods:17450,Sports:19230},{date:"2024-10-23",Electronics:24410,Clothing:43770,HomeGoods:17580,Sports:19360},{date:"2024-10-24",Electronics:24340,Clothing:43640,HomeGoods:17510,Sports:19280},{date:"2024-10-25",Electronics:24570,Clothing:43980,HomeGoods:17720,Sports:19510},{date:"2024-10-28",Electronics:24730,Clothing:44210,HomeGoods:17860,Sports:19670},{date:"2024-10-29",Electronics:24650,Clothing:44080,HomeGoods:17790,Sports:19590},{date:"2024-10-30",Electronics:24890,Clothing:44420,HomeGoods:18010,Sports:19830}],metricNames:["Electronics","Clothing","HomeGoods","Sports"],timeScale:"day"},ecommerceDailyH1:{name:"E-commerce Sales (Daily H1 2024)",description:"Daily e-commerce metrics for first half of 2024 - ideal for time aggregation testing",chartType:"line",title:"E-commerce Performance - H1 2024",subtitle:"Daily revenue, orders, and conversion rate (Jan-Jun 2024)",data:Ly("2024-01-01",181),metricNames:["Revenue","Orders","ConversionRate"],timeScale:"day"},clothingRetail2Years:{name:"Online Clothing Retail (2 Years Daily)",description:"2 years of daily product category sales with Back to School and Holiday seasonality",chartType:"line",title:"Online Clothing Retail Sales",subtitle:"Daily sales by product category (2023-2024) with seasonal trends",data:Py("2023-01-01",730),metricNames:["Shoes","Shirts","Pants","Socks","Accessories"],timeScale:"day"},marketingChannelRevenue:{name:"Marketing Channel Revenue",description:"Monthly revenue by marketing channel (2023-2024)",chartType:"line",title:"Marketing Channel Performance",subtitle:"Monthly revenue breakdown by acquisition channel",stylePreset:"/Examples/affiliate-revenue-disappeared-in-january-line-style-2025-11-05.json",data:[{date:"2023-01",Direct:110941.87,"Paid Search":89469.25,Email:35787.7,Affiliate:121678.18,Display:0},{date:"2023-02",Direct:203948.69,"Paid Search":164474.75,Email:65789.9,Affiliate:223685.66,Display:0},{date:"2023-03",Direct:221891.49,"Paid Search":178944.75,Email:71577.9,Affiliate:243364.86,Display:0},{date:"2023-04",Direct:223896.57,"Paid Search":180561.75,Email:72224.7,Affiliate:245563.98,Display:0},{date:"2023-05",Direct:261945.97,"Paid Search":211246.75,Email:84498.7,Affiliate:287295.58,Display:0},{date:"2023-06",Direct:213197.85,"Paid Search":171933.75,Email:68773.5,Affiliate:233829.9,Display:0},{date:"2023-07",Direct:182258.92,"Paid Search":146983,Email:58793.2,Affiliate:199896.88,Display:0},{date:"2023-08",Direct:191420.97,"Paid Search":154371.75,Email:61748.7,Affiliate:209945.58,Display:0},{date:"2023-09",Direct:168130.67,"Paid Search":135589.25,Email:54235.7,Affiliate:184401.38,Display:0},{date:"2023-10",Direct:224625.38,"Paid Search":181149.5,Email:72459.8,Affiliate:246363.32,Display:0},{date:"2023-11",Direct:271497.69,"Paid Search":218949.75,Email:87579.9,Affiliate:297771.66,Display:0},{date:"2023-12",Direct:358018.07,"Paid Search":288724.25,Email:115489.7,Affiliate:392664.98,Display:0},{date:"2024-01",Direct:124541.196,"Paid Search":103784.33,Email:41513.732,Affiliate:103784.33,Display:41513.732},{date:"2024-02",Direct:36184.445,"Paid Search":72368.89,Email:14473.778,Affiliate:0,Display:21710.667},{date:"2024-03",Direct:50104.53,"Paid Search":100209.06,Email:20041.812,Affiliate:0,Display:30062.718},{date:"2024-04",Direct:63196.6125,"Paid Search":126393.225,Email:25278.645,Affiliate:0,Display:37917.9675},{date:"2024-05",Direct:80273.765,"Paid Search":160547.53,Email:32109.506,Affiliate:0,Display:48164.259}],metricNames:["Direct","Paid Search","Email","Affiliate","Display"],timeScale:"month"}},ol=e=>Ey[e]||null,Fy=e=>["ageComparison","abTest","deviceComparison","channelComparison","timeComparison"].includes(e);var Mc={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var _y=Mc.exports,Mm;function Ty(){return Mm||(Mm=1,(function(e,r){((a,i)=>{e.exports=i()})(_y,function a(){var i=typeof self<"u"?self:typeof window<"u"?window:i!==void 0?i:{},c,u=!i.document&&!!i.postMessage,h=i.IS_PAPA_WORKER||!1,p={},x=0,m={};function y(N){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(P){var M=U(P);M.chunkSize=parseInt(M.chunkSize),P.step||P.chunk||(M.chunkSize=null),this._handle=new z(M),(this._handle.streamer=this)._config=M}).call(this,N),this.parseChunk=function(P,M){var A=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<A){let te=this._config.newline;te||(G=this._config.quoteChar||'"',te=this._handle.guessLineEndings(P,G)),P=[...P.split(te).slice(A)].join(te)}this.isFirstChunk&&I(this._config.beforeFirstChunk)&&(G=this._config.beforeFirstChunk(P))!==void 0&&(P=G),this.isFirstChunk=!1,this._halted=!1;var A=this._partialLine+P,G=(this._partialLine="",this._handle.parse(A,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(P=G.meta.cursor,A=(this._finished||(this._partialLine=A.substring(P-this._baseIndex),this._baseIndex=P),G&&G.data&&(this._rowCount+=G.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),h)i.postMessage({results:G,workerId:m.WORKER_ID,finished:A});else if(I(this._config.chunk)&&!M){if(this._config.chunk(G,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=G=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(G.data),this._completeResults.errors=this._completeResults.errors.concat(G.errors),this._completeResults.meta=G.meta),this._completed||!A||!I(this._config.complete)||G&&G.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),A||G&&G.meta.paused||this._nextChunk(),G}this._halted=!0},this._sendError=function(P){I(this._config.error)?this._config.error(P):h&&this._config.error&&i.postMessage({workerId:m.WORKER_ID,error:P,finished:!1})}}function v(N){var P;(N=N||{}).chunkSize||(N.chunkSize=m.RemoteChunkSize),y.call(this,N),this._nextChunk=u?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(M){this._input=M,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(P=new XMLHttpRequest,this._config.withCredentials&&(P.withCredentials=this._config.withCredentials),u||(P.onload=H(this._chunkLoaded,this),P.onerror=H(this._chunkError,this)),P.open(this._config.downloadRequestBody?"POST":"GET",this._input,!u),this._config.downloadRequestHeaders){var M,A=this._config.downloadRequestHeaders;for(M in A)P.setRequestHeader(M,A[M])}var G;this._config.chunkSize&&(G=this._start+this._config.chunkSize-1,P.setRequestHeader("Range","bytes="+this._start+"-"+G));try{P.send(this._config.downloadRequestBody)}catch(te){this._chunkError(te.message)}u&&P.status===0&&this._chunkError()}},this._chunkLoaded=function(){P.readyState===4&&(P.status<200||400<=P.status?this._chunkError():(this._start+=this._config.chunkSize||P.responseText.length,this._finished=!this._config.chunkSize||this._start>=(M=>(M=M.getResponseHeader("Content-Range"))!==null?parseInt(M.substring(M.lastIndexOf("/")+1)):-1)(P),this.parseChunk(P.responseText)))},this._chunkError=function(M){M=P.statusText||M,this._sendError(new Error(M))}}function b(N){(N=N||{}).chunkSize||(N.chunkSize=m.LocalChunkSize),y.call(this,N);var P,M,A=typeof FileReader<"u";this.stream=function(G){this._input=G,M=G.slice||G.webkitSlice||G.mozSlice,A?((P=new FileReader).onload=H(this._chunkLoaded,this),P.onerror=H(this._chunkError,this)):P=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var G=this._input,te=(this._config.chunkSize&&(te=Math.min(this._start+this._config.chunkSize,this._input.size),G=M.call(G,this._start,te)),P.readAsText(G,this._config.encoding));A||this._chunkLoaded({target:{result:te}})},this._chunkLoaded=function(G){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(G.target.result)},this._chunkError=function(){this._sendError(P.error)}}function d(N){var P;y.call(this,N=N||{}),this.stream=function(M){return P=M,this._nextChunk()},this._nextChunk=function(){var M,A;if(!this._finished)return M=this._config.chunkSize,P=M?(A=P.substring(0,M),P.substring(M)):(A=P,""),this._finished=!P,this.parseChunk(A)}}function j(N){y.call(this,N=N||{});var P=[],M=!0,A=!1;this.pause=function(){y.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){y.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(G){this._input=G,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){A&&P.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),P.length?this.parseChunk(P.shift()):M=!0},this._streamData=H(function(G){try{P.push(typeof G=="string"?G:G.toString(this._config.encoding)),M&&(M=!1,this._checkIsFinished(),this.parseChunk(P.shift()))}catch(te){this._streamError(te)}},this),this._streamError=H(function(G){this._streamCleanUp(),this._sendError(G)},this),this._streamEnd=H(function(){this._streamCleanUp(),A=!0,this._streamData("")},this),this._streamCleanUp=H(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function z(N){var P,M,A,G,te=Math.pow(2,53),ee=-te,w=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ze=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,ve=this,re=0,ae=0,le=!1,_=!1,Y=[],se={data:[],errors:[],meta:{}};function ue(ke){return N.skipEmptyLines==="greedy"?ke.join("").trim()==="":ke.length===1&&ke[0].length===0}function be(){if(se&&A&&(Ee("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+m.DefaultDelimiter+"'"),A=!1),N.skipEmptyLines&&(se.data=se.data.filter(function(D){return!ue(D)})),de()){let D=function(ne,J){I(N.transformHeader)&&(ne=N.transformHeader(ne,J)),Y.push(ne)};var q=D;if(se)if(Array.isArray(se.data[0])){for(var ke=0;de()&&ke<se.data.length;ke++)se.data[ke].forEach(D);se.data.splice(0,1)}else se.data.forEach(D)}function K(D,ne){for(var J=N.header?{}:[],me=0;me<D.length;me++){var ye=me,Ue=D[me],Ue=((_e,Qe)=>(bt=>(N.dynamicTypingFunction&&N.dynamicTyping[bt]===void 0&&(N.dynamicTyping[bt]=N.dynamicTypingFunction(bt)),(N.dynamicTyping[bt]||N.dynamicTyping)===!0))(_e)?Qe==="true"||Qe==="TRUE"||Qe!=="false"&&Qe!=="FALSE"&&((bt=>{if(w.test(bt)&&(bt=parseFloat(bt),ee<bt&&bt<te))return 1})(Qe)?parseFloat(Qe):ze.test(Qe)?new Date(Qe):Qe===""?null:Qe):Qe)(ye=N.header?me>=Y.length?"__parsed_extra":Y[me]:ye,Ue=N.transform?N.transform(Ue,ye):Ue);ye==="__parsed_extra"?(J[ye]=J[ye]||[],J[ye].push(Ue)):J[ye]=Ue}return N.header&&(me>Y.length?Ee("FieldMismatch","TooManyFields","Too many fields: expected "+Y.length+" fields but parsed "+me,ae+ne):me<Y.length&&Ee("FieldMismatch","TooFewFields","Too few fields: expected "+Y.length+" fields but parsed "+me,ae+ne)),J}var Ce;se&&(N.header||N.dynamicTyping||N.transform)&&(Ce=1,!se.data.length||Array.isArray(se.data[0])?(se.data=se.data.map(K),Ce=se.data.length):se.data=K(se.data,0),N.header&&se.meta&&(se.meta.fields=Y),ae+=Ce)}function de(){return N.header&&Y.length===0}function Ee(ke,K,Ce,q){ke={type:ke,code:K,message:Ce},q!==void 0&&(ke.row=q),se.errors.push(ke)}I(N.step)&&(G=N.step,N.step=function(ke){se=ke,de()?be():(be(),se.data.length!==0&&(re+=ke.data.length,N.preview&&re>N.preview?M.abort():(se.data=se.data[0],G(se,ve))))}),this.parse=function(ke,K,Ce){var q=N.quoteChar||'"',q=(N.newline||(N.newline=this.guessLineEndings(ke,q)),A=!1,N.delimiter?I(N.delimiter)&&(N.delimiter=N.delimiter(ke),se.meta.delimiter=N.delimiter):((q=((D,ne,J,me,ye)=>{var Ue,_e,Qe,bt;ye=ye||[",","	","|",";",m.RECORD_SEP,m.UNIT_SEP];for(var ft=0;ft<ye.length;ft++){for(var vt,ln=ye[ft],$t=0,Yt=0,kt=0,Bt=(Qe=void 0,new O({comments:me,delimiter:ln,newline:ne,preview:10}).parse(D)),lt=0;lt<Bt.data.length;lt++)J&&ue(Bt.data[lt])?kt++:(vt=Bt.data[lt].length,Yt+=vt,Qe===void 0?Qe=vt:0<vt&&($t+=Math.abs(vt-Qe),Qe=vt));0<Bt.data.length&&(Yt/=Bt.data.length-kt),(_e===void 0||$t<=_e)&&(bt===void 0||bt<Yt)&&1.99<Yt&&(_e=$t,Ue=ln,bt=Yt)}return{successful:!!(N.delimiter=Ue),bestDelimiter:Ue}})(ke,N.newline,N.skipEmptyLines,N.comments,N.delimitersToGuess)).successful?N.delimiter=q.bestDelimiter:(A=!0,N.delimiter=m.DefaultDelimiter),se.meta.delimiter=N.delimiter),U(N));return N.preview&&N.header&&q.preview++,P=ke,M=new O(q),se=M.parse(P,K,Ce),be(),le?{meta:{paused:!0}}:se||{meta:{paused:!1}}},this.paused=function(){return le},this.pause=function(){le=!0,M.abort(),P=I(N.chunk)?"":P.substring(M.getCharIndex())},this.resume=function(){ve.streamer._halted?(le=!1,ve.streamer.parseChunk(P,!0)):setTimeout(ve.resume,3)},this.aborted=function(){return _},this.abort=function(){_=!0,M.abort(),se.meta.aborted=!0,I(N.complete)&&N.complete(se),P=""},this.guessLineEndings=function(D,q){D=D.substring(0,1048576);var q=new RegExp(S(q)+"([^]*?)"+S(q),"gm"),Ce=(D=D.replace(q,"")).split("\r"),q=D.split(`
`),D=1<q.length&&q[0].length<Ce[0].length;if(Ce.length===1||D)return`
`;for(var ne=0,J=0;J<Ce.length;J++)Ce[J][0]===`
`&&ne++;return ne>=Ce.length/2?`\r
`:"\r"}}function S(N){return N.replace(/[.*+?^${}()|[\]\\]/g,"\\<script type="module" crossorigin src="/assets/index-BXEYHHwi.js"></script>")}function O(N){var P=(N=N||{}).delimiter,M=N.newline,A=N.comments,G=N.step,te=N.preview,ee=N.fastMode,w=null,ze=!1,ve=N.quoteChar==null?'"':N.quoteChar,re=ve;if(N.escapeChar!==void 0&&(re=N.escapeChar),(typeof P!="string"||-1<m.BAD_DELIMITERS.indexOf(P))&&(P=","),A===P)throw new Error("Comment character same as delimiter");A===!0?A="#":(typeof A!="string"||-1<m.BAD_DELIMITERS.indexOf(A))&&(A=!1),M!==`
`&&M!=="\r"&&M!==`\r
`&&(M=`
`);var ae=0,le=!1;this.parse=function(_,Y,se){if(typeof _!="string")throw new Error("Input must be a string");var ue=_.length,be=P.length,de=M.length,Ee=A.length,ke=I(G),K=[],Ce=[],q=[],D=ae=0;if(!_)return $t();if(ee||ee!==!1&&_.indexOf(ve)===-1){for(var ne=_.split(M),J=0;J<ne.length;J++){if(q=ne[J],ae+=q.length,J!==ne.length-1)ae+=M.length;else if(se)return $t();if(!A||q.substring(0,Ee)!==A){if(ke){if(K=[],bt(q.split(P)),Yt(),le)return $t()}else bt(q.split(P));if(te&&te<=J)return K=K.slice(0,te),$t(!0)}}return $t()}for(var me=_.indexOf(P,ae),ye=_.indexOf(M,ae),Ue=new RegExp(S(re)+S(ve),"g"),_e=_.indexOf(ve,ae);;)if(_[ae]===ve)for(_e=ae,ae++;;){if((_e=_.indexOf(ve,_e+1))===-1)return se||Ce.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:K.length,index:ae}),vt();if(_e===ue-1)return vt(_.substring(ae,_e).replace(Ue,ve));if(ve===re&&_[_e+1]===re)_e++;else if(ve===re||_e===0||_[_e-1]!==re){me!==-1&&me<_e+1&&(me=_.indexOf(P,_e+1));var Qe=ft((ye=ye!==-1&&ye<_e+1?_.indexOf(M,_e+1):ye)===-1?me:Math.min(me,ye));if(_.substr(_e+1+Qe,be)===P){q.push(_.substring(ae,_e).replace(Ue,ve)),_[ae=_e+1+Qe+be]!==ve&&(_e=_.indexOf(ve,ae)),me=_.indexOf(P,ae),ye=_.indexOf(M,ae);break}if(Qe=ft(ye),_.substring(_e+1+Qe,_e+1+Qe+de)===M){if(q.push(_.substring(ae,_e).replace(Ue,ve)),ln(_e+1+Qe+de),me=_.indexOf(P,ae),_e=_.indexOf(ve,ae),ke&&(Yt(),le))return $t();if(te&&K.length>=te)return $t(!0);break}Ce.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:K.length,index:ae}),_e++}}else if(A&&q.length===0&&_.substring(ae,ae+Ee)===A){if(ye===-1)return $t();ae=ye+de,ye=_.indexOf(M,ae),me=_.indexOf(P,ae)}else if(me!==-1&&(me<ye||ye===-1))q.push(_.substring(ae,me)),ae=me+be,me=_.indexOf(P,ae);else{if(ye===-1)break;if(q.push(_.substring(ae,ye)),ln(ye+de),ke&&(Yt(),le))return $t();if(te&&K.length>=te)return $t(!0)}return vt();function bt(kt){K.push(kt),D=ae}function ft(kt){var Bt=0;return Bt=kt!==-1&&(kt=_.substring(_e+1,kt))&&kt.trim()===""?kt.length:Bt}function vt(kt){return se||(kt===void 0&&(kt=_.substring(ae)),q.push(kt),ae=ue,bt(q),ke&&Yt()),$t()}function ln(kt){ae=kt,bt(q),q=[],ye=_.indexOf(M,ae)}function $t(kt){if(N.header&&!Y&&K.length&&!ze){var Bt=K[0],lt=Object.create(null),tn=new Set(Bt);let fn=!1;for(let Gt=0;Gt<Bt.length;Gt++){let nn=Bt[Gt];if(lt[nn=I(N.transformHeader)?N.transformHeader(nn,Gt):nn]){let vn,hn=lt[nn];for(;vn=nn+"_"+hn,hn++,tn.has(vn););tn.add(vn),Bt[Gt]=vn,lt[nn]++,fn=!0,(w=w===null?{}:w)[vn]=nn}else lt[nn]=1,Bt[Gt]=nn;tn.add(nn)}fn&&console.warn("Duplicate headers found and renamed."),ze=!0}return{data:K,errors:Ce,meta:{delimiter:P,linebreak:M,aborted:le,truncated:!!kt,cursor:D+(Y||0),renamedHeaders:w}}}function Yt(){G($t()),K=[],Ce=[]}},this.abort=function(){le=!0},this.getCharIndex=function(){return ae}}function T(N){var P=N.data,M=p[P.workerId],A=!1;if(P.error)M.userError(P.error,P.file);else if(P.results&&P.results.data){var G={abort:function(){A=!0,W(P.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:F,resume:F};if(I(M.userStep)){for(var te=0;te<P.results.data.length&&(M.userStep({data:P.results.data[te],errors:P.results.errors,meta:P.results.meta},G),!A);te++);delete P.results}else I(M.userChunk)&&(M.userChunk(P.results,G,P.file),delete P.results)}P.finished&&!A&&W(P.workerId,P.results)}function W(N,P){var M=p[N];I(M.userComplete)&&M.userComplete(P),M.terminate(),delete p[N]}function F(){throw new Error("Not implemented.")}function U(N){if(typeof N!="object"||N===null)return N;var P,M=Array.isArray(N)?[]:{};for(P in N)M[P]=U(N[P]);return M}function H(N,P){return function(){N.apply(P,arguments)}}function I(N){return typeof N=="function"}return m.parse=function(N,P){var M=(P=P||{}).dynamicTyping||!1;if(I(M)&&(P.dynamicTypingFunction=M,M={}),P.dynamicTyping=M,P.transform=!!I(P.transform)&&P.transform,!P.worker||!m.WORKERS_SUPPORTED)return M=null,m.NODE_STREAM_INPUT,typeof N=="string"?(N=(A=>A.charCodeAt(0)!==65279?A:A.slice(1))(N),M=new(P.download?v:d)(P)):N.readable===!0&&I(N.read)&&I(N.on)?M=new j(P):(i.File&&N instanceof File||N instanceof Object)&&(M=new b(P)),M.stream(N);(M=(()=>{var A;return!!m.WORKERS_SUPPORTED&&(A=(()=>{var G=i.URL||i.webkitURL||null,te=a.toString();return m.BLOB_URL||(m.BLOB_URL=G.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",te,")();"],{type:"text/javascript"})))})(),(A=new i.Worker(A)).onmessage=T,A.id=x++,p[A.id]=A)})()).userStep=P.step,M.userChunk=P.chunk,M.userComplete=P.complete,M.userError=P.error,P.step=I(P.step),P.chunk=I(P.chunk),P.complete=I(P.complete),P.error=I(P.error),delete P.worker,M.postMessage({input:N,config:P,workerId:M.id})},m.unparse=function(N,P){var M=!1,A=!0,G=",",te=`\r
`,ee='"',w=ee+ee,ze=!1,ve=null,re=!1,ae=((()=>{if(typeof P=="object"){if(typeof P.delimiter!="string"||m.BAD_DELIMITERS.filter(function(Y){return P.delimiter.indexOf(Y)!==-1}).length||(G=P.delimiter),typeof P.quotes!="boolean"&&typeof P.quotes!="function"&&!Array.isArray(P.quotes)||(M=P.quotes),typeof P.skipEmptyLines!="boolean"&&typeof P.skipEmptyLines!="string"||(ze=P.skipEmptyLines),typeof P.newline=="string"&&(te=P.newline),typeof P.quoteChar=="string"&&(ee=P.quoteChar),typeof P.header=="boolean"&&(A=P.header),Array.isArray(P.columns)){if(P.columns.length===0)throw new Error("Option columns is empty");ve=P.columns}P.escapeChar!==void 0&&(w=P.escapeChar+ee),P.escapeFormulae instanceof RegExp?re=P.escapeFormulae:typeof P.escapeFormulae=="boolean"&&P.escapeFormulae&&(re=/^[=+\-@\t\r].*$/)}})(),new RegExp(S(ee),"g"));if(typeof N=="string"&&(N=JSON.parse(N)),Array.isArray(N)){if(!N.length||Array.isArray(N[0]))return le(null,N,ze);if(typeof N[0]=="object")return le(ve||Object.keys(N[0]),N,ze)}else if(typeof N=="object")return typeof N.data=="string"&&(N.data=JSON.parse(N.data)),Array.isArray(N.data)&&(N.fields||(N.fields=N.meta&&N.meta.fields||ve),N.fields||(N.fields=Array.isArray(N.data[0])?N.fields:typeof N.data[0]=="object"?Object.keys(N.data[0]):[]),Array.isArray(N.data[0])||typeof N.data[0]=="object"||(N.data=[N.data])),le(N.fields||[],N.data||[],ze);throw new Error("Unable to serialize unrecognized input");function le(Y,se,ue){var be="",de=(typeof Y=="string"&&(Y=JSON.parse(Y)),typeof se=="string"&&(se=JSON.parse(se)),Array.isArray(Y)&&0<Y.length),Ee=!Array.isArray(se[0]);if(de&&A){for(var ke=0;ke<Y.length;ke++)0<ke&&(be+=G),be+=_(Y[ke],ke);0<se.length&&(be+=te)}for(var K=0;K<se.length;K++){var Ce=(de?Y:se[K]).length,q=!1,D=de?Object.keys(se[K]).length===0:se[K].length===0;if(ue&&!de&&(q=ue==="greedy"?se[K].join("").trim()==="":se[K].length===1&&se[K][0].length===0),ue==="greedy"&&de){for(var ne=[],J=0;J<Ce;J++){var me=Ee?Y[J]:J;ne.push(se[K][me])}q=ne.join("").trim()===""}if(!q){for(var ye=0;ye<Ce;ye++){0<ye&&!D&&(be+=G);var Ue=de&&Ee?Y[ye]:ye;be+=_(se[K][Ue],ye)}K<se.length-1&&(!ue||0<Ce&&!D)&&(be+=te)}}return be}function _(Y,se){var ue,be;return Y==null?"":Y.constructor===Date?JSON.stringify(Y).slice(1,25):(be=!1,re&&typeof Y=="string"&&re.test(Y)&&(Y="'"+Y,be=!0),ue=Y.toString().replace(ae,w),(be=be||M===!0||typeof M=="function"&&M(Y,se)||Array.isArray(M)&&M[se]||((de,Ee)=>{for(var ke=0;ke<Ee.length;ke++)if(-1<de.indexOf(Ee[ke]))return!0;return!1})(ue,m.BAD_DELIMITERS)||-1<ue.indexOf(G)||ue.charAt(0)===" "||ue.charAt(ue.length-1)===" ")?ee+ue+ee:ue)}},m.RECORD_SEP="",m.UNIT_SEP="",m.BYTE_ORDER_MARK="\uFEFF",m.BAD_DELIMITERS=["\r",`
`,'"',m.BYTE_ORDER_MARK],m.WORKERS_SUPPORTED=!u&&!!i.Worker,m.NODE_STREAM_INPUT=1,m.LocalChunkSize=10485760,m.RemoteChunkSize=5242880,m.DefaultDelimiter=",",m.Parser=O,m.ParserHandle=z,m.NetworkStreamer=v,m.FileStreamer=b,m.StringStreamer=d,m.ReadableStreamStreamer=j,i.jQuery&&((c=i.jQuery).fn.parse=function(N){var P=N.config||{},M=[];return this.each(function(te){if(!(c(this).prop("tagName").toUpperCase()==="INPUT"&&c(this).attr("type").toLowerCase()==="file"&&i.FileReader)||!this.files||this.files.length===0)return!0;for(var ee=0;ee<this.files.length;ee++)M.push({file:this.files[ee],inputElem:this,instanceConfig:c.extend({},P)})}),A(),this;function A(){if(M.length===0)I(N.complete)&&N.complete();else{var te,ee,w,ze,ve=M[0];if(I(N.before)){var re=N.before(ve.file,ve.inputElem);if(typeof re=="object"){if(re.action==="abort")return te="AbortError",ee=ve.file,w=ve.inputElem,ze=re.reason,void(I(N.error)&&N.error({name:te},ee,w,ze));if(re.action==="skip")return void G();typeof re.config=="object"&&(ve.instanceConfig=c.extend(ve.instanceConfig,re.config))}else if(re==="skip")return void G()}var ae=ve.instanceConfig.complete;ve.instanceConfig.complete=function(le){I(ae)&&ae(le,ve.file,ve.inputElem),G()},m.parse(ve.file,ve.instanceConfig)}}function G(){M.splice(0,1),A()}}),h&&(i.onmessage=function(N){N=N.data,m.WORKER_ID===void 0&&N&&(m.WORKER_ID=N.workerId),typeof N.input=="string"?i.postMessage({workerId:m.WORKER_ID,results:m.parse(N.input,N.config),finished:!0}):(i.File&&N.input instanceof File||N.input instanceof Object)&&(N=m.parse(N.input,N.config))&&i.postMessage({workerId:m.WORKER_ID,results:N,finished:!0})}),(v.prototype=Object.create(y.prototype)).constructor=v,(b.prototype=Object.create(y.prototype)).constructor=b,(d.prototype=Object.create(d.prototype)).constructor=d,(j.prototype=Object.create(y.prototype)).constructor=j,m})})(Mc)),Mc.exports}var zy=Ty();const X0=of(zy),Ay=Object.freeze(Object.defineProperty({__proto__:null,default:X0},Symbol.toStringTag,{value:"Module"})),Dy=e=>new Promise((r,a)=>{X0.parse(e,{header:!0,dynamicTyping:!1,skipEmptyLines:!0,complete:i=>{const c=i.meta.fields.map(h=>h.replace(/^\uFEFF/,"")),u=i.data.map(h=>{const p={};return i.meta.fields.forEach((x,m)=>{const y=c[m];let v=h[x];if(typeof v=="string"){v=v.trim();const b=v.replace(/,/g,"");p[y]=b!==""&&!isNaN(b)?Number(b):v}else p[y]=v!=null&&v!==""&&!isNaN(v)?Number(v):v}),p});r({...i,data:u,meta:{...i.meta,fields:c}})},error:i=>{a(i)}})}),Ry=(e,r=new Date().getFullYear())=>{if(!e)return e;const a={jan:0,january:0,feb:1,february:1,mar:2,march:2,apr:3,april:3,may:4,jun:5,june:5,jul:6,july:6,aug:7,august:7,sep:8,september:8,oct:9,october:9,nov:10,november:10,dec:11,december:11},i=String(e).toLowerCase().trim();if(a.hasOwnProperty(i))return new Date(r,a[i],1).toISOString().split("T")[0];const c=parseInt(i);return!isNaN(c)&&c>=1&&c<=12?new Date(r,c-1,1).toISOString().split("T")[0]:e},Lm=(e,r=null,a="Stage")=>{if(!e||e.length===0)return{data:[],periods:[]};const i=r||Object.keys(e[0]),c=i[0],u=i.slice(1),p=a==="date"&&e.length>0&&/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec|january|february|march|april|may|june|july|august|september|october|november|december|\d{1,2})$/i.test(String(e[0][c]).trim());return{data:e.map(m=>{let y=m[c];p&&(y=Ry(y));const v={[a]:y};return u.forEach(b=>{v[b]=Number(m[b])||0}),v}),periods:u}},Pm=(e,r=null)=>{const a=[];if(!e||e.length===0)return a.push("CSV file is empty"),{valid:!1,errors:a};e.length<2&&a.push("CSV must contain at least 2 stages");const i=r||Object.keys(e[0]);i.length<2&&a.push("CSV must contain at least one stage column and one period column");const c=i.slice(1);return e.forEach((u,h)=>{c.forEach(p=>{const x=u[p];x!=null&&isNaN(Number(x))&&a.push(`Row ${h+1}, Column "${p}": Invalid number value "${x}"`)})}),{valid:a.length===0,errors:a,warnings:[]}},Oy=e=>e==="slope"?"slopeRevenue":e==="bar"?"barSimple":e==="line"?"marketingChannelRevenue":"generic",Wy=(e="funnel")=>{const r=Oy(e),i=ol(r)?.data||null;let c=[];i&&i.length>0&&(i[0].hasOwnProperty("Group")&&i[0].hasOwnProperty("Period")?c=[...new Set(i.map(D=>D.Period))]:c=Object.keys(i[0]).filter(D=>D!=="Stage"&&D!=="Category"&&D!=="date"));const[u,h]=C.useState(i),[p,x]=C.useState(c),[m,y]=C.useState(i?structuredClone(i):[]),[v,b]=C.useState(!1),[d,j]=C.useState(null),[z,S]=C.useState(new Set),[O,T]=C.useState(""),[W,F]=C.useState("sample"),[U,H]=C.useState(""),I=q=>{if(q.length===0)return!1;const D=q[0];return D.hasOwnProperty("Period")?Object.keys(D).filter(J=>J!=="Period").some(J=>J.includes(" - ")):!1},N=q=>{const D=[];return q.forEach(ne=>{const J=ne.Period,me={};Object.keys(ne).forEach(ye=>{if(ye==="Period")return;const Ue=ye.split(" - ");if(Ue.length>=2){const _e=Ue[0],Qe=Ue.slice(1).join(" - ");me[_e]||(me[_e]={Group:_e,Period:J}),me[_e][Qe]=ne[ye]}}),Object.values(me).forEach(ye=>{D.push(ye)})}),D},P=C.useCallback(q=>{const D=ol(q);if(!D)return j("Sample dataset not found"),!1;let ne=D.data,J=structuredClone(ne),me;D.metricNames?me=D.metricNames:I(ne)?(me=ne.map(Qe=>Qe.Period),ne=N(ne),J=structuredClone(D.data)):me=Object.keys(ne[0]).filter(Qe=>Qe!=="Stage"&&Qe!=="Category"),h(ne),x(me),y(J),b(Fy(q)),j(null);const ye=[],Ue=D.data;if(Ue&&Ue.length>0){const _e=Object.keys(Ue[0]);ye.push(_e.join(",")),Ue.forEach(Qe=>{const bt=_e.map(ft=>{const vt=Qe[ft];return typeof vt=="string"&&(vt.includes(",")||vt.includes('"'))?`"${vt.replace(/"/g,'""')}"`:vt});ye.push(bt.join(","))})}return T(ye.join(`
`)),F("sample"),!0},[]),M=C.useCallback(async q=>{try{const D=await q.text(),ne=await Dy(q);if(ne.errors&&ne.errors.length>0)return j("Error parsing CSV: "+ne.errors[0].message),!1;const J=ne.meta?.fields,me=Pm(ne.data,J);if(!me.valid)return j("Invalid CSV structure: "+me.errors.join(", ")),!1;const ye=e==="line"?"date":e==="bar"?"Category":"Stage",{data:Ue,periods:_e}=Lm(ne.data,J,ye);return h(Ue),x(_e),y(structuredClone(Ue)),b(!1),j(null),T(D),F("csv-upload"),!0}catch(D){return j("Failed to load CSV: "+D.message),!1}},[e]),A=C.useCallback(async(q,D=",",ne="csv-paste")=>{try{const J=(await My(async()=>{const{default:vt}=await Promise.resolve().then(()=>Ay);return{default:vt}},[])).default;let me=q;D instanceof RegExp&&(me=q.split(`
`).map(vt=>vt.trim().replace(/\s{2,}/g,"	")).join(`
`),D="	");const ye=J.parse(me,{header:!0,delimiter:D,dynamicTyping:!0,skipEmptyLines:!0});if(ye.errors&&ye.errors.length>0)return j("Error parsing CSV: "+ye.errors[0].message),!1;if(!ye.data||ye.data.length===0)return j("No data found in CSV"),!1;const Ue=ye.meta?.fields||Object.keys(ye.data[0]),_e=Pm(ye.data,Ue);if(!_e.valid)return j("Invalid CSV structure: "+_e.errors.join(", ")),!1;const Qe=e==="line"?"date":e==="bar"?"Category":"Stage",{data:bt,periods:ft}=Lm(ye.data,Ue,Qe);return h(bt),x(ft),y(structuredClone(bt)),b(!1),j(null),T(q),F(ne),!0}catch(J){return j("Failed to load CSV text: "+J.message),!1}},[e]),G=C.useCallback((q,D,ne)=>{y(J=>{const me=[...J];return me[q]={...me[q],[D]:ne},me})},[]),te=C.useCallback((q,D,ne="Stage")=>{y(J=>{const me=[...J];return me[q]={...me[q],[ne]:D},me})},[]),ee=C.useCallback((q,D)=>{y(ne=>{const J=[...ne];return J[q]={...J[q],hidden:D},J})},[]),w=C.useCallback((q,D)=>{S(ne=>{const J=new Set(ne);return D?J.add(q):J.delete(q),J})},[]),ze=C.useCallback((q,D)=>{x(ne=>ne.map(J=>J===q?D:J)),y(ne=>ne.map(J=>{const{[q]:me,...ye}=J;return{...ye,[D]:me}})),S(ne=>{if(ne.has(q)){const J=new Set(ne);return J.delete(q),J.add(D),J}return ne})},[]),ve=C.useCallback(q=>!q||p.includes(q)?!1:(x(D=>[...D,q]),y(D=>D.map(ne=>({...ne,[q]:0}))),!0),[p]),re=C.useCallback(q=>p.length<=1?(j("Cannot remove the last period"),!1):(x(D=>D.filter(ne=>ne!==q)),y(D=>D.map(ne=>{const{[q]:J,...me}=ne;return me})),S(D=>{if(D.has(q)){const ne=new Set(D);return ne.delete(q),ne}return D}),!0),[p]),ae=C.useCallback((q,D="Stage")=>{if(!q)return!1;const ne={[D]:q};return p.forEach(J=>{ne[J]=0}),y(J=>[...J,ne]),!0},[p]),le=C.useCallback(q=>m.length<=2?(j("Cannot have fewer than 2 stages"),!1):(y(D=>D.filter((ne,J)=>J!==q)),!0),[m]),_=C.useCallback((q,D)=>{x(ne=>{const J=[...ne],[me]=J.splice(q,1);return J.splice(D,0,me),J})},[]),Y=C.useCallback(()=>{b(q=>!q)},[]),se=C.useCallback(()=>{const q=m.filter(D=>!D.hidden);h(structuredClone(q))},[m]),ue=C.useCallback(()=>{y(structuredClone(u))},[u]),be=C.useCallback(()=>{h(null),x([]),y([]),b(!1),j(null)},[]),de=C.useCallback(q=>u?u.map(D=>({stage:D.Stage||D.Category,value:D[q]||0})):[],[u]),Ee=C.useCallback(q=>{if(!u)return[];const D=u.find(ne=>ne.Stage===q||ne.Category===q);return D?p.map(ne=>({period:ne,value:D[ne]||0})):[]},[u,p]),ke=C.useCallback((q,D=!1)=>{y(ne=>[...ne].sort((me,ye)=>{const Ue=me[q]||0,_e=ye[q]||0;return D?Ue-_e:_e-Ue}))},[]),K=C.useCallback((q,D)=>{y(ne=>{const J=[...ne],[me]=J.splice(q,1);return J.splice(D,0,me),J})},[]),Ce=C.useCallback((q,D,ne=!1)=>!q||!D?(j("Invalid snapshot data"),!1):(h(q),x(D),y(structuredClone(q)),b(ne),j(null),!0),[]);return{data:u,periodNames:p,editableData:m,isComparisonMode:v,error:d,hiddenPeriods:z,rawCSV:O,source:W,googleSheetsUrl:U,setGoogleSheetsUrl:H,loadSampleData:P,loadCSVFile:M,loadCSVText:A,loadSnapshotData:Ce,updateDataValue:G,updateStageName:te,toggleStageHidden:ee,togglePeriodHidden:w,updatePeriodName:ze,addPeriod:ve,removePeriod:re,addStage:ae,removeStage:le,reorderPeriods:_,reorderStages:K,sortByPeriod:ke,toggleComparisonMode:Y,applyEdits:se,resetEdits:ue,clearData:be,setHiddenPeriods:S,getPeriodData:de,getStageData:Ee,hasData:u!==null&&u.length>0,stageCount:u?.length||0,periodCount:p.length}},$y={typography:{families:["Open Sans","Inter","Montserrat","Roboto","Lato","Poppins","Source Sans Pro","Raleway","Economica","Newsreader"],sizes:{title:28,subtitle:20,segmentLabel:15,metricLabel:13,legend:13,conversionLabel:19,axisLabel:12,tooltipLabel:11},weights:{light:300,regular:400,medium:500,semibold:600,bold:700}},spacing:{chartPadding:25,stageGap:18,legendSpacing:20,labelPadding:8,tooltipPadding:10},layout:{aspectRatios:{"1:1":{width:900,height:900},"4:3":{width:1200,height:900},"16:9":{width:1600,height:900},"3:4":{width:900,height:1200},"9:16":{width:900,height:1600}},orientations:["vertical","horizontal"],stageLabelPositions:["top","bottom","left","right"]},visual:{axisLineWidth:3,colorTransition:60,backgroundOpacity:100,borderRadius:4,shadowOpacity:.1},animation:{duration:300,easing:"ease-in-out"},colors:{primary:"#1e40af",text:"#1f2937",textLight:"#6b7280",background:"#ffffff",border:"#e5e7eb",gridLine:"#f3f4f6"}};function Lc(e,r){return e==null||r==null?NaN:e<r?-1:e>r?1:e>=r?0:NaN}function Uy(e,r){return e==null||r==null?NaN:r<e?-1:r>e?1:r>=e?0:NaN}function mf(e){let r,a,i;e.length!==2?(r=Lc,a=(p,x)=>Lc(e(p),x),i=(p,x)=>e(p)-x):(r=e===Lc||e===Uy?e:Vy,a=e,i=e);function c(p,x,m=0,y=p.length){if(m<y){if(r(x,x)!==0)return y;do{const v=m+y>>>1;a(p[v],x)<0?m=v+1:y=v}while(m<y)}return m}function u(p,x,m=0,y=p.length){if(m<y){if(r(x,x)!==0)return y;do{const v=m+y>>>1;a(p[v],x)<=0?m=v+1:y=v}while(m<y)}return m}function h(p,x,m=0,y=p.length){const v=c(p,x,m,y-1);return v>m&&i(p[v-1],x)>-i(p[v],x)?v-1:v}return{left:c,center:h,right:u}}function Vy(){return 0}function Hy(e){return e===null?NaN:+e}const Iy=mf(Lc),By=Iy.right;mf(Hy).center;function Gy(e,r){let a,i;if(r===void 0)for(const c of e)c!=null&&(a===void 0?c>=c&&(a=i=c):(a>c&&(a=c),i<c&&(i=c)));else{let c=-1;for(let u of e)(u=r(u,++c,e))!=null&&(a===void 0?u>=u&&(a=i=u):(a>u&&(a=u),i<u&&(i=u)))}return[a,i]}class Em extends Map{constructor(r,a=qy){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:a}}),r!=null)for(const[i,c]of r)this.set(i,c)}get(r){return super.get(Fm(this,r))}has(r){return super.has(Fm(this,r))}set(r,a){return super.set(Yy(this,r),a)}delete(r){return super.delete(Qy(this,r))}}function Fm({_intern:e,_key:r},a){const i=r(a);return e.has(i)?e.get(i):a}function Yy({_intern:e,_key:r},a){const i=r(a);return e.has(i)?e.get(i):(e.set(i,a),a)}function Qy({_intern:e,_key:r},a){const i=r(a);return e.has(i)&&(a=e.get(i),e.delete(i)),a}function qy(e){return e!==null&&typeof e=="object"?e.valueOf():e}const Xy=Math.sqrt(50),Ky=Math.sqrt(10),Jy=Math.sqrt(2);function Tc(e,r,a){const i=(r-e)/Math.max(0,a),c=Math.floor(Math.log10(i)),u=i/Math.pow(10,c),h=u>=Xy?10:u>=Ky?5:u>=Jy?2:1;let p,x,m;return c<0?(m=Math.pow(10,-c)/h,p=Math.round(e*m),x=Math.round(r*m),p/m<e&&++p,x/m>r&&--x,m=-m):(m=Math.pow(10,c)*h,p=Math.round(e/m),x=Math.round(r/m),p*m<e&&++p,x*m>r&&--x),x<p&&.5<=a&&a<2?Tc(e,r,a*2):[p,x,m]}function Zy(e,r,a){if(r=+r,e=+e,a=+a,!(a>0))return[];if(e===r)return[e];const i=r<e,[c,u,h]=i?Tc(r,e,a):Tc(e,r,a);if(!(u>=c))return[];const p=u-c+1,x=new Array(p);if(i)if(h<0)for(let m=0;m<p;++m)x[m]=(u-m)/-h;else for(let m=0;m<p;++m)x[m]=(u-m)*h;else if(h<0)for(let m=0;m<p;++m)x[m]=(c+m)/-h;else for(let m=0;m<p;++m)x[m]=(c+m)*h;return x}function Ud(e,r,a){return r=+r,e=+e,a=+a,Tc(e,r,a)[2]}function Vd(e,r,a){r=+r,e=+e,a=+a;const i=r<e,c=i?Ud(r,e,a):Ud(e,r,a);return(i?-1:1)*(c<0?1/-c:c)}function Do(e,r){let a;if(r===void 0)for(const i of e)i!=null&&(a<i||a===void 0&&i>=i)&&(a=i);else{let i=-1;for(let c of e)(c=r(c,++i,e))!=null&&(a<c||a===void 0&&c>=c)&&(a=c)}return a}function Zs(e,r){let a;if(r===void 0)for(const i of e)i!=null&&(a>i||a===void 0&&i>=i)&&(a=i);else{let i=-1;for(let c of e)(c=r(c,++i,e))!=null&&(a>c||a===void 0&&c>=c)&&(a=c)}return a}function ev(e,r,a){e=+e,r=+r,a=(c=arguments.length)<2?(r=e,e=0,1):c<3?1:+a;for(var i=-1,c=Math.max(0,Math.ceil((r-e)/a))|0,u=new Array(c);++i<c;)u[i]=e+i*a;return u}function tv(e){return e}var Cd=1,kd=2,Hd=3,el=4,_m=1e-6;function nv(e){return"translate("+e+",0)"}function rv(e){return"translate(0,"+e+")"}function av(e){return r=>+e(r)}function ov(e,r){return r=Math.max(0,e.bandwidth()-r*2)/2,e.round()&&(r=Math.round(r)),a=>+e(a)+r}function iv(){return!this.__axis}function K0(e,r){var a=[],i=null,c=null,u=6,h=6,p=3,x=typeof window<"u"&&window.devicePixelRatio>1?0:.5,m=e===Cd||e===el?-1:1,y=e===el||e===kd?"x":"y",v=e===Cd||e===Hd?nv:rv;function b(d){var j=i??(r.ticks?r.ticks.apply(r,a):r.domain()),z=c??(r.tickFormat?r.tickFormat.apply(r,a):tv),S=Math.max(u,0)+p,O=r.range(),T=+O[0]+x,W=+O[O.length-1]+x,F=(r.bandwidth?ov:av)(r.copy(),x),U=d.selection?d.selection():d,H=U.selectAll(".domain").data([null]),I=U.selectAll(".tick").data(j,r).order(),N=I.exit(),P=I.enter().append("g").attr("class","tick"),M=I.select("line"),A=I.select("text");H=H.merge(H.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),I=I.merge(P),M=M.merge(P.append("line").attr("stroke","currentColor").attr(y+"2",m*u)),A=A.merge(P.append("text").attr("fill","currentColor").attr(y,m*S).attr("dy",e===Cd?"0em":e===Hd?"0.71em":"0.32em")),d!==U&&(H=H.transition(d),I=I.transition(d),M=M.transition(d),A=A.transition(d),N=N.transition(d).attr("opacity",_m).attr("transform",function(G){return isFinite(G=F(G))?v(G+x):this.getAttribute("transform")}),P.attr("opacity",_m).attr("transform",function(G){var te=this.parentNode.__axis;return v((te&&isFinite(te=te(G))?te:F(G))+x)})),N.remove(),H.attr("d",e===el||e===kd?h?"M"+m*h+","+T+"H"+x+"V"+W+"H"+m*h:"M"+x+","+T+"V"+W:h?"M"+T+","+m*h+"V"+x+"H"+W+"V"+m*h:"M"+T+","+x+"H"+W),I.attr("opacity",1).attr("transform",function(G){return v(F(G)+x)}),M.attr(y+"2",m*u),A.attr(y,m*S).text(z),U.filter(iv).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===kd?"start":e===el?"end":"middle"),U.each(function(){this.__axis=F})}return b.scale=function(d){return arguments.length?(r=d,b):r},b.ticks=function(){return a=Array.from(arguments),b},b.tickArguments=function(d){return arguments.length?(a=d==null?[]:Array.from(d),b):a.slice()},b.tickValues=function(d){return arguments.length?(i=d==null?null:Array.from(d),b):i&&i.slice()},b.tickFormat=function(d){return arguments.length?(c=d,b):c},b.tickSize=function(d){return arguments.length?(u=h=+d,b):u},b.tickSizeInner=function(d){return arguments.length?(u=+d,b):u},b.tickSizeOuter=function(d){return arguments.length?(h=+d,b):h},b.tickPadding=function(d){return arguments.length?(p=+d,b):p},b.offset=function(d){return arguments.length?(x=+d,b):x},b}function Id(e){return K0(Hd,e)}function Bd(e){return K0(el,e)}var sv={value:()=>{}};function pf(){for(var e=0,r=arguments.length,a={},i;e<r;++e){if(!(i=arguments[e]+"")||i in a||/[\s.]/.test(i))throw new Error("illegal type: "+i);a[i]=[]}return new Pc(a)}function Pc(e){this._=e}function lv(e,r){return e.trim().split(/^|\s+/).map(function(a){var i="",c=a.indexOf(".");if(c>=0&&(i=a.slice(c+1),a=a.slice(0,c)),a&&!r.hasOwnProperty(a))throw new Error("unknown type: "+a);return{type:a,name:i}})}Pc.prototype=pf.prototype={constructor:Pc,on:function(e,r){var a=this._,i=lv(e+"",a),c,u=-1,h=i.length;if(arguments.length<2){for(;++u<h;)if((c=(e=i[u]).type)&&(c=cv(a[c],e.name)))return c;return}if(r!=null&&typeof r!="function")throw new Error("invalid callback: "+r);for(;++u<h;)if(c=(e=i[u]).type)a[c]=Tm(a[c],e.name,r);else if(r==null)for(c in a)a[c]=Tm(a[c],e.name,null);return this},copy:function(){var e={},r=this._;for(var a in r)e[a]=r[a].slice();return new Pc(e)},call:function(e,r){if((c=arguments.length-2)>0)for(var a=new Array(c),i=0,c,u;i<c;++i)a[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(u=this._[e],i=0,c=u.length;i<c;++i)u[i].value.apply(r,a)},apply:function(e,r,a){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],c=0,u=i.length;c<u;++c)i[c].value.apply(r,a)}};function cv(e,r){for(var a=0,i=e.length,c;a<i;++a)if((c=e[a]).name===r)return c.value}function Tm(e,r,a){for(var i=0,c=e.length;i<c;++i)if(e[i].name===r){e[i]=sv,e=e.slice(0,i).concat(e.slice(i+1));break}return a!=null&&e.push({name:r,value:a}),e}var Gd="http://www.w3.org/1999/xhtml";const zm={svg:"http://www.w3.org/2000/svg",xhtml:Gd,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Zc(e){var r=e+="",a=r.indexOf(":");return a>=0&&(r=e.slice(0,a))!=="xmlns"&&(e=e.slice(a+1)),zm.hasOwnProperty(r)?{space:zm[r],local:e}:e}function uv(e){return function(){var r=this.ownerDocument,a=this.namespaceURI;return a===Gd&&r.documentElement.namespaceURI===Gd?r.createElement(e):r.createElementNS(a,e)}}function dv(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function J0(e){var r=Zc(e);return(r.local?dv:uv)(r)}function fv(){}function gf(e){return e==null?fv:function(){return this.querySelector(e)}}function hv(e){typeof e!="function"&&(e=gf(e));for(var r=this._groups,a=r.length,i=new Array(a),c=0;c<a;++c)for(var u=r[c],h=u.length,p=i[c]=new Array(h),x,m,y=0;y<h;++y)(x=u[y])&&(m=e.call(x,x.__data__,y,u))&&("__data__"in x&&(m.__data__=x.__data__),p[y]=m);return new kr(i,this._parents)}function mv(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function pv(){return[]}function Z0(e){return e==null?pv:function(){return this.querySelectorAll(e)}}function gv(e){return function(){return mv(e.apply(this,arguments))}}function xv(e){typeof e=="function"?e=gv(e):e=Z0(e);for(var r=this._groups,a=r.length,i=[],c=[],u=0;u<a;++u)for(var h=r[u],p=h.length,x,m=0;m<p;++m)(x=h[m])&&(i.push(e.call(x,x.__data__,m,h)),c.push(x));return new kr(i,c)}function ep(e){return function(){return this.matches(e)}}function tp(e){return function(r){return r.matches(e)}}var yv=Array.prototype.find;function vv(e){return function(){return yv.call(this.children,e)}}function bv(){return this.firstElementChild}function wv(e){return this.select(e==null?bv:vv(typeof e=="function"?e:tp(e)))}var Cv=Array.prototype.filter;function kv(){return Array.from(this.children)}function jv(e){return function(){return Cv.call(this.children,e)}}function Sv(e){return this.selectAll(e==null?kv:jv(typeof e=="function"?e:tp(e)))}function Nv(e){typeof e!="function"&&(e=ep(e));for(var r=this._groups,a=r.length,i=new Array(a),c=0;c<a;++c)for(var u=r[c],h=u.length,p=i[c]=[],x,m=0;m<h;++m)(x=u[m])&&e.call(x,x.__data__,m,u)&&p.push(x);return new kr(i,this._parents)}function np(e){return new Array(e.length)}function Mv(){return new kr(this._enter||this._groups.map(np),this._parents)}function zc(e,r){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=r}zc.prototype={constructor:zc,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,r){return this._parent.insertBefore(e,r)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Lv(e){return function(){return e}}function Pv(e,r,a,i,c,u){for(var h=0,p,x=r.length,m=u.length;h<m;++h)(p=r[h])?(p.__data__=u[h],i[h]=p):a[h]=new zc(e,u[h]);for(;h<x;++h)(p=r[h])&&(c[h]=p)}function Ev(e,r,a,i,c,u,h){var p,x,m=new Map,y=r.length,v=u.length,b=new Array(y),d;for(p=0;p<y;++p)(x=r[p])&&(b[p]=d=h.call(x,x.__data__,p,r)+"",m.has(d)?c[p]=x:m.set(d,x));for(p=0;p<v;++p)d=h.call(e,u[p],p,u)+"",(x=m.get(d))?(i[p]=x,x.__data__=u[p],m.delete(d)):a[p]=new zc(e,u[p]);for(p=0;p<y;++p)(x=r[p])&&m.get(b[p])===x&&(c[p]=x)}function Fv(e){return e.__data__}function _v(e,r){if(!arguments.length)return Array.from(this,Fv);var a=r?Ev:Pv,i=this._parents,c=this._groups;typeof e!="function"&&(e=Lv(e));for(var u=c.length,h=new Array(u),p=new Array(u),x=new Array(u),m=0;m<u;++m){var y=i[m],v=c[m],b=v.length,d=Tv(e.call(y,y&&y.__data__,m,i)),j=d.length,z=p[m]=new Array(j),S=h[m]=new Array(j),O=x[m]=new Array(b);a(y,v,z,S,O,d,r);for(var T=0,W=0,F,U;T<j;++T)if(F=z[T]){for(T>=W&&(W=T+1);!(U=S[W])&&++W<j;);F._next=U||null}}return h=new kr(h,i),h._enter=p,h._exit=x,h}function Tv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function zv(){return new kr(this._exit||this._groups.map(np),this._parents)}function Av(e,r,a){var i=this.enter(),c=this,u=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),r!=null&&(c=r(c),c&&(c=c.selection())),a==null?u.remove():a(u),i&&c?i.merge(c).order():c}function Dv(e){for(var r=e.selection?e.selection():e,a=this._groups,i=r._groups,c=a.length,u=i.length,h=Math.min(c,u),p=new Array(c),x=0;x<h;++x)for(var m=a[x],y=i[x],v=m.length,b=p[x]=new Array(v),d,j=0;j<v;++j)(d=m[j]||y[j])&&(b[j]=d);for(;x<c;++x)p[x]=a[x];return new kr(p,this._parents)}function Rv(){for(var e=this._groups,r=-1,a=e.length;++r<a;)for(var i=e[r],c=i.length-1,u=i[c],h;--c>=0;)(h=i[c])&&(u&&h.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(h,u),u=h);return this}function Ov(e){e||(e=Wv);function r(v,b){return v&&b?e(v.__data__,b.__data__):!v-!b}for(var a=this._groups,i=a.length,c=new Array(i),u=0;u<i;++u){for(var h=a[u],p=h.length,x=c[u]=new Array(p),m,y=0;y<p;++y)(m=h[y])&&(x[y]=m);x.sort(r)}return new kr(c,this._parents).order()}function Wv(e,r){return e<r?-1:e>r?1:e>=r?0:NaN}function $v(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Uv(){return Array.from(this)}function Vv(){for(var e=this._groups,r=0,a=e.length;r<a;++r)for(var i=e[r],c=0,u=i.length;c<u;++c){var h=i[c];if(h)return h}return null}function Hv(){let e=0;for(const r of this)++e;return e}function Iv(){return!this.node()}function Bv(e){for(var r=this._groups,a=0,i=r.length;a<i;++a)for(var c=r[a],u=0,h=c.length,p;u<h;++u)(p=c[u])&&e.call(p,p.__data__,u,c);return this}function Gv(e){return function(){this.removeAttribute(e)}}function Yv(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Qv(e,r){return function(){this.setAttribute(e,r)}}function qv(e,r){return function(){this.setAttributeNS(e.space,e.local,r)}}function Xv(e,r){return function(){var a=r.apply(this,arguments);a==null?this.removeAttribute(e):this.setAttribute(e,a)}}function Kv(e,r){return function(){var a=r.apply(this,arguments);a==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,a)}}function Jv(e,r){var a=Zc(e);if(arguments.length<2){var i=this.node();return a.local?i.getAttributeNS(a.space,a.local):i.getAttribute(a)}return this.each((r==null?a.local?Yv:Gv:typeof r=="function"?a.local?Kv:Xv:a.local?qv:Qv)(a,r))}function rp(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Zv(e){return function(){this.style.removeProperty(e)}}function e1(e,r,a){return function(){this.style.setProperty(e,r,a)}}function t1(e,r,a){return function(){var i=r.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,a)}}function n1(e,r,a){return arguments.length>1?this.each((r==null?Zv:typeof r=="function"?t1:e1)(e,r,a??"")):zi(this.node(),e)}function zi(e,r){return e.style.getPropertyValue(r)||rp(e).getComputedStyle(e,null).getPropertyValue(r)}function r1(e){return function(){delete this[e]}}function a1(e,r){return function(){this[e]=r}}function o1(e,r){return function(){var a=r.apply(this,arguments);a==null?delete this[e]:this[e]=a}}function i1(e,r){return arguments.length>1?this.each((r==null?r1:typeof r=="function"?o1:a1)(e,r)):this.node()[e]}function ap(e){return e.trim().split(/^|\s+/)}function xf(e){return e.classList||new op(e)}function op(e){this._node=e,this._names=ap(e.getAttribute("class")||"")}op.prototype={add:function(e){var r=this._names.indexOf(e);r<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var r=this._names.indexOf(e);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ip(e,r){for(var a=xf(e),i=-1,c=r.length;++i<c;)a.add(r[i])}function sp(e,r){for(var a=xf(e),i=-1,c=r.length;++i<c;)a.remove(r[i])}function s1(e){return function(){ip(this,e)}}function l1(e){return function(){sp(this,e)}}function c1(e,r){return function(){(r.apply(this,arguments)?ip:sp)(this,e)}}function u1(e,r){var a=ap(e+"");if(arguments.length<2){for(var i=xf(this.node()),c=-1,u=a.length;++c<u;)if(!i.contains(a[c]))return!1;return!0}return this.each((typeof r=="function"?c1:r?s1:l1)(a,r))}function d1(){this.textContent=""}function f1(e){return function(){this.textContent=e}}function h1(e){return function(){var r=e.apply(this,arguments);this.textContent=r??""}}function m1(e){return arguments.length?this.each(e==null?d1:(typeof e=="function"?h1:f1)(e)):this.node().textContent}function p1(){this.innerHTML=""}function g1(e){return function(){this.innerHTML=e}}function x1(e){return function(){var r=e.apply(this,arguments);this.innerHTML=r??""}}function y1(e){return arguments.length?this.each(e==null?p1:(typeof e=="function"?x1:g1)(e)):this.node().innerHTML}function v1(){this.nextSibling&&this.parentNode.appendChild(this)}function b1(){return this.each(v1)}function w1(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function C1(){return this.each(w1)}function k1(e){var r=typeof e=="function"?e:J0(e);return this.select(function(){return this.appendChild(r.apply(this,arguments))})}function j1(){return null}function S1(e,r){var a=typeof e=="function"?e:J0(e),i=r==null?j1:typeof r=="function"?r:gf(r);return this.select(function(){return this.insertBefore(a.apply(this,arguments),i.apply(this,arguments)||null)})}function N1(){var e=this.parentNode;e&&e.removeChild(this)}function M1(){return this.each(N1)}function L1(){var e=this.cloneNode(!1),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function P1(){var e=this.cloneNode(!0),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function E1(e){return this.select(e?P1:L1)}function F1(e){return arguments.length?this.property("__data__",e):this.node().__data__}function _1(e){return function(r){e.call(this,r,this.__data__)}}function T1(e){return e.trim().split(/^|\s+/).map(function(r){var a="",i=r.indexOf(".");return i>=0&&(a=r.slice(i+1),r=r.slice(0,i)),{type:r,name:a}})}function z1(e){return function(){var r=this.__on;if(r){for(var a=0,i=-1,c=r.length,u;a<c;++a)u=r[a],(!e.type||u.type===e.type)&&u.name===e.name?this.removeEventListener(u.type,u.listener,u.options):r[++i]=u;++i?r.length=i:delete this.__on}}}function A1(e,r,a){return function(){var i=this.__on,c,u=_1(r);if(i){for(var h=0,p=i.length;h<p;++h)if((c=i[h]).type===e.type&&c.name===e.name){this.removeEventListener(c.type,c.listener,c.options),this.addEventListener(c.type,c.listener=u,c.options=a),c.value=r;return}}this.addEventListener(e.type,u,a),c={type:e.type,name:e.name,value:r,listener:u,options:a},i?i.push(c):this.__on=[c]}}function D1(e,r,a){var i=T1(e+""),c,u=i.length,h;if(arguments.length<2){var p=this.node().__on;if(p){for(var x=0,m=p.length,y;x<m;++x)for(c=0,y=p[x];c<u;++c)if((h=i[c]).type===y.type&&h.name===y.name)return y.value}return}for(p=r?A1:z1,c=0;c<u;++c)this.each(p(i[c],r,a));return this}function lp(e,r,a){var i=rp(e),c=i.CustomEvent;typeof c=="function"?c=new c(r,a):(c=i.document.createEvent("Event"),a?(c.initEvent(r,a.bubbles,a.cancelable),c.detail=a.detail):c.initEvent(r,!1,!1)),e.dispatchEvent(c)}function R1(e,r){return function(){return lp(this,e,r)}}function O1(e,r){return function(){return lp(this,e,r.apply(this,arguments))}}function W1(e,r){return this.each((typeof r=="function"?O1:R1)(e,r))}function*$1(){for(var e=this._groups,r=0,a=e.length;r<a;++r)for(var i=e[r],c=0,u=i.length,h;c<u;++c)(h=i[c])&&(yield h)}var cp=[null];function kr(e,r){this._groups=e,this._parents=r}function gl(){return new kr([[document.documentElement]],cp)}function U1(){return this}kr.prototype=gl.prototype={constructor:kr,select:hv,selectAll:xv,selectChild:wv,selectChildren:Sv,filter:Nv,data:_v,enter:Mv,exit:zv,join:Av,merge:Dv,selection:U1,order:Rv,sort:Ov,call:$v,nodes:Uv,node:Vv,size:Hv,empty:Iv,each:Bv,attr:Jv,style:n1,property:i1,classed:u1,text:m1,html:y1,raise:b1,lower:C1,append:k1,insert:S1,remove:M1,clone:E1,datum:F1,on:D1,dispatch:W1,[Symbol.iterator]:$1};function xn(e){return typeof e=="string"?new kr([[document.querySelector(e)]],[document.documentElement]):new kr([[e]],cp)}function V1(e){let r;for(;r=e.sourceEvent;)e=r;return e}function Am(e,r){if(e=V1(e),r===void 0&&(r=e.currentTarget),r){var a=r.ownerSVGElement||r;if(a.createSVGPoint){var i=a.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(r.getScreenCTM().inverse()),[i.x,i.y]}if(r.getBoundingClientRect){var c=r.getBoundingClientRect();return[e.clientX-c.left-r.clientLeft,e.clientY-c.top-r.clientTop]}}return[e.pageX,e.pageY]}const H1={passive:!1},il={capture:!0,passive:!1};function jd(e){e.stopImmediatePropagation()}function _i(e){e.preventDefault(),e.stopImmediatePropagation()}function I1(e){var r=e.document.documentElement,a=xn(e).on("dragstart.drag",_i,il);"onselectstart"in r?a.on("selectstart.drag",_i,il):(r.__noselect=r.style.MozUserSelect,r.style.MozUserSelect="none")}function B1(e,r){var a=e.document.documentElement,i=xn(e).on("dragstart.drag",null);r&&(i.on("click.drag",_i,il),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in a?i.on("selectstart.drag",null):(a.style.MozUserSelect=a.__noselect,delete a.__noselect)}const bc=e=>()=>e;function Yd(e,{sourceEvent:r,subject:a,target:i,identifier:c,active:u,x:h,y:p,dx:x,dy:m,dispatch:y}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},subject:{value:a,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:c,enumerable:!0,configurable:!0},active:{value:u,enumerable:!0,configurable:!0},x:{value:h,enumerable:!0,configurable:!0},y:{value:p,enumerable:!0,configurable:!0},dx:{value:x,enumerable:!0,configurable:!0},dy:{value:m,enumerable:!0,configurable:!0},_:{value:y}})}Yd.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function G1(e){return!e.ctrlKey&&!e.button}function Y1(){return this.parentNode}function Q1(e,r){return r??{x:e.x,y:e.y}}function q1(){return navigator.maxTouchPoints||"ontouchstart"in this}function X1(){var e=G1,r=Y1,a=Q1,i=q1,c={},u=pf("start","drag","end"),h=0,p,x,m,y,v=0;function b(F){F.on("mousedown.drag",d).filter(i).on("touchstart.drag",S).on("touchmove.drag",O,H1).on("touchend.drag touchcancel.drag",T).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(F,U){if(!(y||!e.call(this,F,U))){var H=W(this,r.call(this,F,U),F,U,"mouse");H&&(xn(F.view).on("mousemove.drag",j,il).on("mouseup.drag",z,il),I1(F.view),jd(F),m=!1,p=F.clientX,x=F.clientY,H("start",F))}}function j(F){if(_i(F),!m){var U=F.clientX-p,H=F.clientY-x;m=U*U+H*H>v}c.mouse("drag",F)}function z(F){xn(F.view).on("mousemove.drag mouseup.drag",null),B1(F.view,m),_i(F),c.mouse("end",F)}function S(F,U){if(e.call(this,F,U)){var H=F.changedTouches,I=r.call(this,F,U),N=H.length,P,M;for(P=0;P<N;++P)(M=W(this,I,F,U,H[P].identifier,H[P]))&&(jd(F),M("start",F,H[P]))}}function O(F){var U=F.changedTouches,H=U.length,I,N;for(I=0;I<H;++I)(N=c[U[I].identifier])&&(_i(F),N("drag",F,U[I]))}function T(F){var U=F.changedTouches,H=U.length,I,N;for(y&&clearTimeout(y),y=setTimeout(function(){y=null},500),I=0;I<H;++I)(N=c[U[I].identifier])&&(jd(F),N("end",F,U[I]))}function W(F,U,H,I,N,P){var M=u.copy(),A=Am(P||H,U),G,te,ee;if((ee=a.call(F,new Yd("beforestart",{sourceEvent:H,target:b,identifier:N,active:h,x:A[0],y:A[1],dx:0,dy:0,dispatch:M}),I))!=null)return G=ee.x-A[0]||0,te=ee.y-A[1]||0,function w(ze,ve,re){var ae=A,le;switch(ze){case"start":c[N]=w,le=h++;break;case"end":delete c[N],--h;case"drag":A=Am(re||ve,U),le=h;break}M.call(ze,F,new Yd(ze,{sourceEvent:ve,subject:ee,target:b,identifier:N,active:le,x:A[0]+G,y:A[1]+te,dx:A[0]-ae[0],dy:A[1]-ae[1],dispatch:M}),I)}}return b.filter=function(F){return arguments.length?(e=typeof F=="function"?F:bc(!!F),b):e},b.container=function(F){return arguments.length?(r=typeof F=="function"?F:bc(F),b):r},b.subject=function(F){return arguments.length?(a=typeof F=="function"?F:bc(F),b):a},b.touchable=function(F){return arguments.length?(i=typeof F=="function"?F:bc(!!F),b):i},b.on=function(){var F=u.on.apply(u,arguments);return F===u?b:F},b.clickDistance=function(F){return arguments.length?(v=(F=+F)*F,b):Math.sqrt(v)},b}function yf(e,r,a){e.prototype=r.prototype=a,a.constructor=e}function up(e,r){var a=Object.create(e.prototype);for(var i in r)a[i]=r[i];return a}function xl(){}var sl=.7,Ac=1/sl,Ti="\\s*([+-]?\\d+)\\s*",ll="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ra="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",K1=/^#([0-9a-f]{3,8})$/,J1=new RegExp(`^rgb\\(${Ti},${Ti},${Ti}\\)<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Find&Tell - Interactive Funnel Chart Builder</title>
    <meta name="description" content="Find&Tell: Build beautiful funnel visualizations with customizable styles and data comparison" />
    <meta name="theme-color" content="#1e3a8a" />
    ),Z1=new RegExp(`^rgb\\(${ra},${ra},${ra}\\)<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Find&Tell - Interactive Funnel Chart Builder</title>
    <meta name="description" content="Find&Tell: Build beautiful funnel visualizations with customizable styles and data comparison" />
    <meta name="theme-color" content="#1e3a8a" />
    ),eb=new RegExp(`^rgba\\(${Ti},${Ti},${Ti},${ll}\\)<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Find&Tell - Interactive Funnel Chart Builder</title>
    <meta name="description" content="Find&Tell: Build beautiful funnel visualizations with customizable styles and data comparison" />
    <meta name="theme-color" content="#1e3a8a" />
    ),tb=new RegExp(`^rgba\\(${ra},${ra},${ra},${ll}\\)<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Find&Tell - Interactive Funnel Chart Builder</title>
    <meta name="description" content="Find&Tell: Build beautiful funnel visualizations with customizable styles and data comparison" />
    <meta name="theme-color" content="#1e3a8a" />
    ),nb=new RegExp(`^hsl\\(${ll},${ra},${ra}\\)<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Find&Tell - Interactive Funnel Chart Builder</title>
    <meta name="description" content="Find&Tell: Build beautiful funnel visualizations with customizable styles and data comparison" />
    <meta name="theme-color" content="#1e3a8a" />
    ),rb=new RegExp(`^hsla\\(${ll},${ra},${ra},${ll}\\)<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Find&Tell - Interactive Funnel Chart Builder</title>
    <meta name="description" content="Find&Tell: Build beautiful funnel visualizations with customizable styles and data comparison" />
    <meta name="theme-color" content="#1e3a8a" />
    ),Dm={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};yf(xl,Pa,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Rm,formatHex:Rm,formatHex8:ab,formatHsl:ob,formatRgb:Om,toString:Om});function Rm(){return this.rgb().formatHex()}function ab(){return this.rgb().formatHex8()}function ob(){return dp(this).formatHsl()}function Om(){return this.rgb().formatRgb()}function Pa(e){var r,a;return e=(e+"").trim().toLowerCase(),(r=K1.exec(e))?(a=r[1].length,r=parseInt(r[1],16),a===6?Wm(r):a===3?new vr(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):a===8?wc(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):a===4?wc(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=J1.exec(e))?new vr(r[1],r[2],r[3],1):(r=Z1.exec(e))?new vr(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=eb.exec(e))?wc(r[1],r[2],r[3],r[4]):(r=tb.exec(e))?wc(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=nb.exec(e))?Vm(r[1],r[2]/100,r[3]/100,1):(r=rb.exec(e))?Vm(r[1],r[2]/100,r[3]/100,r[4]):Dm.hasOwnProperty(e)?Wm(Dm[e]):e==="transparent"?new vr(NaN,NaN,NaN,0):null}function Wm(e){return new vr(e>>16&255,e>>8&255,e&255,1)}function wc(e,r,a,i){return i<=0&&(e=r=a=NaN),new vr(e,r,a,i)}function ib(e){return e instanceof xl||(e=Pa(e)),e?(e=e.rgb(),new vr(e.r,e.g,e.b,e.opacity)):new vr}function Qd(e,r,a,i){return arguments.length===1?ib(e):new vr(e,r,a,i??1)}function vr(e,r,a,i){this.r=+e,this.g=+r,this.b=+a,this.opacity=+i}yf(vr,Qd,up(xl,{brighter(e){return e=e==null?Ac:Math.pow(Ac,e),new vr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?sl:Math.pow(sl,e),new vr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new vr(Ro(this.r),Ro(this.g),Ro(this.b),Dc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$m,formatHex:$m,formatHex8:sb,formatRgb:Um,toString:Um}));function $m(){return`#${Ao(this.r)}${Ao(this.g)}${Ao(this.b)}`}function sb(){return`#${Ao(this.r)}${Ao(this.g)}${Ao(this.b)}${Ao((isNaN(this.opacity)?1:this.opacity)*255)}`}function Um(){const e=Dc(this.opacity);return`${e===1?"rgb(":"rgba("}${Ro(this.r)}, ${Ro(this.g)}, ${Ro(this.b)}${e===1?")":`, ${e})`}`}function Dc(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ro(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ao(e){return e=Ro(e),(e<16?"0":"")+e.toString(16)}function Vm(e,r,a,i){return i<=0?e=r=a=NaN:a<=0||a>=1?e=r=NaN:r<=0&&(e=NaN),new Ir(e,r,a,i)}function dp(e){if(e instanceof Ir)return new Ir(e.h,e.s,e.l,e.opacity);if(e instanceof xl||(e=Pa(e)),!e)return new Ir;if(e instanceof Ir)return e;e=e.rgb();var r=e.r/255,a=e.g/255,i=e.b/255,c=Math.min(r,a,i),u=Math.max(r,a,i),h=NaN,p=u-c,x=(u+c)/2;return p?(r===u?h=(a-i)/p+(a<i)*6:a===u?h=(i-r)/p+2:h=(r-a)/p+4,p/=x<.5?u+c:2-u-c,h*=60):p=x>0&&x<1?0:h,new Ir(h,p,x,e.opacity)}function Rc(e,r,a,i){return arguments.length===1?dp(e):new Ir(e,r,a,i??1)}function Ir(e,r,a,i){this.h=+e,this.s=+r,this.l=+a,this.opacity=+i}yf(Ir,Rc,up(xl,{brighter(e){return e=e==null?Ac:Math.pow(Ac,e),new Ir(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?sl:Math.pow(sl,e),new Ir(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,a=this.l,i=a+(a<.5?a:1-a)*r,c=2*a-i;return new vr(Sd(e>=240?e-240:e+120,c,i),Sd(e,c,i),Sd(e<120?e+240:e-120,c,i),this.opacity)},clamp(){return new Ir(Hm(this.h),Cc(this.s),Cc(this.l),Dc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Dc(this.opacity);return`${e===1?"hsl(":"hsla("}${Hm(this.h)}, ${Cc(this.s)*100}%, ${Cc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Hm(e){return e=(e||0)%360,e<0?e+360:e}function Cc(e){return Math.max(0,Math.min(1,e||0))}function Sd(e,r,a){return(e<60?r+(a-r)*e/60:e<180?a:e<240?r+(a-r)*(240-e)/60:r)*255}const vf=e=>()=>e;function lb(e,r){return function(a){return e+a*r}}function cb(e,r,a){return e=Math.pow(e,a),r=Math.pow(r,a)-e,a=1/a,function(i){return Math.pow(e+i*r,a)}}function ub(e){return(e=+e)==1?fp:function(r,a){return a-r?cb(r,a,e):vf(isNaN(r)?a:r)}}function fp(e,r){var a=r-e;return a?lb(e,a):vf(isNaN(e)?r:e)}const Oc=(function e(r){var a=ub(r);function i(c,u){var h=a((c=Qd(c)).r,(u=Qd(u)).r),p=a(c.g,u.g),x=a(c.b,u.b),m=fp(c.opacity,u.opacity);return function(y){return c.r=h(y),c.g=p(y),c.b=x(y),c.opacity=m(y),c+""}}return i.gamma=e,i})(1);function db(e,r){r||(r=[]);var a=e?Math.min(r.length,e.length):0,i=r.slice(),c;return function(u){for(c=0;c<a;++c)i[c]=e[c]*(1-u)+r[c]*u;return i}}function fb(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function hb(e,r){var a=r?r.length:0,i=e?Math.min(a,e.length):0,c=new Array(i),u=new Array(a),h;for(h=0;h<i;++h)c[h]=bf(e[h],r[h]);for(;h<a;++h)u[h]=r[h];return function(p){for(h=0;h<i;++h)u[h]=c[h](p);return u}}function mb(e,r){var a=new Date;return e=+e,r=+r,function(i){return a.setTime(e*(1-i)+r*i),a}}function Hr(e,r){return e=+e,r=+r,function(a){return e*(1-a)+r*a}}function pb(e,r){var a={},i={},c;(e===null||typeof e!="object")&&(e={}),(r===null||typeof r!="object")&&(r={});for(c in r)c in e?a[c]=bf(e[c],r[c]):i[c]=r[c];return function(u){for(c in a)i[c]=a[c](u);return i}}var qd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Nd=new RegExp(qd.source,"g");function gb(e){return function(){return e}}function xb(e){return function(r){return e(r)+""}}function hp(e,r){var a=qd.lastIndex=Nd.lastIndex=0,i,c,u,h=-1,p=[],x=[];for(e=e+"",r=r+"";(i=qd.exec(e))&&(c=Nd.exec(r));)(u=c.index)>a&&(u=r.slice(a,u),p[h]?p[h]+=u:p[++h]=u),(i=i[0])===(c=c[0])?p[h]?p[h]+=c:p[++h]=c:(p[++h]=null,x.push({i:h,x:Hr(i,c)})),a=Nd.lastIndex;return a<r.length&&(u=r.slice(a),p[h]?p[h]+=u:p[++h]=u),p.length<2?x[0]?xb(x[0].x):gb(r):(r=x.length,function(m){for(var y=0,v;y<r;++y)p[(v=x[y]).i]=v.x(m);return p.join("")})}function bf(e,r){var a=typeof r,i;return r==null||a==="boolean"?vf(r):(a==="number"?Hr:a==="string"?(i=Pa(r))?(r=i,Oc):hp:r instanceof Pa?Oc:r instanceof Date?mb:fb(r)?db:Array.isArray(r)?hb:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?pb:Hr)(e,r)}function yb(e,r){return e=+e,r=+r,function(a){return Math.round(e*(1-a)+r*a)}}var Im=180/Math.PI,Xd={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function mp(e,r,a,i,c,u){var h,p,x;return(h=Math.sqrt(e*e+r*r))&&(e/=h,r/=h),(x=e*a+r*i)&&(a-=e*x,i-=r*x),(p=Math.sqrt(a*a+i*i))&&(a/=p,i/=p,x/=p),e*i<r*a&&(e=-e,r=-r,x=-x,h=-h),{translateX:c,translateY:u,rotate:Math.atan2(r,e)*Im,skewX:Math.atan(x)*Im,scaleX:h,scaleY:p}}var kc;function vb(e){const r=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return r.isIdentity?Xd:mp(r.a,r.b,r.c,r.d,r.e,r.f)}function bb(e){return e==null||(kc||(kc=document.createElementNS("http://www.w3.org/2000/svg","g")),kc.setAttribute("transform",e),!(e=kc.transform.baseVal.consolidate()))?Xd:(e=e.matrix,mp(e.a,e.b,e.c,e.d,e.e,e.f))}function pp(e,r,a,i){function c(m){return m.length?m.pop()+" ":""}function u(m,y,v,b,d,j){if(m!==v||y!==b){var z=d.push("translate(",null,r,null,a);j.push({i:z-4,x:Hr(m,v)},{i:z-2,x:Hr(y,b)})}else(v||b)&&d.push("translate("+v+r+b+a)}function h(m,y,v,b){m!==y?(m-y>180?y+=360:y-m>180&&(m+=360),b.push({i:v.push(c(v)+"rotate(",null,i)-2,x:Hr(m,y)})):y&&v.push(c(v)+"rotate("+y+i)}function p(m,y,v,b){m!==y?b.push({i:v.push(c(v)+"skewX(",null,i)-2,x:Hr(m,y)}):y&&v.push(c(v)+"skewX("+y+i)}function x(m,y,v,b,d,j){if(m!==v||y!==b){var z=d.push(c(d)+"scale(",null,",",null,")");j.push({i:z-4,x:Hr(m,v)},{i:z-2,x:Hr(y,b)})}else(v!==1||b!==1)&&d.push(c(d)+"scale("+v+","+b+")")}return function(m,y){var v=[],b=[];return m=e(m),y=e(y),u(m.translateX,m.translateY,y.translateX,y.translateY,v,b),h(m.rotate,y.rotate,v,b),p(m.skewX,y.skewX,v,b),x(m.scaleX,m.scaleY,y.scaleX,y.scaleY,v,b),m=y=null,function(d){for(var j=-1,z=b.length,S;++j<z;)v[(S=b[j]).i]=S.x(d);return v.join("")}}}var wb=pp(vb,"px, ","px)","deg)"),Cb=pp(bb,", ",")",")"),Ai=0,tl=0,Ys=0,gp=1e3,Wc,nl,$c=0,Oo=0,eu=0,cl=typeof performance=="object"&&performance.now?performance:Date,xp=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function wf(){return Oo||(xp(kb),Oo=cl.now()+eu)}function kb(){Oo=0}function Uc(){this._call=this._time=this._next=null}Uc.prototype=yp.prototype={constructor:Uc,restart:function(e,r,a){if(typeof e!="function")throw new TypeError("callback is not a function");a=(a==null?wf():+a)+(r==null?0:+r),!this._next&&nl!==this&&(nl?nl._next=this:Wc=this,nl=this),this._call=e,this._time=a,Kd()},stop:function(){this._call&&(this._call=null,this._time=1/0,Kd())}};function yp(e,r,a){var i=new Uc;return i.restart(e,r,a),i}function jb(){wf(),++Ai;for(var e=Wc,r;e;)(r=Oo-e._time)>=0&&e._call.call(void 0,r),e=e._next;--Ai}function Bm(){Oo=($c=cl.now())+eu,Ai=tl=0;try{jb()}finally{Ai=0,Nb(),Oo=0}}function Sb(){var e=cl.now(),r=e-$c;r>gp&&(eu-=r,$c=e)}function Nb(){for(var e,r=Wc,a,i=1/0;r;)r._call?(i>r._time&&(i=r._time),e=r,r=r._next):(a=r._next,r._next=null,r=e?e._next=a:Wc=a);nl=e,Kd(i)}function Kd(e){if(!Ai){tl&&(tl=clearTimeout(tl));var r=e-Oo;r>24?(e<1/0&&(tl=setTimeout(Bm,e-cl.now()-eu)),Ys&&(Ys=clearInterval(Ys))):(Ys||($c=cl.now(),Ys=setInterval(Sb,gp)),Ai=1,xp(Bm))}}function Gm(e,r,a){var i=new Uc;return r=r==null?0:+r,i.restart(c=>{i.stop(),e(c+r)},r,a),i}var Mb=pf("start","end","cancel","interrupt"),Lb=[],vp=0,Ym=1,Jd=2,Ec=3,Qm=4,Zd=5,Fc=6;function tu(e,r,a,i,c,u){var h=e.__transition;if(!h)e.__transition={};else if(a in h)return;Pb(e,a,{name:r,index:i,group:c,on:Mb,tween:Lb,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:vp})}function Cf(e,r){var a=Gr(e,r);if(a.state>vp)throw new Error("too late; already scheduled");return a}function sa(e,r){var a=Gr(e,r);if(a.state>Ec)throw new Error("too late; already running");return a}function Gr(e,r){var a=e.__transition;if(!a||!(a=a[r]))throw new Error("transition not found");return a}function Pb(e,r,a){var i=e.__transition,c;i[r]=a,a.timer=yp(u,0,a.time);function u(m){a.state=Ym,a.timer.restart(h,a.delay,a.time),a.delay<=m&&h(m-a.delay)}function h(m){var y,v,b,d;if(a.state!==Ym)return x();for(y in i)if(d=i[y],d.name===a.name){if(d.state===Ec)return Gm(h);d.state===Qm?(d.state=Fc,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete i[y]):+y<r&&(d.state=Fc,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete i[y])}if(Gm(function(){a.state===Ec&&(a.state=Qm,a.timer.restart(p,a.delay,a.time),p(m))}),a.state=Jd,a.on.call("start",e,e.__data__,a.index,a.group),a.state===Jd){for(a.state=Ec,c=new Array(b=a.tween.length),y=0,v=-1;y<b;++y)(d=a.tween[y].value.call(e,e.__data__,a.index,a.group))&&(c[++v]=d);c.length=v+1}}function p(m){for(var y=m<a.duration?a.ease.call(null,m/a.duration):(a.timer.restart(x),a.state=Zd,1),v=-1,b=c.length;++v<b;)c[v].call(e,y);a.state===Zd&&(a.on.call("end",e,e.__data__,a.index,a.group),x())}function x(){a.state=Fc,a.timer.stop(),delete i[r];for(var m in i)return;delete e.__transition}}function Eb(e,r){var a=e.__transition,i,c,u=!0,h;if(a){r=r==null?null:r+"";for(h in a){if((i=a[h]).name!==r){u=!1;continue}c=i.state>Jd&&i.state<Zd,i.state=Fc,i.timer.stop(),i.on.call(c?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete a[h]}u&&delete e.__transition}}function Fb(e){return this.each(function(){Eb(this,e)})}function _b(e,r){var a,i;return function(){var c=sa(this,e),u=c.tween;if(u!==a){i=a=u;for(var h=0,p=i.length;h<p;++h)if(i[h].name===r){i=i.slice(),i.splice(h,1);break}}c.tween=i}}function Tb(e,r,a){var i,c;if(typeof a!="function")throw new Error;return function(){var u=sa(this,e),h=u.tween;if(h!==i){c=(i=h).slice();for(var p={name:r,value:a},x=0,m=c.length;x<m;++x)if(c[x].name===r){c[x]=p;break}x===m&&c.push(p)}u.tween=c}}function zb(e,r){var a=this._id;if(e+="",arguments.length<2){for(var i=Gr(this.node(),a).tween,c=0,u=i.length,h;c<u;++c)if((h=i[c]).name===e)return h.value;return null}return this.each((r==null?_b:Tb)(a,e,r))}function kf(e,r,a){var i=e._id;return e.each(function(){var c=sa(this,i);(c.value||(c.value={}))[r]=a.apply(this,arguments)}),function(c){return Gr(c,i).value[r]}}function bp(e,r){var a;return(typeof r=="number"?Hr:r instanceof Pa?Oc:(a=Pa(r))?(r=a,Oc):hp)(e,r)}function Ab(e){return function(){this.removeAttribute(e)}}function Db(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Rb(e,r,a){var i,c=a+"",u;return function(){var h=this.getAttribute(e);return h===c?null:h===i?u:u=r(i=h,a)}}function Ob(e,r,a){var i,c=a+"",u;return function(){var h=this.getAttributeNS(e.space,e.local);return h===c?null:h===i?u:u=r(i=h,a)}}function Wb(e,r,a){var i,c,u;return function(){var h,p=a(this),x;return p==null?void this.removeAttribute(e):(h=this.getAttribute(e),x=p+"",h===x?null:h===i&&x===c?u:(c=x,u=r(i=h,p)))}}function $b(e,r,a){var i,c,u;return function(){var h,p=a(this),x;return p==null?void this.removeAttributeNS(e.space,e.local):(h=this.getAttributeNS(e.space,e.local),x=p+"",h===x?null:h===i&&x===c?u:(c=x,u=r(i=h,p)))}}function Ub(e,r){var a=Zc(e),i=a==="transform"?Cb:bp;return this.attrTween(e,typeof r=="function"?(a.local?$b:Wb)(a,i,kf(this,"attr."+e,r)):r==null?(a.local?Db:Ab)(a):(a.local?Ob:Rb)(a,i,r))}function Vb(e,r){return function(a){this.setAttribute(e,r.call(this,a))}}function Hb(e,r){return function(a){this.setAttributeNS(e.space,e.local,r.call(this,a))}}function Ib(e,r){var a,i;function c(){var u=r.apply(this,arguments);return u!==i&&(a=(i=u)&&Hb(e,u)),a}return c._value=r,c}function Bb(e,r){var a,i;function c(){var u=r.apply(this,arguments);return u!==i&&(a=(i=u)&&Vb(e,u)),a}return c._value=r,c}function Gb(e,r){var a="attr."+e;if(arguments.length<2)return(a=this.tween(a))&&a._value;if(r==null)return this.tween(a,null);if(typeof r!="function")throw new Error;var i=Zc(e);return this.tween(a,(i.local?Ib:Bb)(i,r))}function Yb(e,r){return function(){Cf(this,e).delay=+r.apply(this,arguments)}}function Qb(e,r){return r=+r,function(){Cf(this,e).delay=r}}function qb(e){var r=this._id;return arguments.length?this.each((typeof e=="function"?Yb:Qb)(r,e)):Gr(this.node(),r).delay}function Xb(e,r){return function(){sa(this,e).duration=+r.apply(this,arguments)}}function Kb(e,r){return r=+r,function(){sa(this,e).duration=r}}function Jb(e){var r=this._id;return arguments.length?this.each((typeof e=="function"?Xb:Kb)(r,e)):Gr(this.node(),r).duration}function Zb(e,r){if(typeof r!="function")throw new Error;return function(){sa(this,e).ease=r}}function e2(e){var r=this._id;return arguments.length?this.each(Zb(r,e)):Gr(this.node(),r).ease}function t2(e,r){return function(){var a=r.apply(this,arguments);if(typeof a!="function")throw new Error;sa(this,e).ease=a}}function n2(e){if(typeof e!="function")throw new Error;return this.each(t2(this._id,e))}function r2(e){typeof e!="function"&&(e=ep(e));for(var r=this._groups,a=r.length,i=new Array(a),c=0;c<a;++c)for(var u=r[c],h=u.length,p=i[c]=[],x,m=0;m<h;++m)(x=u[m])&&e.call(x,x.__data__,m,u)&&p.push(x);return new Ea(i,this._parents,this._name,this._id)}function a2(e){if(e._id!==this._id)throw new Error;for(var r=this._groups,a=e._groups,i=r.length,c=a.length,u=Math.min(i,c),h=new Array(i),p=0;p<u;++p)for(var x=r[p],m=a[p],y=x.length,v=h[p]=new Array(y),b,d=0;d<y;++d)(b=x[d]||m[d])&&(v[d]=b);for(;p<i;++p)h[p]=r[p];return new Ea(h,this._parents,this._name,this._id)}function o2(e){return(e+"").trim().split(/^|\s+/).every(function(r){var a=r.indexOf(".");return a>=0&&(r=r.slice(0,a)),!r||r==="start"})}function i2(e,r,a){var i,c,u=o2(r)?Cf:sa;return function(){var h=u(this,e),p=h.on;p!==i&&(c=(i=p).copy()).on(r,a),h.on=c}}function s2(e,r){var a=this._id;return arguments.length<2?Gr(this.node(),a).on.on(e):this.each(i2(a,e,r))}function l2(e){return function(){var r=this.parentNode;for(var a in this.__transition)if(+a!==e)return;r&&r.removeChild(this)}}function c2(){return this.on("end.remove",l2(this._id))}function u2(e){var r=this._name,a=this._id;typeof e!="function"&&(e=gf(e));for(var i=this._groups,c=i.length,u=new Array(c),h=0;h<c;++h)for(var p=i[h],x=p.length,m=u[h]=new Array(x),y,v,b=0;b<x;++b)(y=p[b])&&(v=e.call(y,y.__data__,b,p))&&("__data__"in y&&(v.__data__=y.__data__),m[b]=v,tu(m[b],r,a,b,m,Gr(y,a)));return new Ea(u,this._parents,r,a)}function d2(e){var r=this._name,a=this._id;typeof e!="function"&&(e=Z0(e));for(var i=this._groups,c=i.length,u=[],h=[],p=0;p<c;++p)for(var x=i[p],m=x.length,y,v=0;v<m;++v)if(y=x[v]){for(var b=e.call(y,y.__data__,v,x),d,j=Gr(y,a),z=0,S=b.length;z<S;++z)(d=b[z])&&tu(d,r,a,z,b,j);u.push(b),h.push(y)}return new Ea(u,h,r,a)}var f2=gl.prototype.constructor;function h2(){return new f2(this._groups,this._parents)}function m2(e,r){var a,i,c;return function(){var u=zi(this,e),h=(this.style.removeProperty(e),zi(this,e));return u===h?null:u===a&&h===i?c:c=r(a=u,i=h)}}function wp(e){return function(){this.style.removeProperty(e)}}function p2(e,r,a){var i,c=a+"",u;return function(){var h=zi(this,e);return h===c?null:h===i?u:u=r(i=h,a)}}function g2(e,r,a){var i,c,u;return function(){var h=zi(this,e),p=a(this),x=p+"";return p==null&&(x=p=(this.style.removeProperty(e),zi(this,e))),h===x?null:h===i&&x===c?u:(c=x,u=r(i=h,p))}}function x2(e,r){var a,i,c,u="style."+r,h="end."+u,p;return function(){var x=sa(this,e),m=x.on,y=x.value[u]==null?p||(p=wp(r)):void 0;(m!==a||c!==y)&&(i=(a=m).copy()).on(h,c=y),x.on=i}}function y2(e,r,a){var i=(e+="")=="transform"?wb:bp;return r==null?this.styleTween(e,m2(e,i)).on("end.style."+e,wp(e)):typeof r=="function"?this.styleTween(e,g2(e,i,kf(this,"style."+e,r))).each(x2(this._id,e)):this.styleTween(e,p2(e,i,r),a).on("end.style."+e,null)}function v2(e,r,a){return function(i){this.style.setProperty(e,r.call(this,i),a)}}function b2(e,r,a){var i,c;function u(){var h=r.apply(this,arguments);return h!==c&&(i=(c=h)&&v2(e,h,a)),i}return u._value=r,u}function w2(e,r,a){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(r==null)return this.tween(i,null);if(typeof r!="function")throw new Error;return this.tween(i,b2(e,r,a??""))}function C2(e){return function(){this.textContent=e}}function k2(e){return function(){var r=e(this);this.textContent=r??""}}function j2(e){return this.tween("text",typeof e=="function"?k2(kf(this,"text",e)):C2(e==null?"":e+""))}function S2(e){return function(r){this.textContent=e.call(this,r)}}function N2(e){var r,a;function i(){var c=e.apply(this,arguments);return c!==a&&(r=(a=c)&&S2(c)),r}return i._value=e,i}function M2(e){var r="text";if(arguments.length<1)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,N2(e))}function L2(){for(var e=this._name,r=this._id,a=Cp(),i=this._groups,c=i.length,u=0;u<c;++u)for(var h=i[u],p=h.length,x,m=0;m<p;++m)if(x=h[m]){var y=Gr(x,r);tu(x,e,a,m,h,{time:y.time+y.delay+y.duration,delay:0,duration:y.duration,ease:y.ease})}return new Ea(i,this._parents,e,a)}function P2(){var e,r,a=this,i=a._id,c=a.size();return new Promise(function(u,h){var p={value:h},x={value:function(){--c===0&&u()}};a.each(function(){var m=sa(this,i),y=m.on;y!==e&&(r=(e=y).copy(),r._.cancel.push(p),r._.interrupt.push(p),r._.end.push(x)),m.on=r}),c===0&&u()})}var E2=0;function Ea(e,r,a,i){this._groups=e,this._parents=r,this._name=a,this._id=i}function Cp(){return++E2}var ja=gl.prototype;Ea.prototype={constructor:Ea,select:u2,selectAll:d2,selectChild:ja.selectChild,selectChildren:ja.selectChildren,filter:r2,merge:a2,selection:h2,transition:L2,call:ja.call,nodes:ja.nodes,node:ja.node,size:ja.size,empty:ja.empty,each:ja.each,on:s2,attr:Ub,attrTween:Gb,style:y2,styleTween:w2,text:j2,textTween:M2,remove:c2,tween:zb,delay:qb,duration:Jb,ease:e2,easeVarying:n2,end:P2,[Symbol.iterator]:ja[Symbol.iterator]};function F2(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var _2={time:null,delay:0,duration:250,ease:F2};function T2(e,r){for(var a;!(a=e.__transition)||!(a=a[r]);)if(!(e=e.parentNode))throw new Error(`transition ${r} not found`);return a}function z2(e){var r,a;e instanceof Ea?(r=e._id,e=e._name):(r=Cp(),(a=_2).time=wf(),e=e==null?null:e+"");for(var i=this._groups,c=i.length,u=0;u<c;++u)for(var h=i[u],p=h.length,x,m=0;m<p;++m)(x=h[m])&&tu(x,e,r,m,h,a||T2(x,r));return new Ea(i,this._parents,e,r)}gl.prototype.interrupt=Fb;gl.prototype.transition=z2;const ef=Math.PI,tf=2*ef,To=1e-6,A2=tf-To;function kp(e){this._+=e[0];for(let r=1,a=e.length;r<a;++r)this._+=arguments[r]+e[r]}function D2(e){let r=Math.floor(e);if(!(r>=0))throw new Error(`invalid digits: ${e}`);if(r>15)return kp;const a=10**r;return function(i){this._+=i[0];for(let c=1,u=i.length;c<u;++c)this._+=Math.round(arguments[c]*a)/a+i[c]}}class R2{constructor(r){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=r==null?kp:D2(r)}moveTo(r,a){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+a}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(r,a){this._append`L${this._x1=+r},${this._y1=+a}`}quadraticCurveTo(r,a,i,c){this._append`Q${+r},${+a},${this._x1=+i},${this._y1=+c}`}bezierCurveTo(r,a,i,c,u,h){this._append`C${+r},${+a},${+i},${+c},${this._x1=+u},${this._y1=+h}`}arcTo(r,a,i,c,u){if(r=+r,a=+a,i=+i,c=+c,u=+u,u<0)throw new Error(`negative radius: ${u}`);let h=this._x1,p=this._y1,x=i-r,m=c-a,y=h-r,v=p-a,b=y*y+v*v;if(this._x1===null)this._append`M${this._x1=r},${this._y1=a}`;else if(b>To)if(!(Math.abs(v*x-m*y)>To)||!u)this._append`L${this._x1=r},${this._y1=a}`;else{let d=i-h,j=c-p,z=x*x+m*m,S=d*d+j*j,O=Math.sqrt(z),T=Math.sqrt(b),W=u*Math.tan((ef-Math.acos((z+b-S)/(2*O*T)))/2),F=W/T,U=W/O;Math.abs(F-1)>To&&this._append`L${r+F*y},${a+F*v}`,this._append`A${u},${u},0,0,${+(v*d>y*j)},${this._x1=r+U*x},${this._y1=a+U*m}`}}arc(r,a,i,c,u,h){if(r=+r,a=+a,i=+i,h=!!h,i<0)throw new Error(`negative radius: ${i}`);let p=i*Math.cos(c),x=i*Math.sin(c),m=r+p,y=a+x,v=1^h,b=h?c-u:u-c;this._x1===null?this._append`M${m},${y}`:(Math.abs(this._x1-m)>To||Math.abs(this._y1-y)>To)&&this._append`L${m},${y}`,i&&(b<0&&(b=b%tf+tf),b>A2?this._append`A${i},${i},0,1,${v},${r-p},${a-x}A${i},${i},0,1,${v},${this._x1=m},${this._y1=y}`:b>To&&this._append`A${i},${i},0,${+(b>=ef)},${v},${this._x1=r+i*Math.cos(u)},${this._y1=a+i*Math.sin(u)}`)}rect(r,a,i,c){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+a}h${i=+i}v${+c}h${-i}Z`}toString(){return this._}}function O2(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Vc(e,r){if((a=(e=r?e.toExponential(r-1):e.toExponential()).indexOf("e"))<0)return null;var a,i=e.slice(0,a);return[i.length>1?i[0]+i.slice(2):i,+e.slice(a+1)]}function Di(e){return e=Vc(Math.abs(e)),e?e[1]:NaN}function W2(e,r){return function(a,i){for(var c=a.length,u=[],h=0,p=e[0],x=0;c>0&&p>0&&(x+p+1>i&&(p=Math.max(1,i-x)),u.push(a.substring(c-=p,c+p)),!((x+=p+1)>i));)p=e[h=(h+1)%e.length];return u.reverse().join(r)}}function $2(e){return function(r){return r.replace(/[0-9]/g,function(a){return e[+a]})}}var U2=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Hc(e){if(!(r=U2.exec(e)))throw new Error("invalid format: "+e);var r;return new jf({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}Hc.prototype=jf.prototype;function jf(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}jf.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function V2(e){e:for(var r=e.length,a=1,i=-1,c;a<r;++a)switch(e[a]){case".":i=c=a;break;case"0":i===0&&(i=a),c=a;break;default:if(!+e[a])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(c+1):e}var jp;function H2(e,r){var a=Vc(e,r);if(!a)return e+"";var i=a[0],c=a[1],u=c-(jp=Math.max(-8,Math.min(8,Math.floor(c/3)))*3)+1,h=i.length;return u===h?i:u>h?i+new Array(u-h+1).join("0"):u>0?i.slice(0,u)+"."+i.slice(u):"0."+new Array(1-u).join("0")+Vc(e,Math.max(0,r+u-1))[0]}function qm(e,r){var a=Vc(e,r);if(!a)return e+"";var i=a[0],c=a[1];return c<0?"0."+new Array(-c).join("0")+i:i.length>c+1?i.slice(0,c+1)+"."+i.slice(c+1):i+new Array(c-i.length+2).join("0")}const Xm={"%":(e,r)=>(e*100).toFixed(r),b:e=>Math.round(e).toString(2),c:e=>e+"",d:O2,e:(e,r)=>e.toExponential(r),f:(e,r)=>e.toFixed(r),g:(e,r)=>e.toPrecision(r),o:e=>Math.round(e).toString(8),p:(e,r)=>qm(e*100,r),r:qm,s:H2,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Km(e){return e}var Jm=Array.prototype.map,Zm=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function I2(e){var r=e.grouping===void 0||e.thousands===void 0?Km:W2(Jm.call(e.grouping,Number),e.thousands+""),a=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",c=e.decimal===void 0?".":e.decimal+"",u=e.numerals===void 0?Km:$2(Jm.call(e.numerals,String)),h=e.percent===void 0?"%":e.percent+"",p=e.minus===void 0?"":e.minus+"",x=e.nan===void 0?"NaN":e.nan+"";function m(v){v=Hc(v);var b=v.fill,d=v.align,j=v.sign,z=v.symbol,S=v.zero,O=v.width,T=v.comma,W=v.precision,F=v.trim,U=v.type;U==="n"?(T=!0,U="g"):Xm[U]||(W===void 0&&(W=12),F=!0,U="g"),(S||b==="0"&&d==="=")&&(S=!0,b="0",d="=");var H=z==="$"?a:z==="#"&&/[boxX]/.test(U)?"0"+U.toLowerCase():"",I=z==="$"?i:/[%p]/.test(U)?h:"",N=Xm[U],P=/[defgprs%]/.test(U);W=W===void 0?6:/[gprs]/.test(U)?Math.max(1,Math.min(21,W)):Math.max(0,Math.min(20,W));function M(A){var G=H,te=I,ee,w,ze;if(U==="c")te=N(A)+te,A="";else{A=+A;var ve=A<0||1/A<0;if(A=isNaN(A)?x:N(Math.abs(A),W),F&&(A=V2(A)),ve&&+A==0&&j!=="+"&&(ve=!1),G=(ve?j==="("?j:p:j==="-"||j==="("?"":j)+G,te=(U==="s"?Zm[8+jp/3]:"")+te+(ve&&j==="("?")":""),P){for(ee=-1,w=A.length;++ee<w;)if(ze=A.charCodeAt(ee),48>ze||ze>57){te=(ze===46?c+A.slice(ee+1):A.slice(ee))+te,A=A.slice(0,ee);break}}}T&&!S&&(A=r(A,1/0));var re=G.length+A.length+te.length,ae=re<O?new Array(O-re+1).join(b):"";switch(T&&S&&(A=r(ae+A,ae.length?O-te.length:1/0),ae=""),d){case"<":A=G+A+te+ae;break;case"=":A=G+ae+A+te;break;case"^":A=ae.slice(0,re=ae.length>>1)+G+A+te+ae.slice(re);break;default:A=ae+G+A+te;break}return u(A)}return M.toString=function(){return v+""},M}function y(v,b){var d=m((v=Hc(v),v.type="f",v)),j=Math.max(-8,Math.min(8,Math.floor(Di(b)/3)))*3,z=Math.pow(10,-j),S=Zm[8+j/3];return function(O){return d(z*O)+S}}return{format:m,formatPrefix:y}}var jc,Sp,Np;B2({thousands:",",grouping:[3],currency:["$",""]});function B2(e){return jc=I2(e),Sp=jc.format,Np=jc.formatPrefix,jc}function G2(e){return Math.max(0,-Di(Math.abs(e)))}function Y2(e,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Di(r)/3)))*3-Di(Math.abs(e)))}function Q2(e,r){return e=Math.abs(e),r=Math.abs(r)-e,Math.max(0,Di(r)-Di(e))+1}function nu(e,r){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(r).domain(e);break}return this}const e0=Symbol("implicit");function Mp(){var e=new Em,r=[],a=[],i=e0;function c(u){let h=e.get(u);if(h===void 0){if(i!==e0)return i;e.set(u,h=r.push(u)-1)}return a[h%a.length]}return c.domain=function(u){if(!arguments.length)return r.slice();r=[],e=new Em;for(const h of u)e.has(h)||e.set(h,r.push(h)-1);return c},c.range=function(u){return arguments.length?(a=Array.from(u),c):a.slice()},c.unknown=function(u){return arguments.length?(i=u,c):i},c.copy=function(){return Mp(r,a).unknown(i)},nu.apply(c,arguments),c}function nf(){var e=Mp().unknown(void 0),r=e.domain,a=e.range,i=0,c=1,u,h,p=!1,x=0,m=0,y=.5;delete e.unknown;function v(){var b=r().length,d=c<i,j=d?c:i,z=d?i:c;u=(z-j)/Math.max(1,b-x+m*2),p&&(u=Math.floor(u)),j+=(z-j-u*(b-x))*y,h=u*(1-x),p&&(j=Math.round(j),h=Math.round(h));var S=ev(b).map(function(O){return j+u*O});return a(d?S.reverse():S)}return e.domain=function(b){return arguments.length?(r(b),v()):r()},e.range=function(b){return arguments.length?([i,c]=b,i=+i,c=+c,v()):[i,c]},e.rangeRound=function(b){return[i,c]=b,i=+i,c=+c,p=!0,v()},e.bandwidth=function(){return h},e.step=function(){return u},e.round=function(b){return arguments.length?(p=!!b,v()):p},e.padding=function(b){return arguments.length?(x=Math.min(1,m=+b),v()):x},e.paddingInner=function(b){return arguments.length?(x=Math.min(1,b),v()):x},e.paddingOuter=function(b){return arguments.length?(m=+b,v()):m},e.align=function(b){return arguments.length?(y=Math.max(0,Math.min(1,b)),v()):y},e.copy=function(){return nf(r(),[i,c]).round(p).paddingInner(x).paddingOuter(m).align(y)},nu.apply(v(),arguments)}function q2(e){return function(){return e}}function X2(e){return+e}var t0=[0,1];function Ei(e){return e}function rf(e,r){return(r-=e=+e)?function(a){return(a-e)/r}:q2(isNaN(r)?NaN:.5)}function K2(e,r){var a;return e>r&&(a=e,e=r,r=a),function(i){return Math.max(e,Math.min(r,i))}}function J2(e,r,a){var i=e[0],c=e[1],u=r[0],h=r[1];return c<i?(i=rf(c,i),u=a(h,u)):(i=rf(i,c),u=a(u,h)),function(p){return u(i(p))}}function Z2(e,r,a){var i=Math.min(e.length,r.length)-1,c=new Array(i),u=new Array(i),h=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),r=r.slice().reverse());++h<i;)c[h]=rf(e[h],e[h+1]),u[h]=a(r[h],r[h+1]);return function(p){var x=By(e,p,1,i)-1;return u[x](c[x](p))}}function Lp(e,r){return r.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ew(){var e=t0,r=t0,a=bf,i,c,u,h=Ei,p,x,m;function y(){var b=Math.min(e.length,r.length);return h!==Ei&&(h=K2(e[0],e[b-1])),p=b>2?Z2:J2,x=m=null,v}function v(b){return b==null||isNaN(b=+b)?u:(x||(x=p(e.map(i),r,a)))(i(h(b)))}return v.invert=function(b){return h(c((m||(m=p(r,e.map(i),Hr)))(b)))},v.domain=function(b){return arguments.length?(e=Array.from(b,X2),y()):e.slice()},v.range=function(b){return arguments.length?(r=Array.from(b),y()):r.slice()},v.rangeRound=function(b){return r=Array.from(b),a=yb,y()},v.clamp=function(b){return arguments.length?(h=b?!0:Ei,y()):h!==Ei},v.interpolate=function(b){return arguments.length?(a=b,y()):a},v.unknown=function(b){return arguments.length?(u=b,v):u},function(b,d){return i=b,c=d,y()}}function Pp(){return ew()(Ei,Ei)}function tw(e,r,a,i){var c=Vd(e,r,a),u;switch(i=Hc(i??",f"),i.type){case"s":{var h=Math.max(Math.abs(e),Math.abs(r));return i.precision==null&&!isNaN(u=Y2(c,h))&&(i.precision=u),Np(i,h)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(u=Q2(c,Math.max(Math.abs(e),Math.abs(r))))&&(i.precision=u-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(u=G2(c))&&(i.precision=u-(i.type==="%")*2);break}}return Sp(i)}function nw(e){var r=e.domain;return e.ticks=function(a){var i=r();return Zy(i[0],i[i.length-1],a??10)},e.tickFormat=function(a,i){var c=r();return tw(c[0],c[c.length-1],a??10,i)},e.nice=function(a){a==null&&(a=10);var i=r(),c=0,u=i.length-1,h=i[c],p=i[u],x,m,y=10;for(p<h&&(m=h,h=p,p=m,m=c,c=u,u=m);y-- >0;){if(m=Ud(h,p,a),m===x)return i[c]=h,i[u]=p,r(i);if(m>0)h=Math.floor(h/m)*m,p=Math.ceil(p/m)*m;else if(m<0)h=Math.ceil(h*m)/m,p=Math.floor(p*m)/m;else break;x=m}return e},e}function Br(){var e=Pp();return e.copy=function(){return Lp(e,Br())},nu.apply(e,arguments),nw(e)}function rw(e,r){e=e.slice();var a=0,i=e.length-1,c=e[a],u=e[i],h;return u<c&&(h=a,a=i,i=h,h=c,c=u,u=h),e[a]=r.floor(c),e[i]=r.ceil(u),e}const Md=new Date,Ld=new Date;function Dn(e,r,a,i){function c(u){return e(u=arguments.length===0?new Date:new Date(+u)),u}return c.floor=u=>(e(u=new Date(+u)),u),c.ceil=u=>(e(u=new Date(u-1)),r(u,1),e(u),u),c.round=u=>{const h=c(u),p=c.ceil(u);return u-h<p-u?h:p},c.offset=(u,h)=>(r(u=new Date(+u),h==null?1:Math.floor(h)),u),c.range=(u,h,p)=>{const x=[];if(u=c.ceil(u),p=p==null?1:Math.floor(p),!(u<h)||!(p>0))return x;let m;do x.push(m=new Date(+u)),r(u,p),e(u);while(m<u&&u<h);return x},c.filter=u=>Dn(h=>{if(h>=h)for(;e(h),!u(h);)h.setTime(h-1)},(h,p)=>{if(h>=h)if(p<0)for(;++p<=0;)for(;r(h,-1),!u(h););else for(;--p>=0;)for(;r(h,1),!u(h););}),a&&(c.count=(u,h)=>(Md.setTime(+u),Ld.setTime(+h),e(Md),e(Ld),Math.floor(a(Md,Ld))),c.every=u=>(u=Math.floor(u),!isFinite(u)||!(u>0)?null:u>1?c.filter(i?h=>i(h)%u===0:h=>c.count(0,h)%u===0):c)),c}const Ic=Dn(()=>{},(e,r)=>{e.setTime(+e+r)},(e,r)=>r-e);Ic.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Dn(r=>{r.setTime(Math.floor(r/e)*e)},(r,a)=>{r.setTime(+r+a*e)},(r,a)=>(a-r)/e):Ic);Ic.range;const Sa=1e3,_r=Sa*60,Na=_r*60,Fa=Na*24,Sf=Fa*7,n0=Fa*30,Pd=Fa*365,Fi=Dn(e=>{e.setTime(e-e.getMilliseconds())},(e,r)=>{e.setTime(+e+r*Sa)},(e,r)=>(r-e)/Sa,e=>e.getUTCSeconds());Fi.range;const Nf=Dn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Sa)},(e,r)=>{e.setTime(+e+r*_r)},(e,r)=>(r-e)/_r,e=>e.getMinutes());Nf.range;const aw=Dn(e=>{e.setUTCSeconds(0,0)},(e,r)=>{e.setTime(+e+r*_r)},(e,r)=>(r-e)/_r,e=>e.getUTCMinutes());aw.range;const Mf=Dn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Sa-e.getMinutes()*_r)},(e,r)=>{e.setTime(+e+r*Na)},(e,r)=>(r-e)/Na,e=>e.getHours());Mf.range;const ow=Dn(e=>{e.setUTCMinutes(0,0,0)},(e,r)=>{e.setTime(+e+r*Na)},(e,r)=>(r-e)/Na,e=>e.getUTCHours());ow.range;const yl=Dn(e=>e.setHours(0,0,0,0),(e,r)=>e.setDate(e.getDate()+r),(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*_r)/Fa,e=>e.getDate()-1);yl.range;const Lf=Dn(e=>{e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r)},(e,r)=>(r-e)/Fa,e=>e.getUTCDate()-1);Lf.range;const iw=Dn(e=>{e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r)},(e,r)=>(r-e)/Fa,e=>Math.floor(e/Fa));iw.range;function Uo(e){return Dn(r=>{r.setDate(r.getDate()-(r.getDay()+7-e)%7),r.setHours(0,0,0,0)},(r,a)=>{r.setDate(r.getDate()+a*7)},(r,a)=>(a-r-(a.getTimezoneOffset()-r.getTimezoneOffset())*_r)/Sf)}const ru=Uo(0),Bc=Uo(1),sw=Uo(2),lw=Uo(3),Ri=Uo(4),cw=Uo(5),uw=Uo(6);ru.range;Bc.range;sw.range;lw.range;Ri.range;cw.range;uw.range;function Vo(e){return Dn(r=>{r.setUTCDate(r.getUTCDate()-(r.getUTCDay()+7-e)%7),r.setUTCHours(0,0,0,0)},(r,a)=>{r.setUTCDate(r.getUTCDate()+a*7)},(r,a)=>(a-r)/Sf)}const Ep=Vo(0),Gc=Vo(1),dw=Vo(2),fw=Vo(3),Oi=Vo(4),hw=Vo(5),mw=Vo(6);Ep.range;Gc.range;dw.range;fw.range;Oi.range;hw.range;mw.range;const Pf=Dn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,r)=>{e.setMonth(e.getMonth()+r)},(e,r)=>r.getMonth()-e.getMonth()+(r.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Pf.range;const pw=Dn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCMonth(e.getUTCMonth()+r)},(e,r)=>r.getUTCMonth()-e.getUTCMonth()+(r.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());pw.range;const _a=Dn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r)},(e,r)=>r.getFullYear()-e.getFullYear(),e=>e.getFullYear());_a.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Dn(r=>{r.setFullYear(Math.floor(r.getFullYear()/e)*e),r.setMonth(0,1),r.setHours(0,0,0,0)},(r,a)=>{r.setFullYear(r.getFullYear()+a*e)});_a.range;const Wo=Dn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r)},(e,r)=>r.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Wo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Dn(r=>{r.setUTCFullYear(Math.floor(r.getUTCFullYear()/e)*e),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,a)=>{r.setUTCFullYear(r.getUTCFullYear()+a*e)});Wo.range;function gw(e,r,a,i,c,u){const h=[[Fi,1,Sa],[Fi,5,5*Sa],[Fi,15,15*Sa],[Fi,30,30*Sa],[u,1,_r],[u,5,5*_r],[u,15,15*_r],[u,30,30*_r],[c,1,Na],[c,3,3*Na],[c,6,6*Na],[c,12,12*Na],[i,1,Fa],[i,2,2*Fa],[a,1,Sf],[r,1,n0],[r,3,3*n0],[e,1,Pd]];function p(m,y,v){const b=y<m;b&&([m,y]=[y,m]);const d=v&&typeof v.range=="function"?v:x(m,y,v),j=d?d.range(m,+y+1):[];return b?j.reverse():j}function x(m,y,v){const b=Math.abs(y-m)/v,d=mf(([,,S])=>S).right(h,b);if(d===h.length)return e.every(Vd(m/Pd,y/Pd,v));if(d===0)return Ic.every(Math.max(Vd(m,y,v),1));const[j,z]=h[b/h[d-1][2]<h[d][2]/b?d-1:d];return j.every(z)}return[p,x]}const[xw,yw]=gw(_a,Pf,ru,yl,Mf,Nf);function Ed(e){if(0<=e.y&&e.y<100){var r=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return r.setFullYear(e.y),r}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Fd(e){if(0<=e.y&&e.y<100){var r=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return r.setUTCFullYear(e.y),r}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Qs(e,r,a){return{y:e,m:r,d:a,H:0,M:0,S:0,L:0}}function vw(e){var r=e.dateTime,a=e.date,i=e.time,c=e.periods,u=e.days,h=e.shortDays,p=e.months,x=e.shortMonths,m=qs(c),y=Xs(c),v=qs(u),b=Xs(u),d=qs(h),j=Xs(h),z=qs(p),S=Xs(p),O=qs(x),T=Xs(x),W={a:ve,A:re,b:ae,B:le,c:null,d:l0,e:l0,f:Vw,g:Jw,G:eC,H:Ww,I:$w,j:Uw,L:Fp,m:Hw,M:Iw,p:_,q:Y,Q:d0,s:f0,S:Bw,u:Gw,U:Yw,V:Qw,w:qw,W:Xw,x:null,X:null,y:Kw,Y:Zw,Z:tC,"%":u0},F={a:se,A:ue,b:be,B:de,c:null,d:c0,e:c0,f:oC,g:pC,G:xC,H:nC,I:rC,j:aC,L:Tp,m:iC,M:sC,p:Ee,q:ke,Q:d0,s:f0,S:lC,u:cC,U:uC,V:dC,w:fC,W:hC,x:null,X:null,y:mC,Y:gC,Z:yC,"%":u0},U={a:M,A,b:G,B:te,c:ee,d:i0,e:i0,f:Aw,g:o0,G:a0,H:s0,I:s0,j:Fw,L:zw,m:Ew,M:_w,p:P,q:Pw,Q:Rw,s:Ow,S:Tw,u:jw,U:Sw,V:Nw,w:kw,W:Mw,x:w,X:ze,y:o0,Y:a0,Z:Lw,"%":Dw};W.x=H(a,W),W.X=H(i,W),W.c=H(r,W),F.x=H(a,F),F.X=H(i,F),F.c=H(r,F);function H(K,Ce){return function(q){var D=[],ne=-1,J=0,me=K.length,ye,Ue,_e;for(q instanceof Date||(q=new Date(+q));++ne<me;)K.charCodeAt(ne)===37&&(D.push(K.slice(J,ne)),(Ue=r0[ye=K.charAt(++ne)])!=null?ye=K.charAt(++ne):Ue=ye==="e"?" ":"0",(_e=Ce[ye])&&(ye=_e(q,Ue)),D.push(ye),J=ne+1);return D.push(K.slice(J,ne)),D.join("")}}function I(K,Ce){return function(q){var D=Qs(1900,void 0,1),ne=N(D,K,q+="",0),J,me;if(ne!=q.length)return null;if("Q"in D)return new Date(D.Q);if("s"in D)return new Date(D.s*1e3+("L"in D?D.L:0));if(Ce&&!("Z"in D)&&(D.Z=0),"p"in D&&(D.H=D.H%12+D.p*12),D.m===void 0&&(D.m="q"in D?D.q:0),"V"in D){if(D.V<1||D.V>53)return null;"w"in D||(D.w=1),"Z"in D?(J=Fd(Qs(D.y,0,1)),me=J.getUTCDay(),J=me>4||me===0?Gc.ceil(J):Gc(J),J=Lf.offset(J,(D.V-1)*7),D.y=J.getUTCFullYear(),D.m=J.getUTCMonth(),D.d=J.getUTCDate()+(D.w+6)%7):(J=Ed(Qs(D.y,0,1)),me=J.getDay(),J=me>4||me===0?Bc.ceil(J):Bc(J),J=yl.offset(J,(D.V-1)*7),D.y=J.getFullYear(),D.m=J.getMonth(),D.d=J.getDate()+(D.w+6)%7)}else("W"in D||"U"in D)&&("w"in D||(D.w="u"in D?D.u%7:"W"in D?1:0),me="Z"in D?Fd(Qs(D.y,0,1)).getUTCDay():Ed(Qs(D.y,0,1)).getDay(),D.m=0,D.d="W"in D?(D.w+6)%7+D.W*7-(me+5)%7:D.w+D.U*7-(me+6)%7);return"Z"in D?(D.H+=D.Z/100|0,D.M+=D.Z%100,Fd(D)):Ed(D)}}function N(K,Ce,q,D){for(var ne=0,J=Ce.length,me=q.length,ye,Ue;ne<J;){if(D>=me)return-1;if(ye=Ce.charCodeAt(ne++),ye===37){if(ye=Ce.charAt(ne++),Ue=U[ye in r0?Ce.charAt(ne++):ye],!Ue||(D=Ue(K,q,D))<0)return-1}else if(ye!=q.charCodeAt(D++))return-1}return D}function P(K,Ce,q){var D=m.exec(Ce.slice(q));return D?(K.p=y.get(D[0].toLowerCase()),q+D[0].length):-1}function M(K,Ce,q){var D=d.exec(Ce.slice(q));return D?(K.w=j.get(D[0].toLowerCase()),q+D[0].length):-1}function A(K,Ce,q){var D=v.exec(Ce.slice(q));return D?(K.w=b.get(D[0].toLowerCase()),q+D[0].length):-1}function G(K,Ce,q){var D=O.exec(Ce.slice(q));return D?(K.m=T.get(D[0].toLowerCase()),q+D[0].length):-1}function te(K,Ce,q){var D=z.exec(Ce.slice(q));return D?(K.m=S.get(D[0].toLowerCase()),q+D[0].length):-1}function ee(K,Ce,q){return N(K,r,Ce,q)}function w(K,Ce,q){return N(K,a,Ce,q)}function ze(K,Ce,q){return N(K,i,Ce,q)}function ve(K){return h[K.getDay()]}function re(K){return u[K.getDay()]}function ae(K){return x[K.getMonth()]}function le(K){return p[K.getMonth()]}function _(K){return c[+(K.getHours()>=12)]}function Y(K){return 1+~~(K.getMonth()/3)}function se(K){return h[K.getUTCDay()]}function ue(K){return u[K.getUTCDay()]}function be(K){return x[K.getUTCMonth()]}function de(K){return p[K.getUTCMonth()]}function Ee(K){return c[+(K.getUTCHours()>=12)]}function ke(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var Ce=H(K+="",W);return Ce.toString=function(){return K},Ce},parse:function(K){var Ce=I(K+="",!1);return Ce.toString=function(){return K},Ce},utcFormat:function(K){var Ce=H(K+="",F);return Ce.toString=function(){return K},Ce},utcParse:function(K){var Ce=I(K+="",!0);return Ce.toString=function(){return K},Ce}}}var r0={"-":"",_:" ",0:"0"},Hn=/^\s*\d+/,bw=/^%/,ww=/[\\^$*+?|[\]().{}]/g;function It(e,r,a){var i=e<0?"-":"",c=(i?-e:e)+"",u=c.length;return i+(u<a?new Array(a-u+1).join(r)+c:c)}function Cw(e){return e.replace(ww,"\\<script type="module" crossorigin src="/assets/index-BXEYHHwi.js"></script>")}function qs(e){return new RegExp("^(?:"+e.map(Cw).join("|")+")","i")}function Xs(e){return new Map(e.map((r,a)=>[r.toLowerCase(),a]))}function kw(e,r,a){var i=Hn.exec(r.slice(a,a+1));return i?(e.w=+i[0],a+i[0].length):-1}function jw(e,r,a){var i=Hn.exec(r.slice(a,a+1));return i?(e.u=+i[0],a+i[0].length):-1}function Sw(e,r,a){var i=Hn.exec(r.slice(a,a+2));return i?(e.U=+i[0],a+i[0].length):-1}function Nw(e,r,a){var i=Hn.exec(r.slice(a,a+2));return i?(e.V=+i[0],a+i[0].length):-1}function Mw(e,r,a){var i=Hn.exec(r.slice(a,a+2));return i?(e.W=+i[0],a+i[0].length):-1}function a0(e,r,a){var i=Hn.exec(r.slice(a,a+4));return i?(e.y=+i[0],a+i[0].length):-1}function o0(e,r,a){var i=Hn.exec(r.slice(a,a+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),a+i[0].length):-1}function Lw(e,r,a){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(r.slice(a,a+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),a+i[0].length):-1}function Pw(e,r,a){var i=Hn.exec(r.slice(a,a+1));return i?(e.q=i[0]*3-3,a+i[0].length):-1}function Ew(e,r,a){var i=Hn.exec(r.slice(a,a+2));return i?(e.m=i[0]-1,a+i[0].length):-1}function i0(e,r,a){var i=Hn.exec(r.slice(a,a+2));return i?(e.d=+i[0],a+i[0].length):-1}function Fw(e,r,a){var i=Hn.exec(r.slice(a,a+3));return i?(e.m=0,e.d=+i[0],a+i[0].length):-1}function s0(e,r,a){var i=Hn.exec(r.slice(a,a+2));return i?(e.H=+i[0],a+i[0].length):-1}function _w(e,r,a){var i=Hn.exec(r.slice(a,a+2));return i?(e.M=+i[0],a+i[0].length):-1}function Tw(e,r,a){var i=Hn.exec(r.slice(a,a+2));return i?(e.S=+i[0],a+i[0].length):-1}function zw(e,r,a){var i=Hn.exec(r.slice(a,a+3));return i?(e.L=+i[0],a+i[0].length):-1}function Aw(e,r,a){var i=Hn.exec(r.slice(a,a+6));return i?(e.L=Math.floor(i[0]/1e3),a+i[0].length):-1}function Dw(e,r,a){var i=bw.exec(r.slice(a,a+1));return i?a+i[0].length:-1}function Rw(e,r,a){var i=Hn.exec(r.slice(a));return i?(e.Q=+i[0],a+i[0].length):-1}function Ow(e,r,a){var i=Hn.exec(r.slice(a));return i?(e.s=+i[0],a+i[0].length):-1}function l0(e,r){return It(e.getDate(),r,2)}function Ww(e,r){return It(e.getHours(),r,2)}function $w(e,r){return It(e.getHours()%12||12,r,2)}function Uw(e,r){return It(1+yl.count(_a(e),e),r,3)}function Fp(e,r){return It(e.getMilliseconds(),r,3)}function Vw(e,r){return Fp(e,r)+"000"}function Hw(e,r){return It(e.getMonth()+1,r,2)}function Iw(e,r){return It(e.getMinutes(),r,2)}function Bw(e,r){return It(e.getSeconds(),r,2)}function Gw(e){var r=e.getDay();return r===0?7:r}function Yw(e,r){return It(ru.count(_a(e)-1,e),r,2)}function _p(e){var r=e.getDay();return r>=4||r===0?Ri(e):Ri.ceil(e)}function Qw(e,r){return e=_p(e),It(Ri.count(_a(e),e)+(_a(e).getDay()===4),r,2)}function qw(e){return e.getDay()}function Xw(e,r){return It(Bc.count(_a(e)-1,e),r,2)}function Kw(e,r){return It(e.getFullYear()%100,r,2)}function Jw(e,r){return e=_p(e),It(e.getFullYear()%100,r,2)}function Zw(e,r){return It(e.getFullYear()%1e4,r,4)}function eC(e,r){var a=e.getDay();return e=a>=4||a===0?Ri(e):Ri.ceil(e),It(e.getFullYear()%1e4,r,4)}function tC(e){var r=e.getTimezoneOffset();return(r>0?"-":(r*=-1,"+"))+It(r/60|0,"0",2)+It(r%60,"0",2)}function c0(e,r){return It(e.getUTCDate(),r,2)}function nC(e,r){return It(e.getUTCHours(),r,2)}function rC(e,r){return It(e.getUTCHours()%12||12,r,2)}function aC(e,r){return It(1+Lf.count(Wo(e),e),r,3)}function Tp(e,r){return It(e.getUTCMilliseconds(),r,3)}function oC(e,r){return Tp(e,r)+"000"}function iC(e,r){return It(e.getUTCMonth()+1,r,2)}function sC(e,r){return It(e.getUTCMinutes(),r,2)}function lC(e,r){return It(e.getUTCSeconds(),r,2)}function cC(e){var r=e.getUTCDay();return r===0?7:r}function uC(e,r){return It(Ep.count(Wo(e)-1,e),r,2)}function zp(e){var r=e.getUTCDay();return r>=4||r===0?Oi(e):Oi.ceil(e)}function dC(e,r){return e=zp(e),It(Oi.count(Wo(e),e)+(Wo(e).getUTCDay()===4),r,2)}function fC(e){return e.getUTCDay()}function hC(e,r){return It(Gc.count(Wo(e)-1,e),r,2)}function mC(e,r){return It(e.getUTCFullYear()%100,r,2)}function pC(e,r){return e=zp(e),It(e.getUTCFullYear()%100,r,2)}function gC(e,r){return It(e.getUTCFullYear()%1e4,r,4)}function xC(e,r){var a=e.getUTCDay();return e=a>=4||a===0?Oi(e):Oi.ceil(e),It(e.getUTCFullYear()%1e4,r,4)}function yC(){return"+0000"}function u0(){return"%"}function d0(e){return+e}function f0(e){return Math.floor(+e/1e3)}var Li,Ef,Fr;vC({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function vC(e){return Li=vw(e),Ef=Li.format,Fr=Li.parse,Li.utcFormat,Li.utcParse,Li}function bC(e){return new Date(e)}function wC(e){return e instanceof Date?+e:+new Date(+e)}function Ap(e,r,a,i,c,u,h,p,x,m){var y=Pp(),v=y.invert,b=y.domain,d=m(".%L"),j=m(":%S"),z=m("%I:%M"),S=m("%I %p"),O=m("%a %d"),T=m("%b %d"),W=m("%B"),F=m("%Y");function U(H){return(x(H)<H?d:p(H)<H?j:h(H)<H?z:u(H)<H?S:i(H)<H?c(H)<H?O:T:a(H)<H?W:F)(H)}return y.invert=function(H){return new Date(v(H))},y.domain=function(H){return arguments.length?b(Array.from(H,wC)):b().map(bC)},y.ticks=function(H){var I=b();return e(I[0],I[I.length-1],H??10)},y.tickFormat=function(H,I){return I==null?U:m(I)},y.nice=function(H){var I=b();return(!H||typeof H.range!="function")&&(H=r(I[0],I[I.length-1],H??10)),H?b(rw(I,H)):y},y.copy=function(){return Lp(y,Ap(e,r,a,i,c,u,h,p,x,m))},y}function CC(){return nu.apply(Ap(xw,yw,_a,Pf,ru,yl,Mf,Nf,Fi,Ef).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function la(e){for(var r=e.length/6|0,a=new Array(r),i=0;i<r;)a[i]="#"+e.slice(i*6,++i*6);return a}const kC=la("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),jC=la("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),SC=la("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Dp=la("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),NC=la("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),MC=la("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),LC=la("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),PC=la("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),EC=la("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),FC=la("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");function Vn(e){return function(){return e}}const h0=1e-12;function Rp(e){let r=3;return e.digits=function(a){if(!arguments.length)return r;if(a==null)r=null;else{const i=Math.floor(a);if(!(i>=0))throw new RangeError(`invalid digits: ${a}`);r=i}return e},()=>new R2(r)}function Op(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Wp(e){this._context=e}Wp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:this._context.lineTo(e,r);break}}};function $p(e){return new Wp(e)}function Up(e){return e[0]}function Vp(e){return e[1]}function ul(e,r){var a=Vn(!0),i=null,c=$p,u=null,h=Rp(p);e=typeof e=="function"?e:e===void 0?Up:Vn(e),r=typeof r=="function"?r:r===void 0?Vp:Vn(r);function p(x){var m,y=(x=Op(x)).length,v,b=!1,d;for(i==null&&(u=c(d=h())),m=0;m<=y;++m)!(m<y&&a(v=x[m],m,x))===b&&((b=!b)?u.lineStart():u.lineEnd()),b&&u.point(+e(v,m,x),+r(v,m,x));if(d)return u=null,d+""||null}return p.x=function(x){return arguments.length?(e=typeof x=="function"?x:Vn(+x),p):e},p.y=function(x){return arguments.length?(r=typeof x=="function"?x:Vn(+x),p):r},p.defined=function(x){return arguments.length?(a=typeof x=="function"?x:Vn(!!x),p):a},p.curve=function(x){return arguments.length?(c=x,i!=null&&(u=c(i)),p):c},p.context=function(x){return arguments.length?(x==null?i=u=null:u=c(i=x),p):i},p}function _C(e,r,a){var i=null,c=Vn(!0),u=null,h=$p,p=null,x=Rp(m);e=typeof e=="function"?e:e===void 0?Up:Vn(+e),r=typeof r=="function"?r:Vn(r===void 0?0:+r),a=typeof a=="function"?a:a===void 0?Vp:Vn(+a);function m(v){var b,d,j,z=(v=Op(v)).length,S,O=!1,T,W=new Array(z),F=new Array(z);for(u==null&&(p=h(T=x())),b=0;b<=z;++b){if(!(b<z&&c(S=v[b],b,v))===O)if(O=!O)d=b,p.areaStart(),p.lineStart();else{for(p.lineEnd(),p.lineStart(),j=b-1;j>=d;--j)p.point(W[j],F[j]);p.lineEnd(),p.areaEnd()}O&&(W[b]=+e(S,b,v),F[b]=+r(S,b,v),p.point(i?+i(S,b,v):W[b],a?+a(S,b,v):F[b]))}if(T)return p=null,T+""||null}function y(){return ul().defined(c).curve(h).context(u)}return m.x=function(v){return arguments.length?(e=typeof v=="function"?v:Vn(+v),i=null,m):e},m.x0=function(v){return arguments.length?(e=typeof v=="function"?v:Vn(+v),m):e},m.x1=function(v){return arguments.length?(i=v==null?null:typeof v=="function"?v:Vn(+v),m):i},m.y=function(v){return arguments.length?(r=typeof v=="function"?v:Vn(+v),a=null,m):r},m.y0=function(v){return arguments.length?(r=typeof v=="function"?v:Vn(+v),m):r},m.y1=function(v){return arguments.length?(a=v==null?null:typeof v=="function"?v:Vn(+v),m):a},m.lineX0=m.lineY0=function(){return y().x(e).y(r)},m.lineY1=function(){return y().x(e).y(a)},m.lineX1=function(){return y().x(i).y(r)},m.defined=function(v){return arguments.length?(c=typeof v=="function"?v:Vn(!!v),m):c},m.curve=function(v){return arguments.length?(h=v,u!=null&&(p=h(u)),m):h},m.context=function(v){return arguments.length?(v==null?u=p=null:p=h(u=v),m):u},m}function m0(e,r,a){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-r),e._y2+e._k*(e._y1-a),e._x2,e._y2)}function Ff(e,r){this._context=e,this._k=(1-r)/6}Ff.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:m0(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2,this._x1=e,this._y1=r;break;case 2:this._point=3;default:m0(this,e,r);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=r}};(function e(r){function a(i){return new Ff(i,r)}return a.tension=function(i){return e(+i)},a})(0);function TC(e,r,a){var i=e._x1,c=e._y1,u=e._x2,h=e._y2;if(e._l01_a>h0){var p=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,x=3*e._l01_a*(e._l01_a+e._l12_a);i=(i*p-e._x0*e._l12_2a+e._x2*e._l01_2a)/x,c=(c*p-e._y0*e._l12_2a+e._y2*e._l01_2a)/x}if(e._l23_a>h0){var m=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,y=3*e._l23_a*(e._l23_a+e._l12_a);u=(u*m+e._x1*e._l23_2a-r*e._l12_2a)/y,h=(h*m+e._y1*e._l23_2a-a*e._l12_2a)/y}e._context.bezierCurveTo(i,c,u,h,e._x2,e._y2)}function Hp(e,r){this._context=e,this._alpha=r}Hp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){if(e=+e,r=+r,this._point){var a=this._x2-e,i=this._y2-r;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3;default:TC(this,e,r);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=r}};const p0=(function e(r){function a(i){return r?new Hp(i,r):new Ff(i,0)}return a.alpha=function(i){return e(+i)},a})(.5);function g0(e){return e<0?-1:1}function x0(e,r,a){var i=e._x1-e._x0,c=r-e._x1,u=(e._y1-e._y0)/(i||c<0&&-0),h=(a-e._y1)/(c||i<0&&-0),p=(u*c+h*i)/(i+c);return(g0(u)+g0(h))*Math.min(Math.abs(u),Math.abs(h),.5*Math.abs(p))||0}function y0(e,r){var a=e._x1-e._x0;return a?(3*(e._y1-e._y0)/a-r)/2:r}function _d(e,r,a){var i=e._x0,c=e._y0,u=e._x1,h=e._y1,p=(u-i)/3;e._context.bezierCurveTo(i+p,c+p*r,u-p,h-p*a,u,h)}function Yc(e){this._context=e}Yc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:_d(this,this._t0,y0(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){var a=NaN;if(e=+e,r=+r,!(e===this._x1&&r===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,_d(this,y0(this,a=x0(this,e,r)),a);break;default:_d(this,this._t0,a=x0(this,e,r));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r,this._t0=a}}};Object.create(Yc.prototype).point=function(e,r){Yc.prototype.point.call(this,r,e)};function Ip(e){return new Yc(e)}function rl(e,r,a){this.k=e,this.x=r,this.y=a}rl.prototype={constructor:rl,scale:function(e){return e===1?this:new rl(this.k*e,this.x,this.y)},translate:function(e,r){return e===0&r===0?this:new rl(this.k,this.x+this.k*e,this.y+this.k*r)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};rl.prototype;const v0=[{name:"Navy",color:"#1e40af"},{name:"Sky Blue",color:"#0284c7"},{name:"Teal",color:"#0d9488"},{name:"Emerald",color:"#059669"},{name:"Amber",color:"#d97706"},{name:"Orange",color:"#ea580c"},{name:"Red",color:"#dc2626"},{name:"Rose",color:"#e11d48"},{name:"Purple",color:"#7c3aed"},{name:"Fuchsia",color:"#c026d3"},{name:"Slate",color:"#475569"},{name:"Indigo",color:"#4f46e5"}],Kn={observable10:{name:"Observable10",description:"Observable's 10-color palette",colors:Dp},category10:{name:"Category10",description:"D3's classic 10-color palette",colors:kC},accent:{name:"Accent",description:"ColorBrewer Accent palette (max 8 colors)",colors:jC},dark2:{name:"Dark2",description:"ColorBrewer Dark2 palette (max 8 colors)",colors:SC},paired:{name:"Paired",description:"ColorBrewer Paired palette (12 colors)",colors:NC},pastel1:{name:"Pastel1",description:"ColorBrewer Pastel1 palette (max 9 colors)",colors:MC},pastel2:{name:"Pastel2",description:"ColorBrewer Pastel2 palette (max 8 colors)",colors:LC},set1:{name:"Set1",description:"ColorBrewer Set1 palette (max 9 colors)",colors:PC},set2:{name:"Set2",description:"ColorBrewer Set2 palette (max 8 colors)",colors:EC},set3:{name:"Set3",description:"ColorBrewer Set3 palette (12 colors)",colors:FC},monochrome:{name:"Monochrome Grey",description:"Warm grey shades from medium to light",colors:["#78716c","#8b8680","#9c9691","#a8a29e","#b8b2ad","#c4bfba","#ccc7c2","#d6d1cc","#ddd9d4","#e4e0db","#ebe7e2","#f0ece7"]},user:{name:"Custom",description:"User-defined colors",colors:[]}},b0=Dp,zC=(e=$y)=>{const[r,a]=C.useState("Units Produced by Region"),[i,c]=C.useState("Production units by regional location (January)"),[u,h]=C.useState("center"),[p,x]=C.useState(e.typography.families[0]),[m,y]=C.useState(e.typography.sizes.title),[v,b]=C.useState(e.typography.sizes.subtitle),[d,j]=C.useState(22),[z,S]=C.useState(24),[O,T]=C.useState(14),[W,F]=C.useState(e.typography.sizes.legend),[U,H]=C.useState(e.typography.sizes.conversionLabel),[I,N]=C.useState("#1e40af"),[P,M]=C.useState(60),[A,G]=C.useState("observable10"),[te,ee]=C.useState(b0),[w,ze]=C.useState("vertical"),[ve,re]=C.useState("1:1"),[ae,le]=C.useState(1e3),[_,Y]=C.useState(600),[se,ue]=C.useState(600),[be,de]=C.useState(400),[Ee,ke]=C.useState(25),[K,Ce]=C.useState(10),[q,D]=C.useState(100),[ne,J]=C.useState("bottom"),[me,ye]=C.useState(3),[Ue,_e]=C.useState(100),[Qe,bt]=C.useState("throughput"),[ft,vt]=C.useState("volume"),[ln,$t]=C.useState(!0),[Yt,kt]=C.useState(!0),[Bt,lt]=C.useState(!0),[tn,fn]=C.useState("direct"),[Gt,nn]=C.useState(13),[vn,hn]=C.useState(!1),[bn,Fn]=C.useState("volume"),[wt,Vt]=C.useState("free"),[Nn,_n]=C.useState(!1),[rn,Mn]=C.useState("#ffffff"),[In,Bn]=C.useState("category"),[cr,Ln]=C.useState(3),[Gn,Fe]=C.useState(1),[Ge,Ze]=C.useState(100),[ct,Lt]=C.useState(6),[ht,Pt]=C.useState("filled"),[He,rt]=C.useState("left"),[Je,ut]=C.useState(!0),[et,Rt]=C.useState(!0),[Ft,xt]=C.useState(!0),[Nt,kn]=C.useState(!0),[cn,ar]=C.useState("outside"),[Xt,ur]=C.useState("first"),[L,fe]=C.useState("value"),[ie,Ie]=C.useState([]),[$e,Ot]=C.useState("#10b981"),[jt,zt]=C.useState("#ef4444"),[Wt,Mt]=C.useState("#6b7280"),[on,Kt]=C.useState("#1e40af"),[_t,Tr]=C.useState("#10b981"),[Tn,zr]=C.useState(400),[Pn,jn]=C.useState(700),[mt,qe]=C.useState("below"),[Yn,Jn]=C.useState("#ababab"),[Ct,un]=C.useState(1),[or,At]=C.useState("solid"),[ce,je]=C.useState("none"),[B,De]=C.useState("grouped"),[oe,Ne]=C.useState("direct"),[pe,Oe]=C.useState("metrics"),[Me,Le]=C.useState([]),[Te,Re]=C.useState(!0),[at,nt]=C.useState(!1),[Xe,ot]=C.useState(12),[tt,pt]=C.useState(12),[Dt,gt]=C.useState(20),[Pe,Ae]=C.useState(""),[yt,Qt]=C.useState(17),[qt,Jt]=C.useState(0),[mn,Rn]=C.useState(""),[Qr,qr]=C.useState(""),[dr,Ar]=C.useState(0),[Xr,wn]=C.useState("number"),[fr,On]=C.useState(0),[so,Ta]=C.useState(!0),[Ho,za]=C.useState(5e4),[Aa,Io]=C.useState(!0),[Qn,ca]=C.useState(!1),[lo,Da]=C.useState("percent"),[Ui,Bo]=C.useState(100),[co,ua]=C.useState(1e4),[Ra,Go]=C.useState(!0),[Vi,Hi]=C.useState(5),[Ii,uo]=C.useState(!0),[Bi,Gi]=C.useState("outside"),[Yi,Qi]=C.useState("none"),[qi,Yo]=C.useState(!1),[Xi,Ki]=C.useState(!1),[Ji,Zi]=C.useState(!0),[es,ou]=C.useState(0),[iu,su]=C.useState(100),[vl,lu]=C.useState(10),[ts,bl]=C.useState("month"),[ns,wl]=C.useState("solid"),[rs,Cl]=C.useState(!1),[fo,Oa]=C.useState(!0),[as,os]=C.useState(4),[Qo,is]=C.useState("filled"),[qo,ss]=C.useState(2),[Kr,kl]=C.useState(!0),[ls,jl]=C.useState(.2),[Xo,cs]=C.useState(!0),[da,Wa]=C.useState(!0),[us,ho]=C.useState(!0),[ds,fs]=C.useState(!0),[mo,Ko]=C.useState("horizontal"),[Jo,hs]=C.useState("#e5e7eb"),[Zo,Sl]=C.useState("solid"),[ms,Nl]=C.useState(.5),[ps,Ml]=C.useState(!0),[ir,$a]=C.useState(14),[ei,gs]=C.useState("auto"),[ti,xs]=C.useState(!0),[po,Ll]=C.useState("day"),[ys,fa]=C.useState("sum"),[go,Ua]=C.useState(1),[xo,vs]=C.useState("auto"),[Va,ha]=C.useState(2),[yo,bs]=C.useState([0,100]),[Ha,ws]=C.useState("auto"),[ni,Cs]=C.useState("auto"),[ri,ks]=C.useState("MM/dd/yy"),[ai,Dr]=C.useState(""),[vo,oi]=C.useState([]),[js,Pl]=C.useState(null),[ma,El]=C.useState("above"),[ii,Ss]=C.useState(12),[Zt,si]=C.useState(!0),[Ia,Ba]=C.useState(!1),[li,ci]=C.useState(""),[pa,bo]=C.useState(""),[Jr,Ns]=C.useState(0),[Ms,Fl]=C.useState(!1),_l=C.useCallback(ge=>{re(ge);const Rr=e.layout.aspectRatios[ge]||e.layout.aspectRatios["1:1"];le(Rr.width),Y(Rr.height)},[e]),ui=C.useCallback(()=>{a("Units Produced by Region"),c("Production units by regional location (January)"),x(e.typography.families[0]),y(e.typography.sizes.title),b(e.typography.sizes.subtitle),j(22),S(24),F(e.typography.sizes.legend),H(e.typography.sizes.conversionLabel),N("#1e40af"),M(60),G("professional"),ee(b0),ze("vertical"),re("1:1"),le(900),Y(900),ue(600),de(400),ke(25),Ce(10),J("bottom"),ye(3),_e(100),bt("throughput"),vt("volume"),$t(!0),kt(!0),lt(!0),fn("direct"),nn(13),hn(!1),Fn("volume"),Vt("pro"),De("grouped"),Ne("direct"),Oe("metrics"),Le([]),ot(20),gt(20),Ae(""),Qt(17),Jt(0),On(0),Ta(!0),za(5e4),Io(!0),ua(1e4),Go(!0),Hi(5),uo(!0),Gi("outside"),Qi("none"),Yo(!1),Ki(!1),Zi(!0),Rn(""),qr(""),Ar(0),wn("number"),T(14)},[e]),di=C.useCallback(()=>({styleVersion:"1.0",appVersion:"2.0.0",typography:{title:r,subtitle:i,titleAlignment:u,fontFamily:p,titleFontSize:m,subtitleFontSize:v,segmentLabelFontSize:d,metricLabelFontSize:z,periodLabelFontSize:O,legendFontSize:W,conversionLabelFontSize:U,inStageLabelFontSize:Gt},colors:{barColor:I,colorTransition:P,comparisonPalette:A,userCustomColors:te},layout:{orientation:w,aspectRatio:ve,canvasWidth:ae,canvasHeight:_,chartWidth:se,chartHeight:be,chartPadding:Ee,stageGap:K,barWidth:q,stageLabelPosition:ne},visual:{axisLineWidth:me,backgroundOpacity:Ue,darkMode:Nn,backgroundColor:rn},display:{emphasis:Qe,metricEmphasis:ft,normalizeToHundred:ln,compactNumbers:Yt,showLegend:Bt,legendPosition:tn,showSparklines:vn,sparklineType:bn,userTier:wt,percentChangeEnabled:Qn,percentChangeLabelFormat:lo},chartSpecific:{slope:{colorMode:In,lineThickness:cr,lineOpacity:Gn,lineSaturation:Ge,endpointSize:ct,endpointStyle:ht,labelPosition:He,showCategoryLabels:Je,showValueLabels:et,labelFormat:L,increaseColor:$e,decreaseColor:jt,noChangeColor:Wt,startColor:on,endColor:_t,periodSpacing:Tn,periodHeight:Pn,periodLabelPosition:mt,slopeAxisLineColor:Yn,slopeAxisLineWidth:Ct,slopeAxisLineStyle:or,axisEnds:ce},bar:{barMode:B,labelMode:oe,directLabelContent:pe,emphasizedBars:Me,showMetricLabels:Ft,showPeriodLabels:Nt,metricLabelPosition:cn,periodLabelDisplay:Xt,percentChangeBracketDistance:Ui,showTotalLabels:Te,boldTotal:at,xAxisFontSize:Xe,xAxisSecondaryFontSize:tt,yAxisFontSize:Dt,axisLabel:Pe,axisLabelFontSize:yt,xAxisLabelRotation:qt,axisMinimum:fr,axisMinimumAuto:so,axisMaximum:Ho,axisMaximumAuto:Aa,axisMajorUnit:co,axisMajorUnitAuto:Ra,axisMinorUnit:Vi,axisMinorUnitAuto:Ii,axisMajorTickType:Bi,axisMinorTickType:Yi,showHorizontalGridlines:qi,showVerticalGridlines:Xi,compactAxisNumbers:Ji,valuePrefix:mn,valueSuffix:Qr,valueDecimalPlaces:dr,valueFormat:Xr},funnel:{},line:{timeScale:ts,aggregationLevel:po,aggregationMethod:ys,fiscalYearStartMonth:go,xAxisTimeGrouping:xo,xAxisLabelLevels:Va,dateRangeFilter:yo,xAxisPrimaryLabel:Ha,xAxisSecondaryLabel:ni,dateFormatPreset:ri,dateFormatCustom:ai,lineStyle:ns,smoothLines:rs,showPoints:fo,pointSize:as,pointStyle:Qo,pointBorderWidth:qo,excludeZeroValues:ti,showAreaFill:Kr,areaOpacity:ls,areaGradient:Xo,showXAxis:da,showYAxis:us,yAxisFormat:ei,showGridLines:ds,gridDirection:mo,gridLineColor:Jo,gridLineStyle:Zo,gridLineOpacity:ms,showDirectLabels:ps,directLabelFontSize:ir,emphasizedPoints:vo,emphasizedMetric:js,emphasisLabelPosition:ma,emphasisLabelFontSize:ii,showEmphasisDate:Zt,emphasisCompactNumbers:Ia,emphasisValuePrefix:li,emphasisValueSuffix:pa,emphasisDecimalPlaces:Jr,showEmphasisVerticalLine:Ms}}}),[r,i,u,p,m,v,d,z,O,W,U,Gt,I,P,A,te,w,ve,ae,_,se,be,Ee,K,q,ne,me,Ue,Nn,rn,Qe,ft,ln,Yt,Bt,tn,vn,bn,wt,Qn,lo,In,cr,Gn,Ge,ct,ht,He,Je,et,L,$e,jt,Wt,on,_t,Tn,Pn,mt,Yn,Ct,or,ce,B,oe,pe,Me,Ft,Nt,cn,Xt,Ui,Te,at,Xe,tt,Dt,Pe,yt,qt,fr,so,Ho,Aa,co,Ra,Vi,Ii,Bi,Yi,qi,Xi,Ji,mn,Qr,dr,Xr,ts,po,ys,go,xo,Va,yo,Ha,ni,ri,ai,ns,rs,fo,as,Qo,qo,ti,Kr,ls,Xo,da,us,ei,ds,mo,Jo,Zo,ms,ps,ir,vo,js,ma,ii,Zt,Ia,li,pa,Jr,Ms]),Ls=C.useCallback((ge,Rr="slope")=>{if(ge.typography&&(ge.typography.title!==void 0&&a(ge.typography.title),ge.typography.subtitle!==void 0&&c(ge.typography.subtitle),ge.typography.titleAlignment!==void 0&&h(ge.typography.titleAlignment),ge.typography.fontFamily!==void 0&&x(ge.typography.fontFamily),ge.typography.titleFontSize!==void 0&&y(ge.typography.titleFontSize),ge.typography.subtitleFontSize!==void 0&&b(ge.typography.subtitleFontSize),ge.typography.segmentLabelFontSize!==void 0&&j(ge.typography.segmentLabelFontSize),ge.typography.metricLabelFontSize!==void 0&&S(ge.typography.metricLabelFontSize),ge.typography.periodLabelFontSize!==void 0&&T(ge.typography.periodLabelFontSize),ge.typography.legendFontSize!==void 0&&F(ge.typography.legendFontSize),ge.typography.conversionLabelFontSize!==void 0&&H(ge.typography.conversionLabelFontSize),ge.typography.inStageLabelFontSize!==void 0&&nn(ge.typography.inStageLabelFontSize)),ge.colors&&(ge.colors.barColor!==void 0&&N(ge.colors.barColor),ge.colors.colorTransition!==void 0&&M(ge.colors.colorTransition),ge.colors.comparisonPalette!==void 0&&G(ge.colors.comparisonPalette),ge.colors.userCustomColors!==void 0&&ee(ge.colors.userCustomColors)),ge.layout&&(ge.layout.orientation!==void 0&&ze(ge.layout.orientation),ge.layout.aspectRatio!==void 0&&re(ge.layout.aspectRatio),ge.layout.canvasWidth!==void 0&&le(ge.layout.canvasWidth),ge.layout.canvasHeight!==void 0&&Y(ge.layout.canvasHeight),ge.layout.chartWidth!==void 0&&ue(ge.layout.chartWidth),ge.layout.chartHeight!==void 0&&de(ge.layout.chartHeight),ge.layout.chartPadding!==void 0&&ke(ge.layout.chartPadding),ge.layout.stageGap!==void 0&&Ce(ge.layout.stageGap),ge.layout.barWidth!==void 0&&D(ge.layout.barWidth),ge.layout.stageLabelPosition!==void 0&&J(ge.layout.stageLabelPosition)),ge.visual&&(ge.visual.axisLineWidth!==void 0&&ye(ge.visual.axisLineWidth),ge.visual.backgroundOpacity!==void 0&&_e(ge.visual.backgroundOpacity),ge.visual.darkMode!==void 0&&_n(ge.visual.darkMode),ge.visual.backgroundColor!==void 0&&Mn(ge.visual.backgroundColor)),ge.display&&(ge.display.emphasis!==void 0&&bt(ge.display.emphasis),ge.display.metricEmphasis!==void 0&&vt(ge.display.metricEmphasis),ge.display.normalizeToHundred!==void 0&&$t(ge.display.normalizeToHundred),ge.display.compactNumbers!==void 0&&kt(ge.display.compactNumbers),ge.display.showLegend!==void 0&&lt(ge.display.showLegend),ge.display.legendPosition!==void 0&&fn(ge.display.legendPosition),ge.display.showSparklines!==void 0&&hn(ge.display.showSparklines),ge.display.sparklineType!==void 0&&Fn(ge.display.sparklineType),ge.display.userTier!==void 0&&Vt(ge.display.userTier),ge.display.percentChangeEnabled!==void 0&&ca(ge.display.percentChangeEnabled),ge.display.percentChangeLabelFormat!==void 0&&Da(ge.display.percentChangeLabelFormat)),ge.chartSpecific)if(Rr==="slope"&&ge.chartSpecific.slope){const $=ge.chartSpecific.slope;$.colorMode!==void 0&&Bn($.colorMode),$.lineThickness!==void 0&&Ln($.lineThickness),$.lineOpacity!==void 0&&Fe($.lineOpacity),$.lineSaturation!==void 0&&Ze($.lineSaturation),$.endpointSize!==void 0&&Lt($.endpointSize),$.endpointStyle!==void 0&&Pt($.endpointStyle),$.labelPosition!==void 0&&rt($.labelPosition),$.showCategoryLabels!==void 0&&ut($.showCategoryLabels),$.showValueLabels!==void 0&&Rt($.showValueLabels),$.labelFormat!==void 0&&fe($.labelFormat),$.increaseColor!==void 0&&Ot($.increaseColor),$.decreaseColor!==void 0&&zt($.decreaseColor),$.noChangeColor!==void 0&&Mt($.noChangeColor),$.startColor!==void 0&&Kt($.startColor),$.endColor!==void 0&&Tr($.endColor),$.periodSpacing!==void 0&&zr($.periodSpacing),$.periodHeight!==void 0&&jn($.periodHeight),$.periodLabelPosition!==void 0&&qe($.periodLabelPosition),$.slopeAxisLineColor!==void 0&&Jn($.slopeAxisLineColor),$.slopeAxisLineWidth!==void 0&&un($.slopeAxisLineWidth),$.slopeAxisLineStyle!==void 0&&At($.slopeAxisLineStyle),$.axisEnds!==void 0&&je($.axisEnds)}else if(Rr==="bar"&&ge.chartSpecific.bar){const $=ge.chartSpecific.bar;$.barMode!==void 0&&De($.barMode),$.labelMode!==void 0&&Ne($.labelMode),$.directLabelContent!==void 0&&Oe($.directLabelContent),$.emphasizedBars!==void 0&&Le($.emphasizedBars),$.xAxisFontSize!==void 0&&ot($.xAxisFontSize),$.yAxisFontSize!==void 0&&gt($.yAxisFontSize),$.axisLabel!==void 0&&Ae($.axisLabel),$.axisLabelFontSize!==void 0&&Qt($.axisLabelFontSize),$.xAxisLabelRotation!==void 0&&Jt($.xAxisLabelRotation),$.axisMinimum!==void 0&&On($.axisMinimum),$.axisMinimumAuto!==void 0&&Ta($.axisMinimumAuto),$.axisMaximum!==void 0&&za($.axisMaximum),$.axisMaximumAuto!==void 0&&Io($.axisMaximumAuto),$.axisMajorUnit!==void 0&&ua($.axisMajorUnit),$.axisMajorUnitAuto!==void 0&&Go($.axisMajorUnitAuto),$.axisMinorUnit!==void 0&&Hi($.axisMinorUnit),$.axisMinorUnitAuto!==void 0&&uo($.axisMinorUnitAuto),$.axisMajorTickType!==void 0&&Gi($.axisMajorTickType),$.axisMinorTickType!==void 0&&Qi($.axisMinorTickType),$.showHorizontalGridlines!==void 0&&Yo($.showHorizontalGridlines),$.showVerticalGridlines!==void 0&&Ki($.showVerticalGridlines),$.compactAxisNumbers!==void 0&&Zi($.compactAxisNumbers),$.showMetricLabels!==void 0&&xt($.showMetricLabels),$.showPeriodLabels!==void 0&&kn($.showPeriodLabels),$.metricLabelPosition!==void 0&&ar($.metricLabelPosition),$.periodLabelDisplay!==void 0&&ur($.periodLabelDisplay),$.percentChangeBracketDistance!==void 0&&Bo($.percentChangeBracketDistance),$.showTotalLabels!==void 0&&Re($.showTotalLabels),$.boldTotal!==void 0&&nt($.boldTotal),$.xAxisSecondaryFontSize!==void 0&&pt($.xAxisSecondaryFontSize),$.valuePrefix!==void 0&&Rn($.valuePrefix),$.valueSuffix!==void 0&&qr($.valueSuffix),$.valueDecimalPlaces!==void 0&&Ar($.valueDecimalPlaces),$.valueFormat!==void 0&&wn($.valueFormat)}else if(Rr==="line"&&ge.chartSpecific.line){const $=ge.chartSpecific.line;$.timeScale!==void 0&&bl($.timeScale),$.aggregationLevel!==void 0&&Ll($.aggregationLevel),$.aggregationMethod!==void 0&&fa($.aggregationMethod),$.fiscalYearStartMonth!==void 0&&Ua($.fiscalYearStartMonth),$.xAxisTimeGrouping!==void 0&&vs($.xAxisTimeGrouping),$.xAxisLabelLevels!==void 0&&ha($.xAxisLabelLevels),$.dateRangeFilter!==void 0&&bs($.dateRangeFilter),$.xAxisPrimaryLabel!==void 0&&ws($.xAxisPrimaryLabel),$.xAxisSecondaryLabel!==void 0&&Cs($.xAxisSecondaryLabel),$.dateFormatPreset!==void 0&&ks($.dateFormatPreset),$.dateFormatCustom!==void 0&&Dr($.dateFormatCustom),$.lineStyle!==void 0&&wl($.lineStyle),$.smoothLines!==void 0&&Cl($.smoothLines),$.showPoints!==void 0&&Oa($.showPoints),$.pointSize!==void 0&&os($.pointSize),$.pointStyle!==void 0&&is($.pointStyle),$.pointBorderWidth!==void 0&&ss($.pointBorderWidth),$.excludeZeroValues!==void 0&&xs($.excludeZeroValues),$.showAreaFill!==void 0&&kl($.showAreaFill),$.areaOpacity!==void 0&&jl($.areaOpacity),$.areaGradient!==void 0&&cs($.areaGradient),$.showXAxis!==void 0&&Wa($.showXAxis),$.showYAxis!==void 0&&ho($.showYAxis),$.yAxisFormat!==void 0&&gs($.yAxisFormat),$.showGridLines!==void 0&&fs($.showGridLines),$.gridDirection!==void 0&&Ko($.gridDirection),$.gridLineColor!==void 0&&hs($.gridLineColor),$.gridLineStyle!==void 0&&Sl($.gridLineStyle),$.gridLineOpacity!==void 0&&Nl($.gridLineOpacity),$.showDirectLabels!==void 0&&Ml($.showDirectLabels),$.directLabelFontSize!==void 0&&$a($.directLabelFontSize),$.emphasizedPoints!==void 0&&oi($.emphasizedPoints),$.emphasizedMetric!==void 0&&Pl($.emphasizedMetric),$.emphasisLabelPosition!==void 0&&El($.emphasisLabelPosition),$.emphasisLabelFontSize!==void 0&&Ss($.emphasisLabelFontSize),$.showEmphasisDate!==void 0&&si($.showEmphasisDate),$.emphasisCompactNumbers!==void 0&&Ba($.emphasisCompactNumbers),$.emphasisValuePrefix!==void 0&&ci($.emphasisValuePrefix),$.emphasisValueSuffix!==void 0&&bo($.emphasisValueSuffix),$.emphasisDecimalPlaces!==void 0&&Ns($.emphasisDecimalPlaces),$.showEmphasisVerticalLine!==void 0&&Fl($.showEmphasisVerticalLine)}else Rr==="funnel"&&ge.chartSpecific.funnel},[]);return{title:r,setTitle:a,subtitle:i,setSubtitle:c,titleAlignment:u,setTitleAlignment:h,fontFamily:p,setFontFamily:x,titleFontSize:m,setTitleFontSize:y,subtitleFontSize:v,setSubtitleFontSize:b,segmentLabelFontSize:d,setSegmentLabelFontSize:j,metricLabelFontSize:z,setMetricLabelFontSize:S,periodLabelFontSize:O,setPeriodLabelFontSize:T,legendFontSize:W,setLegendFontSize:F,conversionLabelFontSize:U,setConversionLabelFontSize:H,barColor:I,setBarColor:N,colorTransition:P,setColorTransition:M,comparisonPalette:A,setComparisonPalette:G,userCustomColors:te,setUserCustomColors:ee,orientation:w,setOrientation:ze,aspectRatio:ve,setAspectRatio:re,canvasWidth:ae,setCanvasWidth:le,canvasHeight:_,setCanvasHeight:Y,chartWidth:se,setChartWidth:ue,chartHeight:be,setChartHeight:de,chartPadding:Ee,setChartPadding:ke,stageGap:K,setStageGap:Ce,barWidth:q,setBarWidth:D,stageLabelPosition:ne,setStageLabelPosition:J,axisLineWidth:me,setAxisLineWidth:ye,backgroundOpacity:Ue,setBackgroundOpacity:_e,emphasis:Qe,setEmphasis:bt,metricEmphasis:ft,setMetricEmphasis:vt,normalizeToHundred:ln,setNormalizeToHundred:$t,compactNumbers:Yt,setCompactNumbers:kt,showLegend:Bt,setShowLegend:lt,legendPosition:tn,setLegendPosition:fn,inStageLabelFontSize:Gt,setInStageLabelFontSize:nn,showSparklines:vn,setShowSparklines:hn,sparklineType:bn,setSparklineType:Fn,userTier:wt,setUserTier:Vt,percentChangeEnabled:Qn,setPercentChangeEnabled:ca,percentChangeLabelFormat:lo,setPercentChangeLabelFormat:Da,percentChangeBracketDistance:Ui,setPercentChangeBracketDistance:Bo,darkMode:Nn,setDarkMode:_n,backgroundColor:rn,setBackgroundColor:Mn,colorMode:In,setColorMode:Bn,lineThickness:cr,setLineThickness:Ln,lineOpacity:Gn,setLineOpacity:Fe,lineSaturation:Ge,setLineSaturation:Ze,endpointSize:ct,setEndpointSize:Lt,endpointStyle:ht,setEndpointStyle:Pt,labelPosition:He,setLabelPosition:rt,showCategoryLabels:Je,setShowCategoryLabels:ut,showValueLabels:et,setShowValueLabels:Rt,showMetricLabels:Ft,setShowMetricLabels:xt,showPeriodLabels:Nt,setShowPeriodLabels:kn,metricLabelPosition:cn,setMetricLabelPosition:ar,periodLabelDisplay:Xt,setPeriodLabelDisplay:ur,labelFormat:L,setLabelFormat:fe,emphasizedLines:ie,setEmphasizedLines:Ie,increaseColor:$e,setIncreaseColor:Ot,decreaseColor:jt,setDecreaseColor:zt,noChangeColor:Wt,setNoChangeColor:Mt,startColor:on,setStartColor:Kt,endColor:_t,setEndColor:Tr,periodSpacing:Tn,setPeriodSpacing:zr,periodHeight:Pn,setPeriodHeight:jn,periodLabelPosition:mt,setPeriodLabelPosition:qe,slopeAxisLineColor:Yn,setSlopeAxisLineColor:Jn,slopeAxisLineWidth:Ct,setSlopeAxisLineWidth:un,slopeAxisLineStyle:or,setSlopeAxisLineStyle:At,axisEnds:ce,setAxisEnds:je,barMode:B,setBarMode:De,labelMode:oe,setLabelMode:Ne,directLabelContent:pe,setDirectLabelContent:Oe,emphasizedBars:Me,setEmphasizedBars:Le,showTotalLabels:Te,setShowTotalLabels:Re,boldTotal:at,setBoldTotal:nt,xAxisFontSize:Xe,setXAxisFontSize:ot,xAxisSecondaryFontSize:tt,setXAxisSecondaryFontSize:pt,yAxisFontSize:Dt,setYAxisFontSize:gt,axisLabel:Pe,setAxisLabel:Ae,axisLabelFontSize:yt,setAxisLabelFontSize:Qt,xAxisLabelRotation:qt,setXAxisLabelRotation:Jt,valuePrefix:mn,setValuePrefix:Rn,valueSuffix:Qr,setValueSuffix:qr,valueDecimalPlaces:dr,setValueDecimalPlaces:Ar,valueFormat:Xr,setValueFormat:wn,axisMinimum:fr,setAxisMinimum:On,axisMinimumAuto:so,setAxisMinimumAuto:Ta,axisMaximum:Ho,setAxisMaximum:za,axisMaximumAuto:Aa,setAxisMaximumAuto:Io,axisMajorUnit:co,setAxisMajorUnit:ua,axisMajorUnitAuto:Ra,setAxisMajorUnitAuto:Go,axisMinorUnit:Vi,setAxisMinorUnit:Hi,axisMinorUnitAuto:Ii,setAxisMinorUnitAuto:uo,axisMajorTickType:Bi,setAxisMajorTickType:Gi,axisMinorTickType:Yi,setAxisMinorTickType:Qi,showHorizontalGridlines:qi,setShowHorizontalGridlines:Yo,showVerticalGridlines:Xi,setShowVerticalGridlines:Ki,compactAxisNumbers:Ji,setCompactAxisNumbers:Zi,calculatedAxisMinimum:es,setCalculatedAxisMinimum:ou,calculatedAxisMaximum:iu,setCalculatedAxisMaximum:su,calculatedAxisMajorUnit:vl,setCalculatedAxisMajorUnit:lu,timeScale:ts,setTimeScale:bl,lineStyle:ns,setLineStyle:wl,smoothLines:rs,setSmoothLines:Cl,showPoints:fo,setShowPoints:Oa,pointSize:as,setPointSize:os,pointStyle:Qo,setPointStyle:is,pointBorderWidth:qo,setPointBorderWidth:ss,showAreaFill:Kr,setShowAreaFill:kl,areaOpacity:ls,setAreaOpacity:jl,areaGradient:Xo,setAreaGradient:cs,showXAxis:da,setShowXAxis:Wa,showYAxis:us,setShowYAxis:ho,showGridLines:ds,setShowGridLines:fs,gridDirection:mo,setGridDirection:Ko,gridLineColor:Jo,setGridLineColor:hs,gridLineStyle:Zo,setGridLineStyle:Sl,gridLineOpacity:ms,setGridLineOpacity:Nl,showDirectLabels:ps,setShowDirectLabels:Ml,directLabelFontSize:ir,setDirectLabelFontSize:$a,yAxisFormat:ei,setYAxisFormat:gs,excludeZeroValues:ti,setExcludeZeroValues:xs,aggregationLevel:po,setAggregationLevel:Ll,aggregationMethod:ys,setAggregationMethod:fa,fiscalYearStartMonth:go,setFiscalYearStartMonth:Ua,xAxisTimeGrouping:xo,setXAxisTimeGrouping:vs,xAxisLabelLevels:Va,setXAxisLabelLevels:ha,dateRangeFilter:yo,setDateRangeFilter:bs,xAxisPrimaryLabel:Ha,setXAxisPrimaryLabel:ws,xAxisSecondaryLabel:ni,setXAxisSecondaryLabel:Cs,dateFormatPreset:ri,setDateFormatPreset:ks,dateFormatCustom:ai,setDateFormatCustom:Dr,emphasizedPoints:vo,setEmphasizedPoints:oi,emphasizedMetric:js,setEmphasizedMetric:Pl,emphasisLabelPosition:ma,setEmphasisLabelPosition:El,emphasisLabelFontSize:ii,setEmphasisLabelFontSize:Ss,showEmphasisDate:Zt,setShowEmphasisDate:si,emphasisCompactNumbers:Ia,setEmphasisCompactNumbers:Ba,emphasisValuePrefix:li,setEmphasisValuePrefix:ci,emphasisValueSuffix:pa,setEmphasisValueSuffix:bo,emphasisDecimalPlaces:Jr,setEmphasisDecimalPlaces:Ns,showEmphasisVerticalLine:Ms,setShowEmphasisVerticalLine:Fl,updateAspectRatio:_l,resetToDefaults:ui,exportSettings:di,importSettings:Ls}},AC=e=>e>=1e9?(e/1e9).toFixed(1)+"B":e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString(),DC=e=>e.toLocaleString("en-US"),RC=e=>{const r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return r?{r:parseInt(r[1],16),g:parseInt(r[2],16),b:parseInt(r[3],16)}:null},rr=e=>{const r=RC(e);return r?(.299*r.r+.587*r.g+.114*r.b)/255>.5?"#000000":"#ffffff":"#000000"},OC=({data:e,periodNames:r,isComparisonMode:a,styleSettings:i,onStageClick:c})=>{const u=C.useRef(null),[h,p]=C.useState([]),[x,m]=C.useState(0),y=C.useCallback((j,z)=>{const S=x===z,O=h.includes(j);if(S&&O){m(0),p([]);return}m(z),p(T=>T.length===0?[j]:T.length===1?T[0]!==j?[T[0],j]:T:[j]),c&&c(j,z)},[x,h,c]),v=C.useCallback((j,z)=>{if(a){const F=Kn[i.comparisonPalette];return(i.comparisonPalette==="user"?i.userCustomColors:F.colors).slice(0,z)}if(z===1)return[j];const S=Pa(j),O=Rc(S),T=[],W=i.colorTransition/100;for(let F=0;F<z;F++){const U=F/(z-1),H=O.l+U*(.75-O.l)*W,I=O.s*(1-U*.4*W),N=Rc(O.h,I,H);T.push(N.formatHex())}return T},[a,i.comparisonPalette,i.userCustomColors,i.colorTransition]),b=C.useCallback((j,z)=>{if(z===0)return Array(j).fill("rgb(255,255,255)");const S=Math.pow(z/100,1.5),O=Math.round(255-35*S),T=Math.round(255-135*S);if(j===1)return["rgb("+T+","+T+","+T+")"];const W=[];for(let F=0;F<j;F++){const U=(j-1-F)/(j-1),H=Math.pow(U,.7),I=Math.round(O-(O-T)*H);W.push("rgb("+I+","+I+","+I+")")}return W},[]),d=C.useCallback(j=>i.compactNumbers?AC(j):DC(j),[i.compactNumbers]);return C.useEffect(()=>{if(!e||e.length===0||!u.current)return;const j=e.map(de=>({label:de.Stage,periods:r.map(Ee=>de[Ee]||0),hidden:de.hidden||!1})),z=j.filter(de=>!de.hidden);if(z.length===0)return;const S=xn(u.current);S.selectAll("*").remove();const O={backgroundColor:i.backgroundColor||(i.darkMode?"#1f2937":"#ffffff"),titleColor:i.darkMode?"#f9fafb":"#111827",subtitleColor:i.darkMode?"#d1d5db":"#6b7280",stageLabelColor:i.darkMode?"#e5e7eb":"#374151",primaryTextColor:i.darkMode?"#e5e7eb":"#374151",secondaryTextColor:i.darkMode?"#9ca3af":"#6b7280",legendTextColor:i.darkMode?"#d1d5db":"#4b5563",bracketColor:i.darkMode?"#f9fafb":"#000000",axisColor:i.darkMode?"#f9fafb":"#000000"},T=S.append("g");let W=0;z.forEach(de=>{const Ee=T.append("text").attr("font-family",i.fontFamily).attr("font-size",i.segmentLabelFontSize+"px").attr("font-weight","500").text(de.label),ke=Ee.node().getBBox();W=Math.max(W,ke.width),Ee.remove()}),T.remove();const F=Math.max(120,W+20),U=i.titleFontSize,H=i.subtitle?i.subtitleFontSize:0,I=i.showLegend&&i.legendPosition==="legend"&&r.length>0?10:0,N=i.subtitle?5:0,P=i.showLegend&&i.legendPosition==="legend"&&r.length>0?24:0,M=i.showLegend&&i.legendPosition==="legend"&&r.length>0?20:15,A=U+N+H+P+I+M,G=i.showSparklines?50:0,te=h.length===2?40:0,ee=i.showSparklines?h.length===2?280:200:h.length===2?180:120,w=i.orientation==="vertical"?{top:40+A,right:ee,bottom:100,left:F}:{top:40+A+G+(G>0?15:0)+te+(te>0?10:0),right:80,bottom:Math.max(100,W+40),left:120},ze=i.chartWidth-w.left-w.right,ve=i.chartHeight-w.top-w.bottom;S.style("background-color",O.backgroundColor);const re=S.attr("width",i.chartWidth).attr("height",i.chartHeight).append("g").attr("transform","translate("+w.left+","+w.top+")"),le=Math.max(...z.flatMap(de=>de.periods)),_=v(i.barColor,r.length),Y=b(r.length,i.backgroundOpacity),se=j.map((de,Ee)=>de.hidden?-1:Ee).filter(de=>de!==-1),ue=new Map;let be=0;if(j.forEach((de,Ee)=>{de.hidden||(ue.set(Ee,be),be++)}),i.orientation==="vertical"?WC(re,z,j,se,ue,r,ze,ve,le,_,Y,i,h,x,y,d,O):$C(re,z,j,se,ue,r,ze,ve,w,le,_,Y,i,h,x,y,d,A,O),KC(re,w,i,r,_,U,H,O),i.userTier!=="pro"){const de="Made with Find&Tell | Charts for Data Stories | FindandTell.co",ke=i.chartHeight-5;S.append("a").attr("href","https://findandtell.co").attr("target","_blank").attr("rel","noopener noreferrer").append("text").attr("x",i.chartWidth/2).attr("y",ke).attr("text-anchor","middle").attr("font-family",i.fontFamily).attr("font-size","14px").attr("font-weight","500").attr("fill","#1e3a8a").attr("opacity",1).style("cursor","pointer").text(de).on("mouseover",function(){xn(this).attr("fill","#0891b2")}).on("mouseout",function(){xn(this).attr("fill","#1e3a8a")})}},[e,r,i,h,x,y,d,v,b]),o.jsx("svg",{ref:u,style:{width:"100%",height:"100%",fontFamily:i.fontFamily}})};function WC(e,r,a,i,c,u,h,p,x,m,y,v,b,d,j,z,S){const O=Br().domain([0,x]).range([0,h]),T=(p-(r.length-1)*v.stageGap)/r.length,W=T/u.length;r.forEach((F,U)=>{const H=i[U],I=U*(T+v.stageGap),N=F.periods.map((A,G)=>{const te=v.normalizeToHundred&&U===0?x:A;return O(te)}),P=Math.min(...N),M=v.emphasis==="throughput"&&P>100;F.periods.forEach((A,G)=>{const te=I+(u.length-1-G)*W,ee=b.length===0||b.includes(H),w=G===d,ze=b.length===0||ee&&w?1:ee?.5:.25;v.emphasis==="throughput"?UC(e,te,W,h,A,U,G,x,O,m,y,ze,v,H,j,z,M,r,u,S):VC(e,te,W,h,A,U,G,x,m,y,ze,v,H,j,z,r,u,S)}),e.append("text").attr("x",-15).attr("y",I+T/2).attr("dy","0.35em").attr("text-anchor","end").attr("fill",S.stageLabelColor).attr("font-family",v.fontFamily).attr("font-size",v.segmentLabelFontSize+"px").attr("font-weight","500").text(F.label)}),v.showSparklines&&BC(e,r,a,i,u,T,v,m,h,b,S),b.length===2&&YC(e,b,a,c,T,W,u,d,h,v,S),qC(e,p,h,v,S)}function $C(e,r,a,i,c,u,h,p,x,m,y,v,b,d,j,z,S,O,T){const W=Br().domain([0,m]).range([p,0]),F=(h-(r.length-1)*b.stageGap)/r.length,U=F/u.length;r.forEach((H,I)=>{const N=i[I],P=I*(F+b.stageGap),M=H.periods.map((te,ee)=>{const w=b.normalizeToHundred&&I===0?m:te;return p-W(w)}),A=Math.min(...M),G=b.emphasis==="throughput"&&U>30&&A>70;if(H.periods.forEach((te,ee)=>{const w=P+(u.length-1-ee)*U,ze=d.length===0||d.includes(N),ve=ee===j,re=d.length===0||ze&&ve?1:ze?.5:.25;b.emphasis==="throughput"?HC(e,w,U,p,te,I,ee,m,W,y,v,re,b,N,z,S,G,r,u,T):IC(e,w,U,p,te,I,ee,y,v,re,b,N,z,S,r,u,T)}),b.stageLabelPosition==="top"){const te=d.length===2,ee=b.showLegend&&b.legendPosition==="legend",w=te||ee?-55:-15;e.append("text").attr("x",P+F/2).attr("y",w).attr("text-anchor","middle").attr("fill",T.stageLabelColor).attr("font-family",b.fontFamily).attr("font-size",b.segmentLabelFontSize+"px").attr("font-weight","500").text(H.label)}else e.append("text").attr("x",P+F/2).attr("y",p+25).attr("text-anchor","middle").attr("fill",T.stageLabelColor).attr("font-family",b.fontFamily).attr("font-size",b.segmentLabelFontSize+"px").attr("font-weight","500").text(H.label)}),b.showSparklines&&GC(e,r,a,i,u,F,b,y,x,O,T),d.length===2&&QC(e,d,a,c,F,U,u,j,p,b,T),XC(e,p,h,b,T)}function UC(e,r,a,i,c,u,h,p,x,m,y,v,b,d,j,z,S,O,T,W){b.backgroundOpacity>0&&e.append("rect").attr("x",0).attr("y",r).attr("width",i).attr("height",a).attr("fill",y[h]).attr("opacity",v*(b.backgroundOpacity/100)).style("cursor","pointer").on("click",()=>j(d,h));const F=b.normalizeToHundred&&u===0?p:c,U=x(F);e.append("rect").attr("x",0).attr("y",r).attr("width",U).attr("height",a).attr("fill",m[h]).attr("opacity",v).style("cursor","pointer").on("click",()=>j(d,h));let H;if(u===0)H=100;else{const M=O[u-1].periods[h];H=M>0?Math.round(c/M*100):0}const I=b.metricEmphasis==="volume"?z(c):H+"%",N=b.metricEmphasis==="volume"?"("+H+"%)":"("+z(c)+")";if(S){const P=rr(m[h]),M=e.append("text").attr("x",U-12).attr("y",r+a/2).attr("dy","0.35em").attr("text-anchor","end").attr("opacity",v);M.append("tspan").attr("fill",P).attr("font-family",b.fontFamily).attr("font-size",b.metricLabelFontSize+"px").attr("font-weight","700").text(I),M.append("tspan").attr("fill",P).attr("font-family",b.fontFamily).attr("font-size",b.metricLabelFontSize-1+"px").attr("font-weight","400").attr("opacity",.8).text(" "+N)}else{const P=e.append("text").attr("x",U+8).attr("y",r+a/2).attr("dy","0.35em").attr("text-anchor","start").attr("opacity",v);P.append("tspan").attr("fill",W.primaryTextColor).attr("font-family",b.fontFamily).attr("font-size",b.metricLabelFontSize+"px").attr("font-weight","700").text(I),P.append("tspan").attr("fill",W.secondaryTextColor).attr("font-family",b.fontFamily).attr("font-size",b.metricLabelFontSize-1+"px").attr("font-weight","400").text(" "+N)}if(u===0&&b.showLegend&&b.legendPosition==="direct"){const P=T[h]||`Period ${h+1}`,M=rr(m[h]);e.append("text").attr("x",10).attr("y",r+a/2).attr("dy","0.35em").attr("text-anchor","start").attr("fill",M).attr("font-family",b.fontFamily).attr("font-size",b.inStageLabelFontSize+"px").attr("font-weight","600").attr("opacity",v).text(P)}}function VC(e,r,a,i,c,u,h,p,x,m,y,v,b,d,j,z,S,O){if(u===0){e.append("rect").attr("x",0).attr("y",r).attr("width",i).attr("height",a).attr("fill",x[h]).attr("opacity",y).style("cursor","pointer").on("click",()=>d(b,h));const T=100,W=v.metricEmphasis==="volume"?j(c):T+"%",F=v.metricEmphasis==="volume"?"("+T+"%)":"("+j(c)+")",U=rr(x[h]),H=e.append("text").attr("x",i-12).attr("y",r+a/2).attr("dy","0.35em").attr("text-anchor","end").attr("opacity",y);H.append("tspan").attr("fill",U).attr("font-family",v.fontFamily).attr("font-size",v.metricLabelFontSize+"px").attr("font-weight","700").text(W),H.append("tspan").attr("fill",U).attr("font-family",v.fontFamily).attr("font-size",v.metricLabelFontSize-1+"px").attr("font-weight","400").attr("opacity",.8).text(" "+F)}else{const W=z[u-1].periods[h],F=W>0?c/W:0,U=1-F,H=i*F,I=i*U,N=y*(v.backgroundOpacity/100);e.append("rect").attr("x",0).attr("y",r).attr("width",H).attr("height",a).attr("fill",m[h]).attr("opacity",N).style("cursor","pointer").on("click",()=>d(b,h)),e.append("rect").attr("x",H).attr("y",r).attr("width",I).attr("height",a).attr("fill",x[h]).attr("opacity",y).style("cursor","pointer").on("click",()=>d(b,h));const P=W-c,M=Math.round(U*100),A=v.metricEmphasis==="volume"?j(P):M+"%",G=v.metricEmphasis==="volume"?"("+M+"%)":"("+j(P)+")",te=rr(x[h]);if(I>100){const ee=e.append("text").attr("x",i-12).attr("y",r+a/2).attr("dy","0.35em").attr("text-anchor","end").attr("opacity",y);ee.append("tspan").attr("fill",te).attr("font-family",v.fontFamily).attr("font-size",v.metricLabelFontSize+"px").attr("font-weight","700").text(A),ee.append("tspan").attr("fill",te).attr("font-family",v.fontFamily).attr("font-size",v.metricLabelFontSize-1+"px").attr("font-weight","400").attr("opacity",.8).text(" "+G)}else{const ee=e.append("text").attr("x",i+8).attr("y",r+a/2).attr("dy","0.35em").attr("text-anchor","start").attr("opacity",y);ee.append("tspan").attr("fill",O.primaryTextColor).attr("font-family",v.fontFamily).attr("font-size",v.metricLabelFontSize+"px").attr("font-weight","700").text(A),ee.append("tspan").attr("fill",O.secondaryTextColor).attr("font-family",v.fontFamily).attr("font-size",v.metricLabelFontSize-1+"px").attr("font-weight","400").text(" "+G)}}if(u===0&&v.showLegend&&v.legendPosition==="direct"){const T=S[h]||`Period ${h+1}`,W=rr(x[h]);e.append("text").attr("x",10).attr("y",r+a/2).attr("dy","0.35em").attr("text-anchor","start").attr("fill",W).attr("font-family",v.fontFamily).attr("font-size",v.inStageLabelFontSize+"px").attr("font-weight","600").attr("opacity",y).text(T)}}function HC(e,r,a,i,c,u,h,p,x,m,y,v,b,d,j,z,S,O,T,W){b.backgroundOpacity>0&&e.append("rect").attr("x",r).attr("y",0).attr("width",a).attr("height",i).attr("fill",y[h]).attr("opacity",v*(b.backgroundOpacity/100)).style("cursor","pointer").on("click",()=>j(d,h));const F=b.normalizeToHundred&&u===0?p:c,U=i-x(F),H=x(F);e.append("rect").attr("x",r).attr("y",H).attr("width",a).attr("height",U).attr("fill",m[h]).attr("opacity",v).style("cursor","pointer").on("click",()=>j(d,h));let I;if(u===0)I=100;else{const A=O[u-1].periods[h];I=A>0?Math.round(c/A*100):0}const N=b.metricEmphasis==="volume"?z(c):I+"%",P=b.metricEmphasis==="volume"?"("+I+"%)":"("+z(c)+")";if(S){const M=rr(m[h]),A=H+18,G=H+36;e.append("text").attr("x",r+a/2).attr("y",A).attr("text-anchor","middle").attr("fill",M).attr("font-family",b.fontFamily).attr("font-size",b.metricLabelFontSize+"px").attr("font-weight","700").attr("opacity",v).text(N),e.append("text").attr("x",r+a/2).attr("y",G).attr("text-anchor","middle").attr("fill",M).attr("font-family",b.fontFamily).attr("font-size",b.metricLabelFontSize-1+"px").attr("font-weight","400").attr("opacity",v*.9).text(P)}else{const M=H-8;e.append("text").attr("x",r+a/2).attr("y",M).attr("text-anchor","middle").attr("fill",W.primaryTextColor).attr("font-family",b.fontFamily).attr("font-size",b.metricLabelFontSize+"px").attr("font-weight","700").attr("opacity",v).text(N),e.append("text").attr("x",r+a/2).attr("y",M-16).attr("text-anchor","middle").attr("fill",W.secondaryTextColor).attr("font-family",b.fontFamily).attr("font-size",b.metricLabelFontSize-1+"px").attr("font-weight","400").attr("opacity",v).text(P)}if(u===0&&b.showLegend&&b.legendPosition==="direct"){const M=T[h]||`Period ${h+1}`,A=rr(m[h]);e.append("text").attr("x",r+a/2).attr("y",i-20).attr("text-anchor","middle").attr("dominant-baseline","baseline").attr("fill",A).attr("font-family",b.fontFamily).attr("font-size",b.inStageLabelFontSize+"px").attr("font-weight","600").attr("opacity",v).text(M)}}function IC(e,r,a,i,c,u,h,p,x,m,y,v,b,d,j,z,S){if(u===0){e.append("rect").attr("x",r).attr("y",0).attr("width",a).attr("height",i).attr("fill",p[h]).attr("opacity",m).style("cursor","pointer").on("click",()=>b(v,h));const O=100,T=y.metricEmphasis==="volume"?d(c):O+"%",W=y.metricEmphasis==="volume"?"("+O+"%)":"("+d(c)+")",F=rr(p[h]);a>30&&i>70?(e.append("text").attr("x",r+a/2).attr("y",18).attr("text-anchor","middle").attr("fill",F).attr("font-family",y.fontFamily).attr("font-size",y.metricLabelFontSize+"px").attr("font-weight","700").attr("opacity",m).text(T),e.append("text").attr("x",r+a/2).attr("y",36).attr("text-anchor","middle").attr("fill",F).attr("font-family",y.fontFamily).attr("font-size",y.metricLabelFontSize-1+"px").attr("font-weight","400").attr("opacity",m*.9).text(W)):(e.append("text").attr("x",r+a/2).attr("y",-8).attr("text-anchor","middle").attr("fill",S.primaryTextColor).attr("font-family",y.fontFamily).attr("font-size",y.metricLabelFontSize+"px").attr("font-weight","700").attr("opacity",m).text(T),e.append("text").attr("x",r+a/2).attr("y",-24).attr("text-anchor","middle").attr("fill",S.secondaryTextColor).attr("font-family",y.fontFamily).attr("font-size",y.metricLabelFontSize-1+"px").attr("font-weight","400").attr("opacity",m).text(W))}else{const T=j[u-1].periods[h],W=T>0?c/T:0,F=1-W,U=i*W,H=i*F,I=m*(y.backgroundOpacity/100);e.append("rect").attr("x",r).attr("y",i-U).attr("width",a).attr("height",U).attr("fill",x[h]).attr("opacity",I).style("cursor","pointer").on("click",()=>b(v,h)),e.append("rect").attr("x",r).attr("y",0).attr("width",a).attr("height",H).attr("fill",p[h]).attr("opacity",m).style("cursor","pointer").on("click",()=>b(v,h));const N=T-c,P=Math.round(F*100),M=y.metricEmphasis==="volume"?d(N):P+"%",A=y.metricEmphasis==="volume"?"("+P+"%)":"("+d(N)+")",G=rr(p[h]);a>30&&H>70?(e.append("text").attr("x",r+a/2).attr("y",18).attr("text-anchor","middle").attr("fill",G).attr("font-family",y.fontFamily).attr("font-size",y.metricLabelFontSize+"px").attr("font-weight","700").attr("opacity",m).text(M),e.append("text").attr("x",r+a/2).attr("y",36).attr("text-anchor","middle").attr("fill",G).attr("font-family",y.fontFamily).attr("font-size",y.metricLabelFontSize-1+"px").attr("font-weight","400").attr("opacity",m*.9).text(A)):(e.append("text").attr("x",r+a/2).attr("y",-8).attr("text-anchor","middle").attr("fill",S.primaryTextColor).attr("font-family",y.fontFamily).attr("font-size",y.metricLabelFontSize+"px").attr("font-weight","700").attr("opacity",m).text(M),e.append("text").attr("x",r+a/2).attr("y",-24).attr("text-anchor","middle").attr("fill",S.secondaryTextColor).attr("font-family",y.fontFamily).attr("font-size",y.metricLabelFontSize-1+"px").attr("font-weight","400").attr("opacity",m).text(A))}if(u===0&&y.showLegend&&y.legendPosition==="direct"){const O=z[h]||`Period ${h+1}`,T=rr(p[h]);e.append("text").attr("x",r+a/2).attr("y",i-20).attr("text-anchor","middle").attr("dominant-baseline","baseline").attr("fill",T).attr("font-family",y.fontFamily).attr("font-size",y.inStageLabelFontSize+"px").attr("font-weight","600").attr("opacity",m).text(O)}}function BC(e,r,a,i,c,u,h,p,x,m,y){const d=x+30+(m.length===2?80:0);r.forEach((z,S)=>{if(S===0)return;const T=S*(u+h.stageGap)+(u-45)/2;let W;if(h.sparklineType==="volume")W=z.periods.map((M,A)=>({period:A,value:M}));else{const M=a[i[S-1]];W=z.periods.map((A,G)=>{const te=M.periods[G],ee=te>0?A/te*100:0;return{period:G,value:ee}})}W=W.slice().reverse();const F=Br().domain([0,W.length-1]).range([0,90]),U=Br().domain([0,Do(W,M=>M.value)]).range([45,0]),H=ul().x((M,A)=>F(A)).y(M=>U(M.value)).curve(Ip),I="sparkline-gradient-"+S,N=e.append("defs").append("linearGradient").attr("id",I).attr("x1","0%").attr("x2","100%");p.slice().reverse().forEach((M,A)=>{const G=A/(p.length-1)*100;N.append("stop").attr("offset",G+"%").attr("stop-color",M)});const P=e.append("g").attr("transform","translate("+d+","+T+")");P.append("path").datum(W).attr("fill","none").attr("stroke","url(#"+I+")").attr("stroke-width",2).attr("d",H),W.forEach((M,A)=>{P.append("circle").attr("cx",F(A)).attr("cy",U(M.value)).attr("r",3).attr("fill",p[p.length-1-A]).attr("stroke","white").attr("stroke-width",1)})});const j=0*(u+h.stageGap);e.append("text").attr("x",d+90/2).attr("y",j+u/2).attr("dy","0.35em").attr("text-anchor","middle").attr("font-family",h.fontFamily).attr("font-size","10px").attr("fill",y.secondaryTextColor).text(h.sparklineType==="volume"?"Volume Trend":"Conversion Trend")}function GC(e,r,a,i,c,u,h,p,x,m,y){const d=-x.top+40+m+15;r.forEach((z,S)=>{if(S===0)return;const T=S*(u+h.stageGap)+(u-90)/2;let W;if(h.sparklineType==="volume")W=z.periods.map((M,A)=>({period:A,value:M}));else{const M=a[i[S-1]];W=z.periods.map((A,G)=>{const te=M.periods[G],ee=te>0?A/te*100:0;return{period:G,value:ee}})}W=W.slice().reverse();const F=Br().domain([0,W.length-1]).range([0,90]),U=Br().domain([0,Do(W,M=>M.value)]).range([40,0]),H=ul().x((M,A)=>F(A)).y(M=>U(M.value)).curve(Ip),I="sparkline-gradient-h-"+S,N=e.append("defs").append("linearGradient").attr("id",I).attr("x1","0%").attr("x2","100%");p.slice().reverse().forEach((M,A)=>{const G=A/(p.length-1)*100;N.append("stop").attr("offset",G+"%").attr("stop-color",M)});const P=e.append("g").attr("transform","translate("+T+","+d+")");P.append("path").datum(W).attr("fill","none").attr("stroke","url(#"+I+")").attr("stroke-width",2).attr("d",H),W.forEach((M,A)=>{P.append("circle").attr("cx",F(A)).attr("cy",U(M.value)).attr("r",3).attr("fill",p[p.length-1-A]).attr("stroke","white").attr("stroke-width",1)})});const j=0*(u+h.stageGap);e.append("text").attr("x",j+u/2).attr("y",d+40/2).attr("dy","0.35em").attr("text-anchor","middle").attr("font-family",h.fontFamily).attr("font-size","11px").attr("fill",y.secondaryTextColor).text(h.sparklineType==="volume"?"Volume Trend":"Conversion Trend")}function YC(e,r,a,i,c,u,h,p,x,m,y){const v=r.filter(N=>!a[N].hidden);if(v.length!==2)return;const b=v.sort((N,P)=>N-P),d=b[0],j=b[1],z=i.get(d),S=i.get(j),O=h.length-1-p,T=z*(c+m.stageGap)+O*u+u/2,W=S*(c+m.stageGap)+O*u+u/2,F=x+20;e.append("line").attr("x1",F).attr("y1",T).attr("x2",F).attr("y2",W).attr("stroke",y.bracketColor).attr("stroke-width",2),e.append("line").attr("x1",F).attr("y1",T).attr("x2",F-15).attr("y2",T).attr("stroke",y.bracketColor).attr("stroke-width",2),e.append("line").attr("x1",F).attr("y1",W).attr("x2",F-15).attr("y2",W).attr("stroke",y.bracketColor).attr("stroke-width",2);const U=a[d].periods[p],H=a[j].periods[p];let I;m.emphasis==="throughput"?I=(H/U*100).toFixed(2):I=((U-H)/U*100).toFixed(2),e.append("text").attr("x",F+10).attr("y",(T+W)/2).attr("text-anchor","start").attr("dy","0.35em").attr("font-family",m.fontFamily).attr("font-size",m.conversionLabelFontSize+"px").attr("font-weight","700").attr("fill",y.bracketColor).text(I+"%")}function QC(e,r,a,i,c,u,h,p,x,m,y){const v=r.filter(N=>!a[N].hidden);if(v.length!==2)return;const b=v.sort((N,P)=>N-P),d=b[0],j=b[1],z=i.get(d),S=i.get(j),O=h.length-1-p,T=z*(c+m.stageGap)+O*u+u/2,W=S*(c+m.stageGap)+O*u+u/2,F=-20;e.append("line").attr("x1",T).attr("y1",F).attr("x2",W).attr("y2",F).attr("stroke",y.bracketColor).attr("stroke-width",2),e.append("line").attr("x1",T).attr("y1",F).attr("x2",T).attr("y2",F+15).attr("stroke",y.bracketColor).attr("stroke-width",2),e.append("line").attr("x1",W).attr("y1",F).attr("x2",W).attr("y2",F+15).attr("stroke",y.bracketColor).attr("stroke-width",2);const U=a[d].periods[p],H=a[j].periods[p];let I;m.emphasis==="throughput"?I=(H/U*100).toFixed(2):I=((U-H)/U*100).toFixed(2),e.append("text").attr("x",(T+W)/2).attr("y",F-5).attr("text-anchor","middle").attr("font-family",m.fontFamily).attr("font-size",m.conversionLabelFontSize+"px").attr("font-weight","700").attr("fill",y.bracketColor).text(I+"%")}function qC(e,r,a,i,c){e.append("line").attr("x1",i.emphasis==="throughput"?0:a).attr("y1",0).attr("x2",i.emphasis==="throughput"?0:a).attr("y2",r+20).attr("stroke",c.axisColor).attr("stroke-width",i.axisLineWidth);const u=Math.max(6,i.axisLineWidth*2);i.emphasis==="throughput"?e.append("polygon").attr("points",-u+","+(r+20)+" 0,"+(r+20+u*1.5)+" "+u+","+(r+20)).attr("fill",c.axisColor):e.append("polygon").attr("points",a-u+","+(r+20)+" "+a+","+(r+20+u*1.5)+" "+(a+u)+","+(r+20)).attr("fill",c.axisColor)}function XC(e,r,a,i,c){e.append("line").attr("x1",0).attr("y1",r).attr("x2",a+20).attr("y2",r).attr("stroke",c.axisColor).attr("stroke-width",i.axisLineWidth);const u=Math.max(6,i.axisLineWidth*2);e.append("polygon").attr("points",a+20+","+(r-u)+" "+(a+20+u*1.5)+","+r+" "+(a+20)+","+(r+u)).attr("fill",c.axisColor)}function KC(e,r,a,i,c,u,h,p){const x=-r.top+40;e.append("text").attr("x",0).attr("y",x).attr("font-family",a.fontFamily).attr("font-size",a.titleFontSize+"px").attr("font-weight","700").attr("fill",p.titleColor).text(a.title);let m=x+u;if(a.subtitle&&(m+=5,e.append("text").attr("x",0).attr("y",m).attr("font-family",a.fontFamily).attr("font-size",a.subtitleFontSize+"px").attr("font-weight","400").attr("fill",p.subtitleColor).text(a.subtitle),m+=h),a.showLegend&&a.legendPosition==="legend"&&i.length>0){m+=24;let y=0;i.forEach((v,b)=>{e.append("circle").attr("cx",y+5).attr("cy",m).attr("r",5).attr("fill",c[b]);const d=e.append("text").attr("x",y+15).attr("y",m).attr("dy","0.35em").attr("font-family",a.fontFamily).attr("font-size",a.legendFontSize+"px").attr("fill",p.legendTextColor).text(v);y+=15+d.node().getBBox().width+20})}}const Bp=fl.memo(OC),JC={title:"Market Share Change",subtitle:"Year-over-year comparison",fontFamily:"Inter",titleFontSize:20,subtitleFontSize:14,colorMode:"category",comparisonPalette:"professional",userCustomColors:["#1e40af","#0d9488","#991b1b","#d97706","#475569","#7c3aed","#059669","#dc2626"],increaseColor:"#10b981",decreaseColor:"#ef4444",noChangeColor:"#6b7280",startColor:"#1e40af",endColor:"#10b981",lineThickness:3,lineOpacity:1,endpointSize:6,endpointStyle:"filled",endpointBorderWidth:2,labelPosition:"left",showCategoryLabels:!0,showValueLabels:!0,showPercentageChange:!0,labelFormat:"both",categoryFont:"Inter",categoryFontSize:18,categoryFontWeight:500,valueFont:"Inter",valueFontSize:16,valueFontWeight:400,periodFont:"Inter",periodFontSize:16,periodFontWeight:600,periodColor:"#374151",emphasizedLines:[],emphasizedLineThickness:5,emphasizedLabelWeight:700,width:600,height:500,marginTop:60,marginRight:120,marginBottom:60,marginLeft:120,periodSpacing:400,backgroundColor:"#ffffff",showAxisLines:!0,axisLineColor:"#ababab",axisLineWidth:1,axisLineStyle:"solid"},ZC=(e,r,a,i)=>{const{colorMode:c}=a;switch(c){case"trend":{const u=Object.keys(e).filter(m=>m!=="category"&&m!=="Stage");if(u.length<2)return a.noChangeColor;const h=e[u[0]],x=e[u[1]]-h;return x>0?a.increaseColor:x<0?a.decreaseColor:a.noChangeColor}case"gradient":return a.startColor;case"custom":return a.userCustomColors[r%a.userCustomColors.length];case"category":default:{const u=i[a.comparisonPalette];if(!u)return"#1e40af";const h=a.comparisonPalette==="user"?a.userCustomColors:u.colors;return h[r%h.length]}}},Td=(e,r)=>{if(e===0)return r>0?100:0;const a=(r-e)/e*100;return Math.round(a*10)/10},zd=e=>Gp(e,30),Gp=(e,r)=>{const a=e.replace("#",""),i=parseInt(a.substring(0,2),16),c=parseInt(a.substring(2,4),16),u=parseInt(a.substring(4,6),16),h=i/255,p=c/255,x=u/255,m=Math.max(h,p,x),y=Math.min(h,p,x);let v,b,d=(m+y)/2;if(m===y)v=b=0;else{const F=m-y;switch(b=d>.5?F/(2-m-y):F/(m+y),m){case h:v=((p-x)/F+(p<x?6:0))/6;break;case p:v=((x-h)/F+2)/6;break;case x:v=((h-p)/F+4)/6;break;default:v=0}}const j=r/100;b=b*j;const z=(F,U,H)=>(H<0&&(H+=1),H>1&&(H-=1),H<1/6?F+(U-F)*6*H:H<1/2?U:H<2/3?F+(U-F)*(2/3-H)*6:F);let S,O,T;if(b===0)S=O=T=d;else{const F=d<.5?d*(1+b):d+b-d*b,U=2*d-F;S=z(U,F,v+1/3),O=z(U,F,v),T=z(U,F,v-1/3)}const W=F=>{const U=Math.round(F*255).toString(16);return U.length===1?"0"+U:U};return`#${W(S)}${W(O)}${W(T)}`},ek=({data:e,periodNames:r,styleSettings:a={},onLineClick:i})=>{const c=C.useRef(null),[u,h]=C.useState(null);return C.useEffect(()=>{if(!e||e.length===0||!c.current)return;xn(c.current).selectAll("*").remove();const p={...JC,...a},x=p.userTier!=="pro"?50:0,{width:m,height:y,periodHeight:v,marginTop:b,marginRight:d,marginBottom:j,marginLeft:z,lineThickness:S,lineOpacity:O,endpointSize:T,endpointStyle:W,endpointBorderWidth:F,labelPosition:U,showCategoryLabels:H,showValueLabels:I,labelFormat:N,categoryFont:P,categoryFontSize:M,categoryFontWeight:A,valueFont:G,valueFontSize:te,valueFontWeight:ee,periodFont:w,periodFontSize:ze,periodFontWeight:ve,periodColor:re,periodLabelPosition:ae,emphasizedLines:le,emphasizedLineThickness:_,emphasizedLabelWeight:Y,backgroundColor:se,darkMode:ue=!1,showAxisLines:be,axisLineColor:de,axisLineWidth:Ee,axisLineStyle:ke,axisEnds:K,periodSpacing:Ce,colorMode:q,lineSaturation:D}=p,ne={titleColor:ue?"#f9fafb":"#111827",subtitleColor:ue?"#d1d5db":"#6b7280",defaultPeriodColor:ue?"#e5e7eb":re},J=r.slice(0,2);if(J.length<2){console.error("Slope chart requires exactly 2 periods");return}const ye=(()=>{let Fe=0;return e.forEach(Ge=>{J.forEach(Ze=>{const ct=Ge[Ze];if(ct!=null){const Lt=ct.toString();if(Lt.includes(".")){const ht=Lt.split(".")[1].length;Fe=Math.max(Fe,ht)}}})}),Fe})(),Ue=Fe=>{if(Fe==null)return"";if(p.compactNumbers){const Ge=Math.abs(Fe),Ze=Fe<0?"-":"";if(Ge>=1e9){const ct=(Ge/1e9).toFixed(Ge%1e9===0?0:1);return`${Ze}${ct}B`}else if(Ge>=1e6){const ct=(Ge/1e6).toFixed(Ge%1e6===0?0:1);return`${Ze}${ct}M`}else if(Ge>=1e3){const ct=(Ge/1e3).toFixed(Ge%1e3===0?0:1);return`${Ze}${ct}K`}return Fe.toFixed(ye)}return ye===0?Fe.toString():Fe.toFixed(ye)},_e=(Fe,Ge,Ze=400)=>{const ct=Ze>500?.65:.6;return(Fe!=null?Fe.toString():"").length*Ge*ct};let Qe=z,bt=d;if(H||I){let Fe=0,Ge=0;e.forEach((Ze,ct)=>{const Lt=Ze[J[0]],ht=Ze[J[1]];if(Lt==null||ht==null)return;const Pt=Td(Lt,ht),He=le.includes(ct),rt=I||He;if((U==="left"||U==="both")&&H){const Je=Ze.Stage||Ze.category||"",ut=_e(Je,M,He?Y:A);if(rt&&N!=="percentage"){const et=_e(Ue(Lt),te);Fe=Math.max(Fe,ut+et+35)}else Fe=Math.max(Fe,ut+20)}else if(rt&&N!=="percentage"){const Je=_e(Ue(Lt),te);Fe=Math.max(Fe,Je+20)}if((U==="right"||U==="both")&&H){const Je=Ze.Stage||Ze.category||"",ut=_e(Je,M,He?Y:A);if(rt){let et="";N==="percentage"?et=`${Pt>0?"+":""}${Pt}%`:N==="both"?et=`${Ue(ht)} (${Pt>0?"+":""}${Pt}%)`:et=Ue(ht);const Rt=_e(et,te);Ge=Math.max(Ge,ut+Rt+35)}else Ge=Math.max(Ge,ut+20)}else if(rt){let Je="";N==="percentage"?Je=`${Pt>0?"+":""}${Pt}%`:N==="both"?Je=`${Ue(ht)} (${Pt>0?"+":""}${Pt}%)`:Je=Ue(ht);const ut=_e(Je,te);Ge=Math.max(Ge,ut+20)}}),Qe=Math.max(z,Fe+30),bt=Math.max(d,Ge+30)}const ft=y+x,vt=xn(c.current).attr("width",m).attr("height",ft).style("background-color",se),ln=p.title?p.titleFontSize||20:0,$t=p.subtitle?p.subtitleFontSize||14:0,Yt=p.title&&p.subtitle?5:0,kt=p.title||p.subtitle?20:0,Bt=ln+Yt+$t+kt;if(p.title){const Fe=p.titleAlignment==="center"?m/2:Qe,Ge=p.titleAlignment==="center"?"middle":"start";vt.append("text").attr("x",Fe).attr("y",30).attr("text-anchor",Ge).attr("font-family",p.fontFamily||"Inter").attr("font-size",ln+"px").attr("font-weight","700").attr("fill",ne.titleColor).text(p.title)}if(p.subtitle){const Fe=p.titleAlignment==="center"?m/2:Qe,Ge=p.titleAlignment==="center"?"middle":"start";vt.append("text").attr("x",Fe).attr("y",30+ln+Yt).attr("text-anchor",Ge).attr("font-family",p.fontFamily||"Inter").attr("font-size",$t+"px").attr("font-weight","400").attr("fill",ne.subtitleColor).text(p.subtitle)}const lt=vt.append("g").attr("transform",`translate(${Qe},${b+Bt})`),tn=m-Qe-bt,fn=y-b-j-Bt,Gt=v||fn,nn=e.flatMap(Fe=>[Fe[J[0]],Fe[J[1]]]),vn=Zs(nn),hn=Do(nn),bn=Br().domain([vn,hn]).range([Gt,0]).nice(),Fn=Ce||400,wt=(tn-Fn)/2,Vt=wt+Fn;if(be&&ke!=="none"){const Ge=(Ze=>{switch(Ze){case"solid":return"none";case"dashed":return"5,5";case"dotted":return"1,3";default:return"5,5"}})(ke);lt.append("line").attr("x1",wt).attr("x2",wt).attr("y1",0).attr("y2",Gt).attr("stroke",de).attr("stroke-width",Ee).attr("stroke-dasharray",Ge),lt.append("line").attr("x1",Vt).attr("x2",Vt).attr("y1",0).attr("y2",Gt).attr("stroke",de).attr("stroke-width",Ee).attr("stroke-dasharray",Ge),K==="t-end"&&(lt.append("line").attr("x1",wt-12/2).attr("x2",wt+12/2).attr("y1",0).attr("y2",0).attr("stroke",de).attr("stroke-width",Ee),lt.append("line").attr("x1",wt-12/2).attr("x2",wt+12/2).attr("y1",Gt).attr("y2",Gt).attr("stroke",de).attr("stroke-width",Ee),lt.append("line").attr("x1",Vt-12/2).attr("x2",Vt+12/2).attr("y1",0).attr("y2",0).attr("stroke",de).attr("stroke-width",Ee),lt.append("line").attr("x1",Vt-12/2).attr("x2",Vt+12/2).attr("y1",Gt).attr("y2",Gt).attr("stroke",de).attr("stroke-width",Ee))}const Nn=ae==="above"?-20:Gt+40;lt.append("text").attr("x",wt).attr("y",Nn).attr("text-anchor","middle").attr("font-family",w).attr("font-size",ze).attr("font-weight",ve).attr("fill",re||ne.defaultPeriodColor).text(J[0]),lt.append("text").attr("x",Vt).attr("y",Nn).attr("text-anchor","middle").attr("font-family",w).attr("font-size",ze).attr("font-weight",ve).attr("fill",re||ne.defaultPeriodColor).text(J[1]),H&&((Fe,Ge,Ze,ct,Lt)=>{const ht=Fe.map((rt,Je)=>{const ut=rt[Ze[0]],et=rt[Ze[1]],Rt=Ge(ut),Ft=Ge(et);return{index:Je,y:ct==="left"?Rt:Ft,originalY:ct==="left"?Rt:Ft}});ht.sort((rt,Je)=>rt.y-Je.y);const Pt=Lt+2;for(let rt=1;rt<ht.length;rt++){const Je=ht[rt-1],ut=ht[rt];ut.y-Je.y<Pt&&(ut.y=Je.y+Pt)}const He={};return ht.forEach(rt=>{He[rt.index]=rt.y-rt.originalY}),He})(e,bn,J,U,M);const rn=Fe=>{if(!(I||le.length>0))return{};const Ze=[];if(e.forEach((Je,ut)=>{const et=le.includes(ut);if(!(I||et))return;const Ft=Je[J[0]],xt=Je[J[1]];if(Ft==null||xt==null)return;const Nt=bn(Ft),kn=bn(xt);Ze.push({index:ut,y:Fe==="left"?Nt:kn,originalY:Fe==="left"?Nt:kn})}),Ze.length<=1)return{};Ze.sort((Je,ut)=>Je.y-ut.y);const ct=te*1.2,Lt=2;let ht=!0,Pt=0;const He=10;for(;ht&&Pt<He;){ht=!1,Pt++;for(let Je=0;Je<Ze.length-1;Je++){const ut=Ze[Je],et=Ze[Je+1],Rt=et.y-ut.y;if(Rt<ct){ht=!0;const xt=(ct-Rt)/2;ut.y-=xt+Lt/2,et.y+=xt+Lt/2}}}const rt={};return Ze.forEach(Je=>{rt[Je.index]=Je.y-Je.originalY}),rt},Mn=rn("left"),In=rn("right");let Bn=0;(U==="left"||U==="both")&&H&&e.forEach((Fe,Ge)=>{const Ze=le.includes(Ge);if(!(I||Ze)||N==="percentage")return;const Lt=Fe[J[0]];if(Lt==null)return;const Pt=Lt.toString().length*te*.6;Bn=Math.max(Bn,Pt)});const cr=Bn>0?wt-Bn-20:wt-15;let Ln=0;(U==="right"||U==="both")&&H&&e.forEach((Fe,Ge)=>{const Ze=le.includes(Ge);if(!(I||Ze))return;const Lt=Fe[J[0]],ht=Fe[J[1]];if(Lt==null||ht==null)return;const Pt=Td(Lt,ht);let He="";N==="percentage"?He=`${Pt>0?"+":""}${Pt}%`:N==="both"?He=`${ht} (${Pt>0?"+":""}${Pt}%)`:He=ht.toString();const rt=He.length*te*.6;Ln=Math.max(Ln,rt)});const Gn=Ln>0?Vt+Ln+7:Vt+15;if(e.forEach((Fe,Ge)=>{const Ze=Fe[J[0]],ct=Fe[J[1]];if(Ze==null||ct==null)return;const Lt=Td(Ze,ct),ht=le.includes(Ge),Pt=le.length>0,He=u===Ge?1:O;let rt=ZC(Fe,Ge,p,Kn);const Je=D!==void 0?D:100;Je<100&&(rt=Gp(rt,Je)),Pt&&!ht&&(rt=zd(rt));const ut=bn(Ze),et=bn(ct);let Rt=null;if(q==="gradient"){Rt=`gradient-${Ge}`;const Xt=vt.append("defs").append("linearGradient").attr("id",Rt).attr("x1",wt).attr("y1",ut).attr("x2",Vt).attr("y2",et).attr("gradientUnits","userSpaceOnUse");Xt.append("stop").attr("offset","0%").attr("stop-color",p.startColor),Xt.append("stop").attr("offset","100%").attr("stop-color",p.endColor)}const Ft=lt.append("g").attr("class",`slope-line-${Ge}`).style("cursor","pointer");Ft.append("line").attr("x1",wt).attr("y1",ut).attr("x2",Vt).attr("y2",et).attr("stroke",Rt?`url(#${Rt})`:rt).attr("stroke-width",ht?_:S).attr("opacity",He).attr("stroke-linecap","round").style("vector-effect","non-scaling-stroke");let xt=q==="gradient"?p.startColor:rt,Nt=q==="gradient"?p.endColor:rt;Pt&&!ht&&q==="gradient"&&(xt=zd(p.startColor),Nt=zd(p.endColor)),T>0&&(W==="filled"?Ft.append("circle").attr("cx",wt).attr("cy",ut).attr("r",T).attr("fill",xt).attr("opacity",He):Ft.append("circle").attr("cx",wt).attr("cy",ut).attr("r",T).attr("fill","white").attr("stroke",xt).attr("stroke-width",F).attr("stroke-opacity",He).attr("fill-opacity",1)),T>0&&(W==="filled"?Ft.append("circle").attr("cx",Vt).attr("cy",et).attr("r",T).attr("fill",Nt).attr("opacity",He):Ft.append("circle").attr("cx",Vt).attr("cy",et).attr("r",T).attr("fill","white").attr("stroke",Nt).attr("stroke-width",F).attr("stroke-opacity",He).attr("fill-opacity",1)),Ft.on("mouseenter",()=>h(Ge)).on("mouseleave",()=>h(null)).on("click",()=>{i&&i(Ge,Fe)});const kn=ht?Y:A,cn=ht?Y:ee;if(I||ht){const Xt=Mn[Ge]||0,ur=In[Ge]||0;if(N!=="percentage"){const ie=Ue(Ze),Ie=(U==="left"||U==="both")&&H?wt-10:wt-15;lt.append("text").attr("x",Ie).attr("y",ut+Xt).attr("dy","0.35em").attr("text-anchor","end").attr("font-family",G).attr("font-size",te).attr("font-weight",cn).attr("fill",rt).text(ie)}const L=N==="percentage"?`${Lt>0?"+":""}${Lt}%`:N==="both"?`${Ue(ct)} (${Lt>0?"+":""}${Lt}%)`:Ue(ct),fe=(U==="right"||U==="both")&&H?Vt+10:Vt+15;lt.append("text").attr("x",fe).attr("y",et+ur).attr("dy","0.35em").attr("text-anchor","start").attr("font-family",G).attr("font-size",te).attr("font-weight",cn).attr("fill",rt).text(L)}if(H){const Xt=Mn[Ge]||0,ur=In[Ge]||0;if(U==="left"||U==="both"){const L=cr;lt.append("text").attr("x",L).attr("y",ut+Xt).attr("dy","0.35em").attr("text-anchor","end").attr("font-family",P).attr("font-size",M).attr("font-weight",kn).attr("fill",rt).text(Fe.Stage||Fe.category)}if(U==="right"||U==="both"){const L=Gn;lt.append("text").attr("x",L).attr("y",et+ur).attr("dy","0.35em").attr("text-anchor","start").attr("font-family",P).attr("font-size",M).attr("font-weight",kn).attr("fill",rt).text(Fe.Stage||Fe.category)}}}),a.userTier!=="pro"){const Fe="Made with Find&Tell | Charts for Data Stories | FindandTell.co",Ze=y+x/2+5;vt.append("a").attr("href","https://findandtell.co").attr("target","_blank").attr("rel","noopener noreferrer").append("text").attr("x",m/2).attr("y",Ze).attr("text-anchor","middle").attr("font-family",a.fontFamily||"Inter").attr("font-size","14px").attr("font-weight","500").attr("fill","#1e3a8a").attr("opacity",1).style("cursor","pointer").text(Fe).on("mouseover",function(){xn(this).attr("fill","#0891b2")}).on("mouseout",function(){xn(this).attr("fill","#1e3a8a")})}},[e,r,a,u,i]),o.jsx("div",{className:"slope-chart-container",children:o.jsx("svg",{ref:c})})},Yp=fl.memo(ek),tk=({data:e,periodNames:r,styleSettings:a={},onBarClick:i,onClearEmphasis:c})=>{const u=C.useRef(),[h,p]=C.useState({width:0,height:0}),[x,m]=C.useState([]),{title:y="",subtitle:v="",titleFontSize:b=28,subtitleFontSize:d=20,titleAlignment:j="left",fontFamily:z="Inter",orientation:S="vertical",barMode:O="grouped",colorPalette:T="vibrant",customColors:W=[],categoryFont:F="Inter",categoryFontSize:U=16,categoryWeight:H=400,valueFont:I="Inter",valueFontSize:N=14,valueWeight:P=600,axisFont:M="Inter",xAxisFontSize:A=12,yAxisFontSize:G=12,axisLabel:te="",axisLabelFontSize:ee=14,xAxisLabelRotation:w=0,axisWeight:ze=400,axisMinimum:ve=0,axisMinimumAuto:re=!0,axisMaximum:ae=100,axisMaximumAuto:le=!0,axisMajorUnit:_=10,axisMajorUnitAuto:Y=!0,axisMinorUnit:se=5,axisMinorUnitAuto:ue=!0,axisMajorTickType:be="outside",axisMinorTickType:de="none",showHorizontalGridlines:Ee=!0,showVerticalGridlines:ke=!1,setCalculatedAxisMinimum:K,setCalculatedAxisMaximum:Ce,setCalculatedAxisMajorUnit:q,showValueLabels:D=!0,showMetricLabels:ne=!0,showPeriodLabels:J=!0,metricLabelPosition:me="outside",periodLabelDisplay:ye="all",showCategoryLabels:Ue=!0,labelMode:_e="legend",legendPosition:Qe="above",directLabelContent:bt="metrics",emphasizedBars:ft=[],compactNumbers:vt=!1,compactAxisNumbers:ln=!1,showGrid:$t=!0,gridOpacity:Yt=.1,showXAxis:kt=!0,showYAxis:Bt=!0,axisColor:lt="#000000",axisOpacity:tn=1,barWidthPercent:fn=100,groupPadding:Gt=.3,barOpacity:nn=1,barBorderWidth:vn=0,barBorderColor:hn="#ffffff",chartHeight:bn=500,chartWidth:Fn=600,marginTop:wt=60,marginRight:Vt=60,marginBottom:Nn=80,marginLeft:_n=180,percentChangeEnabled:rn=!1,percentChangeLabelFormat:Mn="percent",percentChangeBracketDistance:In=100,barColor:Bn="#1e40af",colorTransition:cr=60,valuePrefix:Ln="",valueSuffix:Gn="",valueDecimalPlaces:Fe=0,valueFormat:Ge="number",periodLabelFontSize:Ze=14,darkMode:ct=!1,backgroundColor:Lt="#ffffff",showTotalLabels:ht=!0,boldTotal:Pt=!1}=a,He=C.useMemo(()=>({titleColor:ct?"#f9fafb":"#111827",subtitleColor:ct?"#d1d5db":"#6b7280",axisLabelColor:ct?"#e5e7eb":"#374151",axisLineColor:ct?"#4b5563":"#d1d5db",gridlineColor:ct?"#374151":"#e5e7eb",legendTextColor:ct?"#e5e7eb":"#374151"}),[ct]),rt=r&&r.length>1,Je=C.useMemo(()=>rt?T==="user"&&W.length>0?W:Kn[T]?.colors||Kn.vibrant.colors:[Bn],[rt,W,T,Bn,cr,r]);C.useEffect(()=>{const et=()=>{if(u.current){const Rt=Fn+_n+Vt,Ft=bn+wt+Nn;p({width:Rt,height:Ft})}};return et(),window.addEventListener("resize",et),()=>window.removeEventListener("resize",et)},[bn,Fn,_n,Vt,wt,Nn]);const ut=C.useCallback(et=>{rn&&m(Rt=>{const Ft=[...Rt];return Ft.push(et),Ft})},[rn]);return C.useCallback(et=>x.some(Rt=>Rt.barId===et),[x]),C.useEffect(()=>{c&&c(()=>{m([])})},[c]),C.useEffect(()=>{if(!e||e.length===0||!r||r.length===0||h.width===0)return;const et=xn(u.current);et.selectAll("*").remove();const Rt=h.width,Ft=h.height;et.style("background-color",Lt);const xt=e.map(ce=>ce.Category||ce.category||ce.Stage||""),Nt=r,kn=y?b:0,cn=v?d:0,ar=y&&v?5:0,Xt=y||v?20:0,fe=J&&D&&_e==="legend"&&Qe!=="off"?24+15:0,ie=kn+ar+cn+Xt+(J&&D&&_e==="legend"&&Qe==="above"?fe:0);if(y){const ce=j==="center"?Rt/2:_n,je=j==="center"?"middle":"start";et.append("text").attr("x",ce).attr("y",30).attr("text-anchor",je).attr("font-family",z).attr("font-size",kn+"px").attr("font-weight","700").attr("fill",He.titleColor).text(y)}if(v){const ce=j==="center"?Rt/2:_n,je=j==="center"?"middle":"start";et.append("text").attr("x",ce).attr("y",30+kn+ar).attr("text-anchor",je).attr("font-family",z).attr("font-size",cn+"px").attr("font-weight","400").attr("fill",He.subtitleColor).text(v)}if(J&&D&&_e==="legend"&&Qe==="above"){const ce=30+kn+ar+cn+(y||v?20:0),je=120,B=20,De=Nt.length*je+(Nt.length-1)*B,oe=(Rt-De)/2;Nt.forEach((Ne,pe)=>{const Oe=oe+pe*(je+B),Me=Je[pe%Je.length];et.append("rect").attr("x",Oe).attr("y",ce).attr("width",16).attr("height",16).attr("fill",Me).attr("rx",2),et.append("text").attr("x",Oe+22).attr("y",ce+8).attr("dy","0.35em").attr("font-family",z).attr("font-size","14px").attr("font-weight","500").attr("fill",He.legendTextColor).text(Ne)})}let Ie=_n;if(S==="horizontal"){const ce=et.append("text").attr("font-family",F||M).attr("font-size",G).attr("font-weight",H||ze).style("visibility","hidden");let je=0;xt.forEach(B=>{ce.text(B);const De=ce.node().getBBox();je=Math.max(je,De.width)}),ce.remove(),Ie=Math.max(_n,je+30)}const jt=J&&D&&_e==="legend"&&Qe==="below"?Nn+50:Nn,zt=Rt-Ie-Vt,Wt=Ft-wt-jt-ie,Mt=et.append("g").attr("transform",`translate(${Ie},${wt+ie})`);(()=>{let ce=0;return e.forEach(je=>{Nt.forEach(B=>{const De=je[B];if(De!=null){const oe=De.toString();if(oe.includes(".")){const Ne=oe.split(".")[1].length;ce=Math.max(ce,Ne)}}})}),ce})();const Kt=ce=>{if(ce==null)return"";if(Ge==="percentage"){const B=ce*100;let De;if(vt){const oe=Math.abs(B);oe>=1e6?De=(B/1e6).toFixed(Fe).replace(/\.0+$/,"")+"M":oe>=1e3?De=(B/1e3).toFixed(Fe).replace(/\.0+$/,"")+"K":De=Fe===0?B.toString():B.toFixed(Fe)}else De=Fe===0?B.toString():B.toFixed(Fe);return`${Ln}${De}%${Gn}`}let je;if(vt){const B=Math.abs(ce);B>=1e6?je=(ce/1e6).toFixed(Fe).replace(/\.0+$/,"")+"M":B>=1e3?je=(ce/1e3).toFixed(Fe).replace(/\.0+$/,"")+"K":je=Fe===0?ce.toString():ce.toFixed(Fe)}else je=Fe===0?ce.toString():ce.toFixed(Fe);return`${Ln}${je}${Gn}`},_t=ce=>{if(ce==null)return"";if(Ge==="percentage"){const B=ce*100;let De;if(ln){const oe=Math.abs(B);oe>=1e6?De=(B/1e6).toFixed(1).replace(/\.0$/,"")+"M":oe>=1e3?De=(B/1e3).toFixed(1).replace(/\.0$/,"")+"K":De=Fe===0?B.toString():B.toFixed(Fe)}else De=Fe===0?B.toString():B.toFixed(Fe);return`${Ln}${De}%${Gn}`}let je;if(ln){const B=Math.abs(ce);B>=1e6?je=(ce/1e6).toFixed(1).replace(/\.0$/,"")+"M":B>=1e3?je=(ce/1e3).toFixed(1).replace(/\.0$/,"")+"K":je=Fe===0?ce.toString():ce.toFixed(Fe)}else je=Fe===0?ce.toString():ce.toFixed(Fe);return`${Ln}${je}${Gn}`},Tr=ce=>{const je=ce.replace("#",""),B=parseInt(je.substring(0,2),16),De=parseInt(je.substring(2,4),16),oe=parseInt(je.substring(4,6),16),Ne=Math.round(.299*B+.587*De+.114*oe),pe=Math.round(Ne*.7+B*.3),Oe=Math.round(Ne*.7+De*.3),Me=Math.round(Ne*.7+oe*.3),Le=Te=>{const Re=Math.round(Te).toString(16);return Re.length===1?"0"+Re:Re};return"#"+Le(pe)+Le(Oe)+Le(Me)};let Tn=0,zr=0;O==="stacked"?(Tn=Do(e,ce=>Nt.reduce((je,B)=>je+(ce[B]||0),0)),zr=Zs(e,ce=>Nt.reduce((je,B)=>je+(ce[B]||0),0))):(Tn=Do(e,ce=>Do(Nt,je=>ce[je]||0)),zr=Zs(e,ce=>Zs(Nt,je=>ce[je]||0)));const Pn=re?zr<0?zr*1.1:0:ve,jn=le?Tn*1.1:ae;let mt,qe,Yn,Jn,Ct,un,or=[],At=[];if(S==="vertical"){if(mt=nf().domain(xt).range([0,zt]).padding(Gt),qe=Br().domain([Pn,jn]).range([Wt,0]),le&&qe.nice(),K&&Ce){const[B,De]=qe.domain();K(B),Ce(De)}if(!Y&&_>0){Ct=[];for(let De=Pn;De<=jn;De+=_)Ct.push(De);const B=qe.domain()[1];!Ct.includes(B)&&B>Ct[Ct.length-1]&&Ct.push(B)}else{Ct=qe.ticks();const B=qe.domain()[1];if(Ct.includes(B)||Ct.push(B),q&&Ct.length>1){const De=Ct[1]-Ct[0];q(De)}}if(or=[],!ue&&se>0&&de!=="none")for(let B=Pn;B<=jn;B+=se)Ct.includes(B)||or.push(B);const je=(B=>B==="none"?0:B==="outside"?6:B==="inside"?-6:6)(be);Yn=Id(mt).tickSize(je),Jn=Bd(qe).tickValues(Ct).tickSize(je).tickFormat(_t)}else{if(qe=nf().domain(xt).range([0,Wt]).padding(Gt),mt=Br().domain([Pn,jn]).range([0,zt]),le&&mt.nice(),K&&Ce){const[B,De]=mt.domain();K(B),Ce(De)}if(!Y&&_>0){un=[];for(let De=Pn;De<=jn;De+=_)un.push(De);const B=mt.domain()[1];!un.includes(B)&&B>un[un.length-1]&&un.push(B)}else{un=mt.ticks();const B=mt.domain()[1];if(un.includes(B)||un.push(B),q&&un.length>1){const De=un[1]-un[0];q(De)}}if(At=[],!ue&&se>0&&de!=="none")for(let B=Pn;B<=jn;B+=se)un.includes(B)||At.push(B);const je=(B=>B==="none"?0:B==="outside"?6:B==="inside"?-6:6)(be);Yn=Id(mt).tickValues(un).tickSize(je).tickFormat(_t),Jn=Bd(qe).tickSize(je)}if(S==="vertical"?(Ee&&Ct&&Ct.length>0&&Mt.append("g").attr("class","grid-horizontal").selectAll("line").data(Ct).enter().append("line").attr("x1",0).attr("x2",zt).attr("y1",ce=>qe(ce)).attr("y2",ce=>qe(ce)).attr("stroke",He.gridlineColor).attr("stroke-opacity",Yt).attr("stroke-width",1),ke&&Mt.append("g").attr("class","grid-vertical").selectAll("line").data(xt).enter().append("line").attr("x1",ce=>mt(ce)+mt.bandwidth()/2).attr("x2",ce=>mt(ce)+mt.bandwidth()/2).attr("y1",0).attr("y2",Wt).attr("stroke",He.gridlineColor).attr("stroke-opacity",Yt).attr("stroke-width",1)):(Ee&&Mt.append("g").attr("class","grid-horizontal").selectAll("line").data(xt).enter().append("line").attr("x1",0).attr("x2",zt).attr("y1",ce=>qe(ce)+qe.bandwidth()/2).attr("y2",ce=>qe(ce)+qe.bandwidth()/2).attr("stroke",He.gridlineColor).attr("stroke-opacity",Yt).attr("stroke-width",1),ke&&un&&un.length>0&&Mt.append("g").attr("class","grid-vertical").selectAll("line").data(un).enter().append("line").attr("x1",ce=>mt(ce)).attr("x2",ce=>mt(ce)).attr("y1",0).attr("y2",Wt).attr("stroke",He.gridlineColor).attr("stroke-opacity",Yt).attr("stroke-width",1)),O==="grouped"){const je=(S==="vertical"?mt.bandwidth():qe.bandwidth())/Nt.length,B=je*(fn/100),De=je;e.forEach((oe,Ne)=>{const pe=xt[Ne];Nt.forEach((Oe,Me)=>{const Le=oe[Oe]||0,Te=Je[Me%Je.length],Re=`${pe}-${Oe}`,at=ft&&ft.length>0,nt=ft&&ft.includes(Re),Xe=at&&!nt?Tr(Te):Te;let ot;if(S==="vertical"){const tt=mt(pe)+De*Me+(De-B)/2,pt=qe(0),Dt=qe(Le),gt=Le>=0?Dt:pt,Pe=Math.abs(Dt-pt);ot=Mt.append("g").attr("class","bar-group"),ot.append("rect").attr("x",tt).attr("y",gt).attr("width",B).attr("height",Pe).attr("fill",Xe).attr("opacity",nn).attr("stroke",hn).attr("stroke-width",vn).style("cursor","pointer").on("click",()=>{i&&i(oe,Oe,Re);const qt=tt+B/2;let Jt;Le<0?Jt=me==="inside"?gt+Pe-5:gt+Pe+N+5:Jt=me==="inside"?gt+N+5:gt-5,ut({category:pe,period:Oe,value:Le,barId:Re,x:tt,y:gt,barWidth:B,height:Pe,labelX:qt,labelY:Jt,orientation:"vertical"})});const Ae=D&&_e==="direct"||nt,Qt=x.some(qt=>qt.barId===Re)||nt?700:P;if(Ae){const qt=J&&(ye==="all"||ye==="first"&&Ne===0);if(ne||nt){const Jt=me==="inside"?rr(Xe):He.axisLabelColor;let mn;Le<0?mn=me==="inside"?gt+Pe-5:gt+Pe+N+5:mn=me==="inside"?gt+N+5:gt-5,ot.append("text").attr("x",tt+B/2).attr("y",mn).attr("text-anchor","middle").attr("font-family",I).attr("font-size",N).attr("font-weight",Qt).attr("fill",Jt).text(Kt(Le))}if(qt){const Jt=rr(Xe),mn=gt+Pe-10;ot.append("text").attr("x",tt+B/2).attr("y",mn).attr("text-anchor","middle").attr("font-family",I).attr("font-size",Ze).attr("font-weight",Qt).attr("fill",Jt).text(Oe)}}else if(_e==="legend"&&D&&ne){const qt=Le<0?gt+Pe+N+5:gt-5;ot.append("text").attr("x",tt+B/2).attr("y",qt).attr("text-anchor","middle").attr("font-family",I).attr("font-size",N).attr("font-weight",Qt).attr("fill",lt).text(Kt(Le))}}else{const tt=qe(pe)+De*Me+(De-B)/2,pt=mt(0),Dt=mt(Le),gt=Le>=0?pt:Dt,Pe=Math.abs(Dt-pt);ot=Mt.append("g").attr("class","bar-group"),ot.append("rect").attr("x",gt).attr("y",tt).attr("width",Pe).attr("height",B).attr("fill",Xe).attr("opacity",nn).attr("stroke",hn).attr("stroke-width",vn).style("cursor","pointer").on("click",()=>{i&&i(oe,Oe,Re);let qt;Le<0?qt=me==="inside"?gt+15:gt-5:qt=me==="inside"?gt+Pe-15:gt+Pe+5;const Jt=tt+B/2;ut({category:pe,period:Oe,value:Le,barId:Re,x:0,y:tt,width:Pe,barWidth:B,labelX:qt,labelY:Jt,orientation:"horizontal"})});const Ae=D&&_e==="direct"||nt,Qt=x.some(qt=>qt.barId===Re)||nt?700:P;if(Ae){const qt=J&&(ye==="all"||ye==="first"&&Ne===0);if(ne||nt){const Jt=me==="inside"?rr(Xe):He.axisLabelColor;let mn,Rn;Le<0?me==="inside"?(mn=gt+15,Rn="start"):(mn=gt-5,Rn="end"):me==="inside"?(mn=gt+Pe-15,Rn="end"):(mn=gt+Pe+5,Rn="start"),ot.append("text").attr("x",mn).attr("y",tt+B/2).attr("dy","0.35em").attr("text-anchor",Rn).attr("font-family",I).attr("font-size",N).attr("font-weight",Qt).attr("fill",Jt).text(Kt(Le))}if(qt){const Jt=rr(Xe);ot.append("text").attr("x",15).attr("y",tt+B/2).attr("dy","0.35em").attr("text-anchor","start").attr("font-family",I).attr("font-size",Ze).attr("font-weight",Qt).attr("fill",Jt).text(Oe)}}else if(_e==="legend"&&D&&ne){const qt=Le<0?gt-5:gt+Pe+5,Jt=Le<0?"end":"start";ot.append("text").attr("x",qt).attr("y",tt+B/2).attr("dy","0.35em").attr("text-anchor",Jt).attr("font-family",I).attr("font-size",N).attr("font-weight",Qt).attr("fill",lt).text(Kt(Le))}}})})}else e.forEach((ce,je)=>{const B=xt[je];let De=0;if(Nt.forEach((oe,Ne)=>{const pe=ce[oe]||0,Oe=Je[Ne%Je.length],Me=`${B}-${oe}`,Le=ft&&ft.length>0,Te=ft&&ft.includes(Me),Re=Le&&!Te?Tr(Oe):Oe;let at;if(S==="vertical"){const nt=mt(B),Xe=mt.bandwidth(),ot=qe(De),tt=qe(De+pe),pt=Math.min(ot,tt),Dt=Math.abs(tt-ot);at=Mt.append("g").attr("class","bar-group"),at.append("rect").attr("x",nt).attr("y",pt).attr("width",Xe).attr("height",Dt).attr("fill",Re).attr("opacity",nn).attr("stroke",hn).attr("stroke-width",vn).style("cursor","pointer").on("click",()=>{i&&i(ce,oe,Me);const Ae=nt+Xe/2,yt=pt+Dt/2;ut({category:B,period:oe,value:pe,barId:Me,x:nt,y:pt,barWidth:Xe,height:Dt,labelX:Ae,labelY:yt,orientation:"vertical"})});const Pe=x.some(Ae=>Ae.barId===Me)||Te?700:P;if((D&&ne||Te)&&Dt>20){const Ae=rr(Re);(ne||Te)&&at.append("text").attr("x",nt+Xe/2).attr("y",pt+Dt/2).attr("dy","0.35em").attr("text-anchor","middle").attr("font-family",I).attr("font-size",N).attr("font-weight",Pe).attr("fill",Ae).text(Kt(pe))}}else{const nt=qe(B),Xe=qe.bandwidth(),ot=mt(De),tt=mt(De+pe),pt=Math.min(ot,tt),Dt=Math.abs(tt-ot);at=Mt.append("g").attr("class","bar-group"),at.append("rect").attr("x",pt).attr("y",nt).attr("width",Dt).attr("height",Xe).attr("fill",Re).attr("opacity",nn).attr("stroke",hn).attr("stroke-width",vn).style("cursor","pointer").on("click",()=>{i&&i(ce,oe,Me);const Ae=pt+Dt/2,yt=nt+Xe/2;ut({category:B,period:oe,value:pe,barId:Me,x:pt,y:nt,width:Dt,barWidth:Xe,labelX:Ae,labelY:yt,orientation:"horizontal"})});const Pe=x.some(Ae=>Ae.barId===Me)||Te?700:P;if((D&&ne||Te)&&Dt>40){const Ae=rr(Re);(ne||Te)&&at.append("text").attr("x",pt+Dt/2).attr("y",nt+Xe/2).attr("dy","0.35em").attr("text-anchor","middle").attr("font-family",I).attr("font-size",N).attr("font-weight",Pe).attr("fill",Ae).text(Kt(pe))}}De+=pe}),ht&&O==="stacked"){const oe=De,Ne=Pt?700:400;if(S==="vertical"){const pe=mt(B),Oe=mt.bandwidth(),Me=qe(oe);Mt.append("line").attr("x1",pe).attr("y1",Me).attr("x2",pe+Oe).attr("y2",Me).attr("stroke",He.axisLabelColor).attr("stroke-width",2);const Le=`${B}-Total`;Mt.append("text").attr("x",pe+Oe/2).attr("y",Me-5).attr("text-anchor","middle").attr("font-family",I).attr("font-size",N).attr("font-weight",Ne).attr("fill",He.axisLabelColor).style("cursor",rn?"pointer":"default").text(Kt(oe)).on("click",()=>{if(!rn)return;const Te=pe+Oe/2,Re=Me-5;ut({category:B,period:"Total",value:oe,barId:Le,x:pe,y:Me,barWidth:Oe,height:Wt-Me,labelX:Te,labelY:Re,orientation:"vertical"})})}else{const pe=qe(B),Oe=qe.bandwidth(),Me=mt(oe);Mt.append("line").attr("x1",Me).attr("y1",pe).attr("x2",Me).attr("y2",pe+Oe).attr("stroke",He.axisLabelColor).attr("stroke-width",2);const Le=`${B}-Total`;Mt.append("text").attr("x",Me+5).attr("y",pe+Oe/2).attr("dy","0.35em").attr("text-anchor","start").attr("font-family",I).attr("font-size",N).attr("font-weight",Ne).attr("fill",He.axisLabelColor).style("cursor",rn?"pointer":"default").text(Kt(oe)).on("click",()=>{if(!rn)return;const Te=Me+5,Re=pe+Oe/2;ut({category:B,period:"Total",value:oe,barId:Le,x:0,y:pe,width:Me,barWidth:Oe,labelX:Te,labelY:Re,orientation:"horizontal"})})}}if(J&&_e==="direct"){const oe=je===e.length-1,Ne=je===0;Nt.forEach((pe,Oe)=>{const Me=Je[Oe%Je.length],Te=ft&&ft.some(Re=>Re.endsWith(`-${pe}`))?700:P;if(S==="vertical"&&oe){const Re=mt(B),at=mt.bandwidth();let nt=0;for(let pt=0;pt<Oe;pt++)nt+=ce[Nt[pt]]||0;const Xe=ce[pe]||0,ot=nt+Xe/2,tt=qe(ot);Mt.append("text").attr("x",Re+at+10).attr("y",tt).attr("dy","0.35em").attr("text-anchor","start").attr("font-family",I).attr("font-size",Ze).attr("font-weight",Te).attr("fill",Me).text(pe)}else if(S==="horizontal"&&Ne){const Re=qe(B);qe.bandwidth();let at=0;for(let tt=0;tt<Oe;tt++)at+=ce[Nt[tt]]||0;const nt=ce[pe]||0,Xe=at+nt/2,ot=mt(Xe);Mt.append("text").attr("x",ot).attr("y",Re-10).attr("text-anchor","middle").attr("font-family",I).attr("font-size",Ze).attr("font-weight",Te).attr("fill",Me).text(pe)}})}});if(kt){const ce=S==="vertical"?qe(0):Wt,je=Mt.append("g").attr("class","x-axis").attr("transform",`translate(0,${ce})`).call(Yn);if(je.selectAll("text").attr("font-family",M).attr("font-size",A).attr("font-weight",ze).attr("fill",He.axisLabelColor).attr("opacity",tn),ft&&ft.length>0&&S==="vertical"&&xt.forEach(B=>{ft.some(oe=>oe.startsWith(`${B}-`))&&je.selectAll(".tick").filter(oe=>oe===B).select("text").attr("font-weight",700)}),je.selectAll("line, path").attr("stroke",He.axisLineColor).attr("opacity",tn),S==="vertical"){if(w>0){const B=-w;je.selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy",".15em").attr("transform",`rotate(${B})`)}else je.selectAll("text").style("text-anchor","middle").attr("dx",null).attr("dy",".71em").attr("transform",null);Pn<0&&xt.forEach(B=>{const De=e.find(Ne=>Ne.Category===B);if(!De)return;if(Nt.every(Ne=>(De[Ne]||0)<0)){let Ne;O==="stacked"?Ne=Nt.reduce((Me,Le)=>Me+(De[Le]||0),0):Ne=Zs(Nt,Me=>De[Me]||0);const Oe=qe(Ne)-ce;je.selectAll(".tick").filter(Me=>Me===B).select("text").attr("dy",Oe+U+10)}})}be==="cross"&&S==="horizontal"&&je.selectAll(".tick").append("line").attr("x1",0).attr("x2",0).attr("y1",0).attr("y2",-6).attr("stroke",lt).attr("opacity",tn)}if(Bt){const ce=S==="horizontal"?mt(0):0,je=Mt.append("g").attr("class","y-axis").attr("transform",`translate(${ce},0)`).call(Jn);je.selectAll("text").attr("font-family",M).attr("font-size",G).attr("font-weight",ze).attr("fill",He.axisLabelColor).attr("opacity",tn),ft&&ft.length>0&&S==="horizontal"&&xt.forEach(B=>{ft.some(oe=>oe.startsWith(`${B}-`))&&je.selectAll(".tick").filter(oe=>oe===B).select("text").attr("font-weight",700)}),je.selectAll("line, path").attr("stroke",He.axisLineColor).attr("opacity",tn),be==="cross"&&(S==="vertical"||qe.domain&&qe.domain(),S==="vertical"&&je.selectAll(".tick").append("line").attr("x1",0).attr("x2",-6).attr("y1",0).attr("y2",0).attr("stroke",lt).attr("opacity",tn))}if(S==="vertical"&&or&&or.length>0){const ce=Mt.append("g").attr("class","y-minor-ticks");or.forEach(je=>{const B=qe(je);ce.append("line").attr("x1",0).attr("x2",de==="cross"?-minorTickSize:minorTickSize).attr("y1",B).attr("y2",B).attr("stroke",lt).attr("opacity",tn),de==="cross"&&ce.append("line").attr("x1",0).attr("x2",minorTickSize).attr("y1",B).attr("y2",B).attr("stroke",lt).attr("opacity",tn)})}if(S==="horizontal"&&At&&At.length>0){const ce=Mt.append("g").attr("class","x-minor-ticks").attr("transform",`translate(0,${Wt})`);At.forEach(je=>{const B=mt(je);ce.append("line").attr("x1",B).attr("x2",B).attr("y1",0).attr("y2",de==="cross"?-minorTickSize:minorTickSize).attr("stroke",lt).attr("opacity",tn),de==="cross"&&ce.append("line").attr("x1",B).attr("x2",B).attr("y1",0).attr("y2",minorTickSize).attr("stroke",lt).attr("opacity",tn)})}if(te)if(S==="vertical")et.append("text").attr("x",Ie+5).attr("y",wt+ie).attr("text-anchor","start").attr("dy","0.32em").attr("font-family",M).attr("font-size",ee).attr("font-weight",400).attr("fill",He.axisLabelColor).text(te);else{const ce=mt.domain()[1];et.append("text").attr("x",Ie+mt(ce)).attr("y",wt+ie+Wt+40).attr("text-anchor","middle").attr("dy","0.71em").attr("font-family",M).attr("font-size",ee).attr("font-weight",400).attr("fill",He.axisLabelColor).text(te)}if(rn&&x.length>=2){const ce=[];for(let je=0;je<x.length-1;je+=2)ce.push({first:x[je],second:x[je+1]});ce.forEach(je=>{const{first:B,second:De}=je,oe=(De.value-B.value)/B.value*100,Ne=oe>=0?"+":"";let pe=`${Ne}${oe.toFixed(1)}%`;if(Mn==="percent-volume"){const Oe=De.value-B.value,Me=Oe>=0?"+":"",Le=Kt(Math.abs(Oe));pe=`${Me}${Le} (${Ne}${oe.toFixed(1)}%)`}if(S==="horizontal"){const Oe=B.labelY,Me=De.labelY,Le=Kt(B.value),Te=Kt(De.value),Re=Le.length*N*.6,at=Te.length*N*.6,nt=B.labelX+Re,Xe=De.labelX+at,tt=(Fn-Math.max(nt,Xe))*(In/100),pt=Math.max(nt,Xe)+tt,Dt=Mt.append("g").attr("class","percent-change-bracket");Dt.append("line").attr("x1",nt).attr("y1",Oe).attr("x2",pt).attr("y2",Oe).attr("stroke",He.axisLabelColor).attr("stroke-width",2),Dt.append("line").attr("x1",pt).attr("y1",Oe).attr("x2",pt).attr("y2",Me).attr("stroke",He.axisLabelColor).attr("stroke-width",2),Dt.append("line").attr("x1",pt).attr("y1",Me).attr("x2",Xe).attr("y2",Me).attr("stroke",He.axisLabelColor).attr("stroke-width",2);const gt=6;Dt.append("polygon").attr("points",`
              ${Xe},${Me}
              ${Xe+gt},${Me-gt}
              ${Xe+gt},${Me+gt}
            `).attr("fill",He.axisLabelColor);const Pe=(Oe+Me)/2,Ae=pe.length*N*.6,Qt=Ie+zt+Vt-(Ie+pt)>Ae+20;et.append("text").attr("x",Ie+pt+(Qt?10:-10)).attr("y",wt+ie+Pe).attr("dy","0.35em").attr("text-anchor",Qt?"start":"end").attr("font-family",z).attr("font-size",N).attr("font-weight",700).attr("fill",He.axisLabelColor).text(pe)}else{const Oe=B.labelX,Me=De.labelX,Le=B.labelY-N,Te=De.labelY-N,Re=Math.min(Le,Te),nt=Re*(In/100),Xe=Re-nt,ot=Mt.append("g").attr("class","percent-change-bracket");ot.append("line").attr("x1",Oe).attr("y1",Le).attr("x2",Oe).attr("y2",Xe).attr("stroke",He.axisLabelColor).attr("stroke-width",2),ot.append("line").attr("x1",Oe).attr("y1",Xe).attr("x2",Me).attr("y2",Xe).attr("stroke",He.axisLabelColor).attr("stroke-width",2),ot.append("line").attr("x1",Me).attr("y1",Xe).attr("x2",Me).attr("y2",Te).attr("stroke",He.axisLabelColor).attr("stroke-width",2);const tt=6;ot.append("polygon").attr("points",`
              ${Me},${Te}
              ${Me-tt},${Te-tt}
              ${Me+tt},${Te-tt}
            `).attr("fill",He.axisLabelColor);const pt=(Oe+Me)/2,gt=wt+ie+Xe>N+20;et.append("text").attr("x",Ie+pt).attr("y",wt+ie+Xe+(gt?-10:20)).attr("text-anchor","middle").attr("font-family",z).attr("font-size",N).attr("font-weight",700).attr("fill",He.axisLabelColor).text(pe)}})}if(J&&D&&_e==="legend"&&Qe==="below"){const ce=wt+ie+Wt+50,je=120,B=20,De=Nt.length*je+(Nt.length-1)*B,oe=(Rt-De)/2;Nt.forEach((Ne,pe)=>{const Oe=oe+pe*(je+B),Me=Je[pe%Je.length];et.append("rect").attr("x",Oe).attr("y",ce).attr("width",16).attr("height",16).attr("fill",Me).attr("rx",2),et.append("text").attr("x",Oe+22).attr("y",ce+8).attr("dy","0.35em").attr("font-family",z).attr("font-size","14px").attr("font-weight","500").attr("fill",He.legendTextColor).text(Ne)})}if(a.userTier!=="pro"){const ce="Made with Find&Tell | Charts for Data Stories | FindandTell.co",B=Ft-8;et.append("a").attr("href","https://findandtell.co").attr("target","_blank").attr("rel","noopener noreferrer").append("text").attr("x",h.width/2).attr("y",B).attr("text-anchor","middle").attr("font-family",z).attr("font-size","14px").attr("font-weight","500").attr("fill",ct?"#60a5fa":"#1e3a8a").attr("opacity",1).style("cursor","pointer").text(ce).on("mouseover",function(){xn(this).attr("fill","#0891b2")}).on("mouseout",function(){xn(this).attr("fill",ct?"#60a5fa":"#1e3a8a")})}},[e,r,h,S,O,Je,a,x,rn,Mn,In]),o.jsx("div",{style:{width:"100%",height:"100%"},children:o.jsx("svg",{ref:u,width:h.width,height:h.height,style:{display:"block"}})})},Qp=fl.memo(tk),qp=6048e5,nk=864e5,w0=Symbol.for("constructDateFrom");function io(e,r){return typeof e=="function"?e(r):e&&typeof e=="object"&&w0 in e?e[w0](r):e instanceof Date?new e.constructor(r):new Date(r)}function Yr(e,r){return io(r||e,e)}let rk={};function au(){return rk}function dl(e,r){const a=au(),i=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,c=Yr(e,r?.in),u=c.getDay(),h=(u<i?7:0)+u-i;return c.setDate(c.getDate()-h),c.setHours(0,0,0,0),c}function Qc(e,r){return dl(e,{...r,weekStartsOn:1})}function Xp(e,r){const a=Yr(e,r?.in),i=a.getFullYear(),c=io(a,0);c.setFullYear(i+1,0,4),c.setHours(0,0,0,0);const u=Qc(c),h=io(a,0);h.setFullYear(i,0,4),h.setHours(0,0,0,0);const p=Qc(h);return a.getTime()>=u.getTime()?i+1:a.getTime()>=p.getTime()?i:i-1}function C0(e){const r=Yr(e),a=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return a.setUTCFullYear(r.getFullYear()),+e-+a}function ak(e,...r){const a=io.bind(null,r.find(i=>typeof i=="object"));return r.map(a)}function k0(e,r){const a=Yr(e,r?.in);return a.setHours(0,0,0,0),a}function ok(e,r,a){const[i,c]=ak(a?.in,e,r),u=k0(i),h=k0(c),p=+u-C0(u),x=+h-C0(h);return Math.round((p-x)/nk)}function ik(e,r){const a=Xp(e,r),i=io(e,0);return i.setFullYear(a,0,4),i.setHours(0,0,0,0),Qc(i)}function sk(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function lk(e){return!(!sk(e)&&typeof e!="number"||isNaN(+Yr(e)))}function ck(e,r){const a=Yr(e,r?.in);return a.setFullYear(a.getFullYear(),0,1),a.setHours(0,0,0,0),a}const uk={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},dk=(e,r,a)=>{let i;const c=uk[e];return typeof c=="string"?i=c:r===1?i=c.one:i=c.other.replace("{{count}}",r.toString()),a?.addSuffix?a.comparison&&a.comparison>0?"in "+i:i+" ago":i};function Ad(e){return(r={})=>{const a=r.width?String(r.width):e.defaultWidth;return e.formats[a]||e.formats[e.defaultWidth]}}const fk={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},hk={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},mk={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pk={date:Ad({formats:fk,defaultWidth:"full"}),time:Ad({formats:hk,defaultWidth:"full"}),dateTime:Ad({formats:mk,defaultWidth:"full"})},gk={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},xk=(e,r,a,i)=>gk[e];function Ks(e){return(r,a)=>{const i=a?.context?String(a.context):"standalone";let c;if(i==="formatting"&&e.formattingValues){const h=e.defaultFormattingWidth||e.defaultWidth,p=a?.width?String(a.width):h;c=e.formattingValues[p]||e.formattingValues[h]}else{const h=e.defaultWidth,p=a?.width?String(a.width):e.defaultWidth;c=e.values[p]||e.values[h]}const u=e.argumentCallback?e.argumentCallback(r):r;return c[u]}}const yk={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},vk={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},bk={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},wk={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ck={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},kk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},jk=(e,r)=>{const a=Number(e),i=a%100;if(i>20||i<10)switch(i%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},Sk={ordinalNumber:jk,era:Ks({values:yk,defaultWidth:"wide"}),quarter:Ks({values:vk,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ks({values:bk,defaultWidth:"wide"}),day:Ks({values:wk,defaultWidth:"wide"}),dayPeriod:Ks({values:Ck,defaultWidth:"wide",formattingValues:kk,defaultFormattingWidth:"wide"})};function Js(e){return(r,a={})=>{const i=a.width,c=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],u=r.match(c);if(!u)return null;const h=u[0],p=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],x=Array.isArray(p)?Mk(p,v=>v.test(h)):Nk(p,v=>v.test(h));let m;m=e.valueCallback?e.valueCallback(x):x,m=a.valueCallback?a.valueCallback(m):m;const y=r.slice(h.length);return{value:m,rest:y}}}function Nk(e,r){for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&r(e[a]))return a}function Mk(e,r){for(let a=0;a<e.length;a++)if(r(e[a]))return a}function Lk(e){return(r,a={})=>{const i=r.match(e.matchPattern);if(!i)return null;const c=i[0],u=r.match(e.parsePattern);if(!u)return null;let h=e.valueCallback?e.valueCallback(u[0]):u[0];h=a.valueCallback?a.valueCallback(h):h;const p=r.slice(c.length);return{value:h,rest:p}}}const Pk=/^(\d+)(th|st|nd|rd)?/i,Ek=/\d+/i,Fk={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_k={any:[/^b/i,/^(a|c)/i]},Tk={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},zk={any:[/1/i,/2/i,/3/i,/4/i]},Ak={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Dk={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Rk={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ok={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Wk={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$k={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Uk={ordinalNumber:Lk({matchPattern:Pk,parsePattern:Ek,valueCallback:e=>parseInt(e,10)}),era:Js({matchPatterns:Fk,defaultMatchWidth:"wide",parsePatterns:_k,defaultParseWidth:"any"}),quarter:Js({matchPatterns:Tk,defaultMatchWidth:"wide",parsePatterns:zk,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Js({matchPatterns:Ak,defaultMatchWidth:"wide",parsePatterns:Dk,defaultParseWidth:"any"}),day:Js({matchPatterns:Rk,defaultMatchWidth:"wide",parsePatterns:Ok,defaultParseWidth:"any"}),dayPeriod:Js({matchPatterns:Wk,defaultMatchWidth:"any",parsePatterns:$k,defaultParseWidth:"any"})},Vk={code:"en-US",formatDistance:dk,formatLong:pk,formatRelative:xk,localize:Sk,match:Uk,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Hk(e,r){const a=Yr(e,r?.in);return ok(a,ck(a))+1}function Ik(e,r){const a=Yr(e,r?.in),i=+Qc(a)-+ik(a);return Math.round(i/qp)+1}function Kp(e,r){const a=Yr(e,r?.in),i=a.getFullYear(),c=au(),u=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??c.firstWeekContainsDate??c.locale?.options?.firstWeekContainsDate??1,h=io(r?.in||e,0);h.setFullYear(i+1,0,u),h.setHours(0,0,0,0);const p=dl(h,r),x=io(r?.in||e,0);x.setFullYear(i,0,u),x.setHours(0,0,0,0);const m=dl(x,r);return+a>=+p?i+1:+a>=+m?i:i-1}function Bk(e,r){const a=au(),i=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,c=Kp(e,r),u=io(r?.in||e,0);return u.setFullYear(c,0,i),u.setHours(0,0,0,0),dl(u,r)}function Gk(e,r){const a=Yr(e,r?.in),i=+dl(a,r)-+Bk(a,r);return Math.round(i/qp)+1}function en(e,r){const a=e<0?"-":"",i=Math.abs(e).toString().padStart(r,"0");return a+i}const oo={y(e,r){const a=e.getFullYear(),i=a>0?a:1-a;return en(r==="yy"?i%100:i,r.length)},M(e,r){const a=e.getMonth();return r==="M"?String(a+1):en(a+1,2)},d(e,r){return en(e.getDate(),r.length)},a(e,r){const a=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h(e,r){return en(e.getHours()%12||12,r.length)},H(e,r){return en(e.getHours(),r.length)},m(e,r){return en(e.getMinutes(),r.length)},s(e,r){return en(e.getSeconds(),r.length)},S(e,r){const a=r.length,i=e.getMilliseconds(),c=Math.trunc(i*Math.pow(10,a-3));return en(c,r.length)}},Pi={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},j0={G:function(e,r,a){const i=e.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return a.era(i,{width:"abbreviated"});case"GGGGG":return a.era(i,{width:"narrow"});case"GGGG":default:return a.era(i,{width:"wide"})}},y:function(e,r,a){if(r==="yo"){const i=e.getFullYear(),c=i>0?i:1-i;return a.ordinalNumber(c,{unit:"year"})}return oo.y(e,r)},Y:function(e,r,a,i){const c=Kp(e,i),u=c>0?c:1-c;if(r==="YY"){const h=u%100;return en(h,2)}return r==="Yo"?a.ordinalNumber(u,{unit:"year"}):en(u,r.length)},R:function(e,r){const a=Xp(e);return en(a,r.length)},u:function(e,r){const a=e.getFullYear();return en(a,r.length)},Q:function(e,r,a){const i=Math.ceil((e.getMonth()+1)/3);switch(r){case"Q":return String(i);case"QQ":return en(i,2);case"Qo":return a.ordinalNumber(i,{unit:"quarter"});case"QQQ":return a.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,r,a){const i=Math.ceil((e.getMonth()+1)/3);switch(r){case"q":return String(i);case"qq":return en(i,2);case"qo":return a.ordinalNumber(i,{unit:"quarter"});case"qqq":return a.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,r,a){const i=e.getMonth();switch(r){case"M":case"MM":return oo.M(e,r);case"Mo":return a.ordinalNumber(i+1,{unit:"month"});case"MMM":return a.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(i,{width:"wide",context:"formatting"})}},L:function(e,r,a){const i=e.getMonth();switch(r){case"L":return String(i+1);case"LL":return en(i+1,2);case"Lo":return a.ordinalNumber(i+1,{unit:"month"});case"LLL":return a.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(i,{width:"wide",context:"standalone"})}},w:function(e,r,a,i){const c=Gk(e,i);return r==="wo"?a.ordinalNumber(c,{unit:"week"}):en(c,r.length)},I:function(e,r,a){const i=Ik(e);return r==="Io"?a.ordinalNumber(i,{unit:"week"}):en(i,r.length)},d:function(e,r,a){return r==="do"?a.ordinalNumber(e.getDate(),{unit:"date"}):oo.d(e,r)},D:function(e,r,a){const i=Hk(e);return r==="Do"?a.ordinalNumber(i,{unit:"dayOfYear"}):en(i,r.length)},E:function(e,r,a){const i=e.getDay();switch(r){case"E":case"EE":case"EEE":return a.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(i,{width:"short",context:"formatting"});case"EEEE":default:return a.day(i,{width:"wide",context:"formatting"})}},e:function(e,r,a,i){const c=e.getDay(),u=(c-i.weekStartsOn+8)%7||7;switch(r){case"e":return String(u);case"ee":return en(u,2);case"eo":return a.ordinalNumber(u,{unit:"day"});case"eee":return a.day(c,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(c,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(c,{width:"short",context:"formatting"});case"eeee":default:return a.day(c,{width:"wide",context:"formatting"})}},c:function(e,r,a,i){const c=e.getDay(),u=(c-i.weekStartsOn+8)%7||7;switch(r){case"c":return String(u);case"cc":return en(u,r.length);case"co":return a.ordinalNumber(u,{unit:"day"});case"ccc":return a.day(c,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(c,{width:"narrow",context:"standalone"});case"cccccc":return a.day(c,{width:"short",context:"standalone"});case"cccc":default:return a.day(c,{width:"wide",context:"standalone"})}},i:function(e,r,a){const i=e.getDay(),c=i===0?7:i;switch(r){case"i":return String(c);case"ii":return en(c,r.length);case"io":return a.ordinalNumber(c,{unit:"day"});case"iii":return a.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(i,{width:"short",context:"formatting"});case"iiii":default:return a.day(i,{width:"wide",context:"formatting"})}},a:function(e,r,a){const c=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return a.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(c,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(c,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(c,{width:"wide",context:"formatting"})}},b:function(e,r,a){const i=e.getHours();let c;switch(i===12?c=Pi.noon:i===0?c=Pi.midnight:c=i/12>=1?"pm":"am",r){case"b":case"bb":return a.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(c,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(c,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(c,{width:"wide",context:"formatting"})}},B:function(e,r,a){const i=e.getHours();let c;switch(i>=17?c=Pi.evening:i>=12?c=Pi.afternoon:i>=4?c=Pi.morning:c=Pi.night,r){case"B":case"BB":case"BBB":return a.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(c,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(c,{width:"wide",context:"formatting"})}},h:function(e,r,a){if(r==="ho"){let i=e.getHours()%12;return i===0&&(i=12),a.ordinalNumber(i,{unit:"hour"})}return oo.h(e,r)},H:function(e,r,a){return r==="Ho"?a.ordinalNumber(e.getHours(),{unit:"hour"}):oo.H(e,r)},K:function(e,r,a){const i=e.getHours()%12;return r==="Ko"?a.ordinalNumber(i,{unit:"hour"}):en(i,r.length)},k:function(e,r,a){let i=e.getHours();return i===0&&(i=24),r==="ko"?a.ordinalNumber(i,{unit:"hour"}):en(i,r.length)},m:function(e,r,a){return r==="mo"?a.ordinalNumber(e.getMinutes(),{unit:"minute"}):oo.m(e,r)},s:function(e,r,a){return r==="so"?a.ordinalNumber(e.getSeconds(),{unit:"second"}):oo.s(e,r)},S:function(e,r){return oo.S(e,r)},X:function(e,r,a){const i=e.getTimezoneOffset();if(i===0)return"Z";switch(r){case"X":return N0(i);case"XXXX":case"XX":return zo(i);case"XXXXX":case"XXX":default:return zo(i,":")}},x:function(e,r,a){const i=e.getTimezoneOffset();switch(r){case"x":return N0(i);case"xxxx":case"xx":return zo(i);case"xxxxx":case"xxx":default:return zo(i,":")}},O:function(e,r,a){const i=e.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+S0(i,":");case"OOOO":default:return"GMT"+zo(i,":")}},z:function(e,r,a){const i=e.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+S0(i,":");case"zzzz":default:return"GMT"+zo(i,":")}},t:function(e,r,a){const i=Math.trunc(+e/1e3);return en(i,r.length)},T:function(e,r,a){return en(+e,r.length)}};function S0(e,r=""){const a=e>0?"-":"+",i=Math.abs(e),c=Math.trunc(i/60),u=i%60;return u===0?a+String(c):a+String(c)+r+en(u,2)}function N0(e,r){return e%60===0?(e>0?"-":"+")+en(Math.abs(e)/60,2):zo(e,r)}function zo(e,r=""){const a=e>0?"-":"+",i=Math.abs(e),c=en(Math.trunc(i/60),2),u=en(i%60,2);return a+c+r+u}const M0=(e,r)=>{switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},Jp=(e,r)=>{switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Yk=(e,r)=>{const a=e.match(/(P+)(p+)?/)||[],i=a[1],c=a[2];if(!c)return M0(e,r);let u;switch(i){case"P":u=r.dateTime({width:"short"});break;case"PP":u=r.dateTime({width:"medium"});break;case"PPP":u=r.dateTime({width:"long"});break;case"PPPP":default:u=r.dateTime({width:"full"});break}return u.replace("{{date}}",M0(i,r)).replace("{{time}}",Jp(c,r))},Qk={p:Jp,P:Yk},qk=/^D+$/,Xk=/^Y+$/,Kk=["D","DD","YY","YYYY"];function Jk(e){return qk.test(e)}function Zk(e){return Xk.test(e)}function ej(e,r,a){const i=tj(e,r,a);if(console.warn(i),Kk.includes(e))throw new RangeError(i)}function tj(e,r,a){const i=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${r}\`) for formatting ${i} to the input \`${a}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const nj=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,rj=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,aj=/^'([^]*?)'?$/,oj=/''/g,ij=/[a-zA-Z]/;function L0(e,r,a){const i=au(),c=i.locale??Vk,u=i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,h=i.weekStartsOn??i.locale?.options?.weekStartsOn??0,p=Yr(e,a?.in);if(!lk(p))throw new RangeError("Invalid time value");let x=r.match(rj).map(y=>{const v=y[0];if(v==="p"||v==="P"){const b=Qk[v];return b(y,c.formatLong)}return y}).join("").match(nj).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const v=y[0];if(v==="'")return{isToken:!1,value:sj(y)};if(j0[v])return{isToken:!0,value:y};if(v.match(ij))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:y}});c.localize.preprocessor&&(x=c.localize.preprocessor(p,x));const m={firstWeekContainsDate:u,weekStartsOn:h,locale:c};return x.map(y=>{if(!y.isToken)return y.value;const v=y.value;(Zk(v)||Jk(v))&&ej(v,r,String(e));const b=j0[v[0]];return b(p,v,c.localize,m)}).join("")}function sj(e){const r=e.match(aj);return r?r[1].replace(oj,"'"):e}const P0={year:{format:"%Y",parser:"%Y"},month:{format:"%b %Y",parser:"%Y-%m"},week:{format:"Week %U",parser:"%Y-W%U"},day:{format:"%b %d",parser:"%Y-%m-%d"},hour:{format:"%I %p",parser:"%Y-%m-%d %H"}},lj={title:"Revenue Trends",subtitle:"Monthly performance overview",titleAlignment:"left",fontFamily:"Inter",titleFontSize:20,subtitleFontSize:14,timeScale:"month",dateField:"date",colorMode:"category",comparisonPalette:"professional",userCustomColors:["#1e40af","#0d9488","#991b1b","#d97706","#475569","#7c3aed","#059669","#dc2626"],lineThickness:2,lineStyle:"solid",lineOpacity:1,smoothLines:!1,lineSaturation:100,showPoints:!0,pointSize:4,pointStyle:"filled",pointBorderWidth:2,showAreaFill:!1,areaOpacity:.2,areaGradient:!1,emphasizedLines:[],emphasizedLineThickness:4,emphasizedPointSize:6,showValueLabels:!1,showDirectLabels:!0,labelFontSize:12,compactNumbers:!0,showXAxis:!0,showYAxis:!0,xAxisPosition:"bottom",yAxisPosition:"left",xAxisLabelRotation:0,yAxisFormat:"auto",showGridLines:!0,gridDirection:"horizontal",gridLineColor:"#e5e7eb",gridLineStyle:"solid",gridLineOpacity:.5,showLegend:!0,legendPosition:"top",legendFontSize:12,baselines:[],showMovingAverage:!1,movingAveragePeriod:3,movingAverageColor:"#6b7280",showPercentChangeBrackets:!1,percentChangeBracketPairs:[],showTooltips:!0,tooltipFormat:"auto",width:800,height:500,marginTop:80,marginRight:100,marginBottom:100,marginLeft:80,backgroundColor:"#ffffff",darkMode:!1},E0=(e,r,a,i)=>{const{colorMode:c}=a;switch(c){case"gradient":{const u=a.userCustomColors;if(u.length===0)return"#1e40af";if(u.length===1)return u[0];const h=r/(a.userCustomColors.length-1),p=Math.floor(h*(u.length-1));return u[p]}case"custom":return a.userCustomColors[r%a.userCustomColors.length];case"category":default:{const u=i[a.comparisonPalette];if(!u)return"#1e40af";const h=a.comparisonPalette==="user"?a.userCustomColors:u.colors;return h[r%h.length]}}};function qc(e){const r=new Date(e);r.setHours(0,0,0,0),r.setDate(r.getDate()+4-(r.getDay()||7));const a=new Date(r.getFullYear(),0,1),i=Math.ceil(((r-a)/864e5+1)/7);return{year:r.getFullYear(),week:i,weekLabel:`Week ${i}`,weekKey:`${r.getFullYear()}-W${String(i).padStart(2,"0")}`}}function Zp(e){const r=new Date(e),a=r.getMonth()+1,i=r.getFullYear();return{year:i,month:a,monthLabel:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][r.getMonth()],monthKey:`${i}-${String(a).padStart(2,"0")}`}}function Xc(e,r=1){const a=new Date(e),i=a.getMonth()+1,c=a.getFullYear(),u=(i-r+12)%12,h=Math.floor(u/3)+1,p=i>=r?c:c-1;return{year:p,quarter:h,quarterLabel:`Q${h}`,quarterKey:`${p}-Q${h}`}}function eg(e,r=1){const a=new Date(e),i=a.getMonth()+1,c=a.getFullYear(),u=i>=r?c:c-1;return{year:u,yearLabel:String(u),yearKey:String(u)}}function cj(e,r,a,i,c="sum",u=1){if(!e||e.length===0)return[];if(i==="day")return e;const h={};e.forEach(x=>{const m=x[r];if(!m)return;let y;/^\d{4}-\d{2}-\d{2}$/.test(m)?y=new Date(m+"T00:00:00"):y=new Date(m);let v,b,d;switch(i){case"week":b=qc(y),v=b.weekKey;const j=new Date(y);j.setHours(0,0,0,0),j.setDate(j.getDate()+4-(j.getDay()||7)),j.setDate(j.getDate()-3),d=j.toISOString().split("T")[0];break;case"month":b=Zp(y),v=b.monthKey,d=`${b.year}-${String(b.month).padStart(2,"0")}-01`;break;case"quarter":b=Xc(y,u),v=b.quarterKey;const S=((b.quarter-1)*3+u-1)%12+1;d=`${b.year}-${String(S).padStart(2,"0")}-01`;break;case"year":b=eg(y,u),v=b.yearKey,d=`${b.year}-${String(u).padStart(2,"0")}-01`;break;default:return}h[v]||(h[v]={key:v,periodInfo:b,date:d,rows:[]}),h[v].rows.push(x)});const p=Object.values(h).map(x=>{const m={[r]:x.date,...x.periodInfo};return a.forEach(y=>{const v=x.rows.map(b=>b[y]).filter(b=>b!=null&&!isNaN(b));if(v.length===0){m[y]=null;return}switch(c){case"sum":m[y]=v.reduce((b,d)=>b+d,0);break;case"average":m[y]=v.reduce((b,d)=>b+d,0)/v.length;break;case"min":m[y]=Math.min(...v);break;case"max":m[y]=Math.max(...v);break;case"count":m[y]=v.length;break;default:m[y]=v.reduce((b,d)=>b+d,0)}}),m});return p.sort((x,m)=>new Date(x[r])-new Date(m[r])),p}function F0(e,r,a=1){const i=new Date(e),c=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],u=qc(i),h=Zp(i),p=Xc(i,a),x=eg(i,a);switch(r){case"day":return{primary:`${c[i.getDay()]} ${i.getDate()}`,secondary:`${h.monthLabel} ${h.year}`,tertiary:`Week ${u.week}`};case"week":return{primary:u.weekLabel,secondary:`${h.monthLabel} ${h.year}`};case"month":return{primary:h.monthLabel,secondary:`${p.quarterLabel} ${p.year}`};case"quarter":return{primary:p.quarterLabel,secondary:String(p.year)};case"year":return{primary:String(x.year)};default:return{primary:i.toLocaleDateString()}}}const uj=({data:e,metricNames:r,styleSettings:a={},onLineClick:i,onPointClick:c,onMetricClick:u,onLabelDrag:h})=>{const p=C.useRef(null),[x,m]=C.useState(null),[y,v]=C.useState(null),[b,d]=C.useState(a);C.useEffect(()=>{const S=setTimeout(()=>{d(a)},100);return()=>clearTimeout(S)},[a]);const j=C.useMemo(()=>{if(!e||e.length===0)return null;const S=a?.dateField||"date",O=e[0]?.[S]||e[0]?.date;if(!O)return null;const T=[{format:"%Y-%m-%d",parser:Fr("%Y-%m-%d")},{format:"%m/%d/%Y",parser:Fr("%m/%d/%Y")},{format:"%d/%m/%Y",parser:Fr("%d/%m/%Y")},{format:"%b %d, %Y",parser:Fr("%b %d, %Y")},{format:"%B %d, %Y",parser:Fr("%B %d, %Y")},{format:"%Y-%m",parser:Fr("%Y-%m")},{format:"%Y",parser:Fr("%Y")},{format:"%Y-W%U",parser:Fr("%Y-W%U")},{format:"%Y-%m-%d %H",parser:Fr("%Y-%m-%d %H")},{format:"%m-%d-%Y",parser:Fr("%m-%d-%Y")},{format:"%d-%m-%Y",parser:Fr("%d-%m-%Y")}];for(const{format:W,parser:F}of T){const U=F(O);if(U&&!isNaN(U.getTime()))return{format:W,parser:F}}return/^\d{4}-\d{2}-\d{2}$/.test(O)?{format:"iso",parser:W=>new Date(W+"T00:00:00")}:{format:"native",parser:W=>new Date(W)}},[e,a?.dateField]),z=C.useMemo(()=>{const S=b?.aggregationLevel;if(!(S&&S!=="day"&&e&&e.length>0))return e;try{return cj(e,b?.dateField||"date",r,S,b?.aggregationMethod||"sum",b?.fiscalYearStartMonth||1)}catch(T){return console.warn("Aggregation failed, using original data:",T),e}},[e,r,b?.aggregationLevel,b?.aggregationMethod,b?.fiscalYearStartMonth,b?.dateField]);return C.useEffect(()=>{if(!e||e.length===0||!p.current)return;xn(p.current).selectAll("*").remove();const S={...lj,...b},O=S.userTier!=="pro"?50:0,{width:T,height:W,marginTop:F,marginRight:U,marginBottom:H,marginLeft:I,backgroundColor:N,darkMode:P,fontFamily:M,titleFontSize:A,subtitleFontSize:G,titleAlignment:te,lineThickness:ee,lineStyle:w,lineOpacity:ze,smoothLines:ve,lineSaturation:re,showPoints:ae,pointSize:le,pointStyle:_,pointBorderWidth:Y,excludeZeroValues:se,showAreaFill:ue,areaOpacity:be,areaGradient:de,emphasizedLines:Ee,emphasizedLineThickness:ke,emphasizedPointSize:K,compactNumbers:Ce,showDirectLabels:q,labelFontSize:D,directLabelFontSize:ne,showXAxis:J,showYAxis:me,xAxisLabelRotation:ye,yAxisFormat:Ue,xAxisFontSize:_e,xAxisSecondaryFontSize:Qe,yAxisFontSize:bt,axisLabel:ft,axisLabelFontSize:vt,axisMinimum:ln,axisMinimumAuto:$t,axisMaximum:Yt,axisMaximumAuto:kt,axisMajorUnit:Bt,axisMajorUnitAuto:lt,axisMinorUnit:tn,axisMinorUnitAuto:fn,calculatedAxisMinimum:Gt,calculatedAxisMaximum:nn,calculatedAxisMajorUnit:vn,axisMajorTickType:hn,axisMinorTickType:bn,showGridLines:Fn,gridDirection:wt,gridLineColor:Vt,gridLineStyle:Nn,gridLineOpacity:_n,showHorizontalGridlines:rn,showVerticalGridlines:Mn,compactAxisNumbers:In,valuePrefix:Bn,valueSuffix:cr,valueDecimalPlaces:Ln,valueFormat:Gn,showLegend:Fe,legendPosition:Ge,legendFontSize:Ze,aggregationLevel:ct,aggregationMethod:Lt,fiscalYearStartMonth:ht,xAxisTimeGrouping:Pt,xAxisLabelLevels:He,dateRangeFilter:rt,dateField:Je,xAxisPrimaryLabel:ut,xAxisSecondaryLabel:et,dateFormatPreset:Rt,dateFormatCustom:Ft,emphasizedPoints:xt,emphasizedMetric:Nt,emphasisLabelPosition:kn,emphasisLabelFontSize:cn,showEmphasisDate:ar,showEmphasisVerticalLine:Xt,emphasisCompactNumbers:ur,emphasisValuePrefix:L,emphasisValueSuffix:fe,emphasisDecimalPlaces:ie}=S;let Ie=U;if(q&&r&&r.length>0){const oe=r.reduce((Me,Le)=>Le.length>Me.length?Le:Me,""),Ne=ne||14,Oe=10+oe.length*Ne*.6+20;Ie=Math.max(U,Oe)}const $e={titleColor:P?"#f9fafb":"#111827",subtitleColor:P?"#d1d5db":"#6b7280",axisColor:P?"#e5e7eb":"#374151",gridColor:P?"#4b5563":Vt},Ot=W+O,jt=xn(p.current).attr("width",T).attr("height",Ot).style("background-color",N),zt=S.title?A:0,Wt=S.subtitle?G:0,Mt=S.title&&S.subtitle?5:0,on=S.title||S.subtitle?20:0,Kt=zt+Mt+Wt+on;if(S.title){const oe=te==="center"?T/2:I,Ne=te==="center"?"middle":"start";jt.append("text").attr("x",oe).attr("y",30).attr("text-anchor",Ne).attr("font-family",M).attr("font-size",zt+"px").attr("font-weight","700").attr("fill",$e.titleColor).text(S.title)}if(S.subtitle){const oe=te==="center"?T/2:I,Ne=te==="center"?"middle":"start";jt.append("text").attr("x",oe).attr("y",30+zt+Mt).attr("text-anchor",Ne).attr("font-family",M).attr("font-size",Wt+"px").attr("font-weight","400").attr("fill",$e.subtitleColor).text(S.subtitle)}const _t=jt.append("g").attr("transform",`translate(${I},${F+Kt})`),Tr=T-I-Ie,Tn=W-F-H-Kt,zr=P0[S.timeScale]||P0.day;Ef(zr.format);const Pn=z.map(oe=>{const Ne=oe[Je]||oe.date;if(!Ne)return console.warn("Row missing date value:",oe),null;let pe=null;return j&&(pe=j.parser(Ne)),(!pe||isNaN(pe.getTime()))&&(/^\d{4}-\d{2}-\d{2}$/.test(Ne)?pe=new Date(Ne+"T00:00:00"):pe=new Date(Ne)),!pe||isNaN(pe.getTime())?(console.warn("Could not parse date value:",Ne),null):{...oe,parsedDate:pe}}).filter(oe=>oe!==null);let jn=Pn;if(rt&&(rt[0]!==0||rt[1]!==100)){const oe=[...Pn].sort((Me,Le)=>Me.parsedDate-Le.parsedDate),Ne=oe.length,pe=Math.floor(rt[0]/100*Ne),Oe=Math.ceil(rt[1]/100*Ne);jn=oe.slice(pe,Oe)}const mt=r.flatMap(oe=>jn.map(Ne=>Ne[oe]).filter(Ne=>Ne!=null)),qe=CC().domain(Gy(jn,oe=>oe.parsedDate)).range([0,Tr]).nice();let Yn,Jn;$t?(Yn=0,S.setCalculatedAxisMinimum&&S.setCalculatedAxisMinimum(Yn)):Yn=ln,kt?(Jn=Do(mt)||100,S.setCalculatedAxisMaximum&&S.setCalculatedAxisMaximum(Jn)):Jn=Yt;const Ct=Br().domain([Yn,Jn]).range([Tn,0]);$t&&kt&&Ct.nice();const or=ve&&Pn.length<=500?ul().x(oe=>qe(oe.parsedDate)).y((oe,Ne)=>Ct(oe[Ne])).curve(p0.alpha(.5)):ul().x(oe=>qe(oe.parsedDate)).y((oe,Ne)=>Ct(oe[Ne])),At=ut&&ut!=="auto"?ut:ct,ce=et&&et!=="auto"?et:(function(){return At==="date"||At==="day"||At==="week"?"month":At==="month"?"quarter":At==="quarter"?"year":"none"})();let je;At==="date"||At==="day"||At==="week"||At==="month"?je=jn.map(oe=>oe.parsedDate):je=qe.ticks(6);const B=rn!==void 0?rn:Fn&&(wt==="horizontal"||wt==="both"),De=Mn!==void 0?Mn:Fn&&(wt==="vertical"||wt==="both");if(B||De){const oe=_t.append("g").attr("class","grid"),Ne=Nn==="dashed"?"5,5":Nn==="dotted"?"1,3":"none";B&&oe.selectAll(".grid-horizontal").data(Ct.ticks()).enter().append("line").attr("class","grid-horizontal").attr("x1",0).attr("x2",Tr).attr("y1",pe=>Ct(pe)).attr("y2",pe=>Ct(pe)).attr("stroke",$e.gridColor).attr("stroke-width",1).attr("stroke-dasharray",Ne).attr("opacity",_n),De&&oe.selectAll(".grid-vertical").data(je).enter().append("line").attr("class","grid-vertical").attr("x1",pe=>qe(pe)).attr("x2",pe=>qe(pe)).attr("y1",0).attr("y2",Tn).attr("stroke",$e.gridColor).attr("stroke-width",1).attr("stroke-dasharray",Ne).attr("opacity",_n)}if(J){const oe=Id(qe).ticks(6),Ne=_t.append("g").attr("class","x-axis").attr("transform",`translate(0,${Tn})`).call(oe);Ne.selectAll("text").remove(),Ne.selectAll(".tick line").remove();const pe=je,Oe=Re=>{const at=new Date(Re),nt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Xe=at.getFullYear();return ce==="week"?`Week ${qc(Re).week}`:ce==="month"?`${nt[at.getMonth()]} ${String(Xe).slice(-2)}`:ce==="quarter"?`Q${Xc(Re,ht||1).quarter} ${String(Xe).slice(-2)}`:ce==="year"?String(Xe):null},Me=[];let Le=null;if(pe.forEach((Re,at)=>{const nt=qe(Re),Xe=ce!=="none"?Oe(Re):null;if(Xe!==Le?.label){if(Le){const tt=at>0?(nt+qe(pe[at-1]))/2:nt;Le.endX=tt,Me.push(Le)}const ot=at===0?0:at>0?(nt+qe(pe[at-1]))/2:nt;Le={label:Xe,startX:ot,ticks:[Re]}}else Le.ticks.push(Re)}),Le){const Re=pe[pe.length-1],at=qe(Re),nt=pe.length>1?qe(pe[pe.length-1])-qe(pe[pe.length-2]):0;Le.endX=Math.min(Tr,at+nt/2),Me.push(Le)}if((He===2||He===void 0)&&ce!=="none"){Me.forEach((at,nt)=>{if(!at.label)return;const Xe=at.endX-at.startX,ot=at.startX+Xe/2;Ne.append("text").attr("x",ot).attr("y",61).attr("text-anchor","middle").attr("font-family",M).attr("font-size",`${Qe||12}px`).attr("font-weight","400").attr("fill",$e.axisColor).text(at.label),nt>0&&_t.append("line").attr("class","major-tick").attr("x1",at.startX).attr("x2",at.startX).attr("y1",Tn).attr("y2",Tn+12).attr("stroke",$e.axisColor).attr("stroke-width",2)});let Re="";ce==="week"?Re="Week":ce==="month"?Re="Month":ce==="quarter"?Re="Quarter":ce==="year"&&(Re="Year"),Re&&Ne.append("text").attr("x",-10).attr("y",61).attr("text-anchor","end").attr("font-family",M).attr("font-size",`${Qe||12}px`).attr("font-weight","400").attr("fill",$e.axisColor).text(Re)}pe.forEach((Re,at)=>{const nt=F0(Re,ct||"day",ht||1),Xe=qe(Re);let ot;const tt=new Date(Re);if(At==="date"){const pt=Ft||Rt||"MM/dd/yy";try{ot=L0(tt,pt)}catch(Dt){console.warn("Invalid date format:",pt,Dt),ot=L0(tt,"MM/dd/yy")}}else if(At==="day")ot=String(tt.getDate());else if(At==="week"){const pt=qc(Re);ot=String(pt.week)}else if(At==="month")ot=String(tt.getMonth()+1);else if(At==="quarter"){const pt=Xc(Re,ht||1);ot=String(pt.quarter)}else At==="year"?ot=String(tt.getFullYear()):ot=nt.primary;_t.append("line").attr("class","minor-tick").attr("x1",Xe).attr("x2",Xe).attr("y1",Tn).attr("y2",Tn+6).attr("stroke",$e.axisColor).attr("stroke-width",1).style("opacity",.6),Ne.append("text").attr("x",Xe).attr("y",29).attr("text-anchor","middle").attr("font-family",M).attr("font-size",`${_e||12}px`).attr("font-weight","400").attr("fill",$e.axisColor).text(ot)});let Te="";At==="date"?Te="Date":At==="day"?Te="Day":At==="week"?Te="Week":At==="month"?Te="Month":At==="quarter"?Te="Q":At==="year"&&(Te="Year"),Te&&Ne.append("text").attr("x",-10).attr("y",29).attr("text-anchor","end").attr("font-family",M).attr("font-size",`${_e||12}px`).attr("font-weight","400").attr("fill",$e.axisColor).text(Te),Ne.selectAll("line, path").attr("stroke",$e.axisColor)}if(me){let oe;if(lt){oe=6;const Me=(Jn-Yn)/oe;S.setCalculatedAxisMajorUnit&&S.setCalculatedAxisMajorUnit(Me)}else oe=Math.max(1,Math.floor((Jn-Yn)/Bt));const Ne=Me=>{let Le=Me;if(Ln!==void 0&&(Le=Number(Le).toFixed(Ln)),Gn==="percentage")Le=`${Le}%`;else if(In){const Te=Math.abs(Me),Re=Me<0?"-":"";Te>=1e9?Le=`${Re}${(Te/1e9).toFixed(Te%1e9===0?0:1)}B`:Te>=1e6?Le=`${Re}${(Te/1e6).toFixed(Te%1e6===0?0:1)}M`:Te>=1e3?Le=`${Re}${(Te/1e3).toFixed(Te%1e3===0?0:1)}K`:Le=Me.toLocaleString()}else Le=Me.toLocaleString();return`${Bn||""}${Le}${cr||""}`},pe=Bd(Ct).ticks(oe).tickFormat(Ne);hn==="none"?pe.tickSize(0):hn==="inside"?pe.tickSize(6):hn==="outside"?pe.tickSize(-6):hn==="cross"&&pe.tickSize(12);const Oe=_t.append("g").attr("class","y-axis").call(pe);if(Oe.selectAll("text").attr("fill",$e.axisColor).attr("font-family",M).attr("font-size",`${bt||12}px`).attr("dx","-0.5em"),Oe.selectAll("line, path").attr("stroke",$e.axisColor),bn!=="none"&&!fn){const Me=[];for(let Te=Yn;Te<=Jn;Te+=tn)pe.scale().ticks(oe).some(at=>Math.abs(at-Te)<.001)||Me.push(Te);const Le=bn==="inside"?3:bn==="outside"?-3:bn==="cross"?6:0;Oe.selectAll(".minor-tick").data(Me).enter().append("line").attr("class","minor-tick").attr("x1",bn==="cross"?-3:0).attr("x2",Le).attr("y1",Te=>Ct(Te)).attr("y2",Te=>Ct(Te)).attr("stroke",$e.axisColor).attr("stroke-width",.5).style("opacity",.5)}ft&&_t.append("text").attr("x",10).attr("y",0).attr("text-anchor","start").attr("dy","0.32em").attr("font-family",M).attr("font-size",`${vt||14}px`).attr("font-weight",400).attr("fill",$e.axisColor).text(ft)}if(r.forEach((oe,Ne)=>{const pe=Ee.includes(oe),Oe=Nt===oe,Me=Nt&&Nt!==oe;let Le=E0(oe,Ne,S,Kn);if(Me){const Pe=Pa(Le);if(Pe){const Ae=Rc(Pe);Ae.s=Ae.s*.2,Ae.l=Ae.l*.9,Le=Ae.toString()}}const Te=jn.filter(Pe=>{const Ae=Pe[oe];return!(Ae==null||se&&Ae===0)});if(ue){const Pe=_C().x(Ae=>qe(Ae.parsedDate)).y0(Tn).y1(Ae=>Ct(Ae[oe]));if(ve&&Pe.curve(p0.alpha(.5)),de){const Ae=`area-gradient-${Ne}`,yt=jt.append("defs").append("linearGradient").attr("id",Ae).attr("x1","0%").attr("x2","0%").attr("y1","0%").attr("y2","100%");yt.append("stop").attr("offset","0%").attr("stop-color",Le).attr("stop-opacity",be),yt.append("stop").attr("offset","100%").attr("stop-color",Le).attr("stop-opacity",0),_t.append("path").datum(Te).attr("class",`area-${Ne}`).attr("d",Pe).attr("fill",`url(#${Ae})`)}else _t.append("path").datum(Te).attr("class",`area-${Ne}`).attr("d",Pe).attr("fill",Le).attr("opacity",be)}const Re=or.y(Pe=>Ct(Pe[oe])),at=w==="dashed"?"8,4":w==="dotted"?"2,4":"none",nt=Oe||pe?ke:ee;_t.append("path").datum(Te).attr("class",`line-${Ne}`).attr("fill","none").attr("stroke",Le).attr("stroke-width",nt).attr("stroke-dasharray",at).attr("stroke-linecap","round").attr("stroke-linejoin","round").attr("opacity",ze).attr("d",Re).style("cursor","pointer").on("mouseenter",()=>m(oe)).on("mouseleave",()=>m(null)).on("click",()=>i&&i(oe,Ne)),Xt&&xt&&xt.length>0&&xt.forEach(Pe=>{if(Pe.metric!==oe)return;const Ae=jn[Pe.index];if(Ae&&Ae[oe]!=null){const yt=qe(Ae.parsedDate),Qt=Ct(Ae[oe]);_t.append("line").attr("x1",yt).attr("x2",yt).attr("y1",Tn).attr("y2",Qt).attr("stroke","#9ca3af").attr("stroke-width",2).attr("stroke-dasharray","none").attr("opacity",.7).style("pointer-events","none")}});const Xe=Te.length>200,tt=Te.length>500?!1:ae;let pt;if(!tt&&!pe)pt=Te.map((Pe,Ae)=>({...Pe,_originalIdx:Ae})).filter(Pe=>xt&&xt.some(yt=>yt.metric===oe&&yt.index===Pe._originalIdx));else if(Xe&&!pe&&tt){const Pe=Te.length>500?5:3;pt=Te.map((Ae,yt)=>({...Ae,_originalIdx:yt})).filter((Ae,yt,Qt)=>yt===0||yt===Qt.length-1||xt&&xt.some(Jt=>Jt.metric===oe&&Jt.index===Ae._originalIdx)?!0:yt%Pe===0)}else pt=Te.map((Pe,Ae)=>({...Pe,_originalIdx:Ae}));const Dt=new Set((xt||[]).filter(Pe=>Pe.metric===oe).map(Pe=>Pe.index));if(_t.selectAll(`.point-${Ne}`).data(pt).enter().append("circle").attr("class",(Pe,Ae)=>`point-${Ne} point-${oe}-${Ae}`).attr("data-metric",oe).attr("data-index",Pe=>Pe._originalIdx).attr("cx",Pe=>qe(Pe.parsedDate)).attr("cy",Pe=>Ct(Pe[oe])).attr("r",Pe=>{const Ae=Dt.has(Pe._originalIdx),yt=pe?K:le;return Ae?yt+1:yt}).attr("fill",Pe=>{const Ae=xt&&xt.find(yt=>yt.metric===oe&&yt.index===Pe._originalIdx);return Ae&&Ae.customPointStyle?Ae.customPointStyle==="filled"?Le:"white":_==="filled"?Le:"white"}).attr("stroke",Le).attr("stroke-width",Pe=>{const Ae=xt&&xt.find(qt=>qt.metric===oe&&qt.index===Pe._originalIdx);if(Ae&&Ae.customPointStyle)return Ae.customPointStyle==="outlined"?Y:2;const yt=Dt.has(Pe._originalIdx),Qt=_==="outlined"?Y:0;return yt?Math.max(Qt,2):Qt}).attr("opacity",Pe=>tt||Dt.has(Pe._originalIdx)?1:0).style("cursor",Xe?"default":"pointer").each(function(Pe){xn(this).on("click",Ae=>{Ae.stopPropagation(),c&&c(oe,{...Pe,_pointIndex:Pe._originalIdx})})}),xt&&xt.length>0&&xt.forEach(Pe=>{if(Pe.metric!==oe)return;const Ae=Te[Pe.index];if(Ae){const yt=qe(Ae.parsedDate),Qt=Ct(Ae[oe]),qt=ar?cn+(cn-2)+2:cn,mn=kn==="below"?20:-(qt+8),Rn=Pe.labelOffsetX!==void 0?yt+Pe.labelOffsetX:yt,Qr=Pe.labelOffsetY!==void 0?Qt+Pe.labelOffsetY:Qt+mn;let qr=Ae[oe],dr;if(ur){const wn=Math.abs(qr),fr=qr<0?"-":"",On=ie??1;wn>=1e9?dr=`${fr}${(wn/1e9).toFixed(On)}B`:wn>=1e6?dr=`${fr}${(wn/1e6).toFixed(On)}M`:wn>=1e3?dr=`${fr}${(wn/1e3).toFixed(On)}K`:dr=qr.toLocaleString("en-US",{minimumFractionDigits:ie??0,maximumFractionDigits:ie??0})}else dr=qr.toLocaleString("en-US",{minimumFractionDigits:ie??0,maximumFractionDigits:ie??0});dr=`${L||""}${dr}${fe||""}`;const Ar=_t.append("g").attr("transform",`translate(${Rn}, ${Qr})`).style("cursor","move").style("user-select","none");if(Ar.append("text").attr("x",0).attr("y",0).attr("text-anchor","middle").attr("font-family",M).attr("font-size",cn).attr("font-weight","600").attr("fill",P?"#f9fafb":"#111827").text(dr),ar&&Ae.parsedDate){const fr=F0(Ae.parsedDate,ct||"day",ht||1).primary;Ar.append("text").attr("x",0).attr("y",cn+2).attr("text-anchor","middle").attr("font-family",M).attr("font-size",cn-2).attr("font-weight","400").attr("fill",P?"#d1d5db":"#6b7280").text(fr)}const Xr=X1().on("start",function(wn){xn(this).raise().attr("opacity",.7)}).on("drag",function(wn){xn(this).attr("transform",`translate(${wn.x}, ${wn.y})`)}).on("end",function(wn){xn(this).attr("opacity",1);const fr=wn.x-yt,On=wn.y-Qt;h&&h(Pe.metric,Pe.index,fr,On)});Ar.call(Xr)}}),q&&Te.length>0){const Pe=Te[Te.length-1],Ae=qe(Pe.parsedDate),yt=Ct(Pe[oe]);_t.append("text").attr("x",Ae+10).attr("y",yt).attr("dy","0.35em").attr("font-family",M).attr("font-size",ne||14).attr("font-weight",700).attr("fill",Le).text(oe).style("cursor","pointer").on("click",function(Qt){Qt.stopPropagation(),u&&u(oe)})}}),Fe&&Ge==="top"){const oe=jt.append("g").attr("class","legend").attr("transform",`translate(${I},${F+Kt-30})`),Ne=120;r.forEach((pe,Oe)=>{const Me=E0(pe,Oe,S,Kn),Le=Oe*Ne,Te=oe.append("g").attr("transform",`translate(${Le}, 0)`).style("cursor","pointer").on("click",function(Re){Re.stopPropagation(),u&&u(pe)});Te.append("line").attr("x1",0).attr("x2",20).attr("y1",0).attr("y2",0).attr("stroke",Me).attr("stroke-width",2),Te.append("text").attr("x",25).attr("y",0).attr("dy","0.35em").attr("font-family",M).attr("font-size",Ze).attr("fill",$e.titleColor).text(pe)})}if(S.userTier!=="pro"){const oe="Made with Find&Tell | Charts for Data Stories | FindandTell.co",pe=W+O/2+5;jt.append("a").attr("href","https://findandtell.co").attr("target","_blank").attr("rel","noopener noreferrer").append("text").attr("x",T/2).attr("y",pe).attr("text-anchor","middle").attr("font-family",M).attr("font-size","14px").attr("font-weight","500").attr("fill","#1e3a8a").attr("opacity",1).style("cursor","pointer").text(oe).on("mouseover",function(){xn(this).attr("fill","#0891b2")}).on("mouseout",function(){xn(this).attr("fill","#1e3a8a")})}return()=>{p.current&&xn(p.current).selectAll("*").on(".drag",null).on("click",null).on("mouseenter",null).on("mouseleave",null)}},[z,r,b,i,c,u,h]),o.jsx("div",{className:"line-chart-container",children:o.jsx("svg",{ref:p})})},tg=fl.memo(uj),dj={funnel:{name:"Funnel Chart",component:Bp,icon:"",description:"Visualize conversion funnels and drop-offs",supportsComparison:!0,category:"flow",defaultSettings:{orientation:"vertical",emphasis:"throughput"}},slope:{name:"Slope Chart",component:Yp,icon:"",description:"Show change between two time periods",supportsComparison:!1,category:"comparison",defaultSettings:{colorMode:"category",labelPosition:"left",lineThickness:3}},bar:{name:"Bar Chart",component:Qp,icon:"",description:"Compare values across categories",supportsComparison:!0,category:"comparison",defaultSettings:{orientation:"vertical",barMode:"grouped",showGrid:!0}},line:{name:"Line Chart",component:tg,icon:"",description:"Visualize time-series data and trends",supportsComparison:!0,category:"trend",defaultSettings:{showPoints:!0,smoothLines:!1,showGridLines:!0,timeScale:"month"}}},fj=e=>dj[e]||null,ng=async(e,r="chart.png",a=2)=>{try{await document.fonts.ready;const i=e.cloneNode(!0);let c=i.querySelector("defs");c||(c=document.createElementNS("http://www.w3.org/2000/svg","defs"),i.firstChild?i.insertBefore(c,i.firstChild):i.appendChild(c));let u=c.querySelector("style");u||(u=document.createElementNS("http://www.w3.org/2000/svg","style"),c.appendChild(u));const h="@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Montserrat:wght@300;400;500;600;700;800&family=Open+Sans:wght@300;400;500;600;700;800&family=Roboto:wght@300;400;500;700;900&family=Roboto+Condensed:wght@300;400;700&family=Open+Sans+Condensed:wght@300;700&family=Lato:wght@300;400;700;900&family=Merriweather:wght@300;400;700;900&family=Playfair+Display:wght@400;500;600;700;800;900&family=Lora:wght@400;500;600;700&family=PT+Serif:wght@400;700&family=Economica:wght@400;700&family=Newsreader:opsz,wght@6..72,400;6..72,500;6..72,600;6..72,700&display=swap');";u.textContent=h+(u.textContent||"");const p=new XMLSerializer().serializeToString(i),x=document.createElement("canvas"),m=x.getContext("2d"),y=new Image,v=e.width?.baseVal?.value||e.getBoundingClientRect().width,b=e.height?.baseVal?.value||e.getBoundingClientRect().height;x.width=v*a,x.height=b*a;const d=new Blob([p],{type:"image/svg+xml;charset=utf-8"}),j=URL.createObjectURL(d);return new Promise((z,S)=>{y.onload=()=>{m.drawImage(y,0,0,x.width,x.height),x.toBlob(O=>{if(!O){S(new Error("Failed to create PNG blob"));return}const T=document.createElement("a");T.download=r,T.href=URL.createObjectURL(O),T.click(),URL.revokeObjectURL(T.href),URL.revokeObjectURL(j),z()},"image/png",1)},y.onerror=O=>{URL.revokeObjectURL(j),S(new Error("Failed to load SVG image: "+O))},y.src=j})}catch(i){throw console.error("Export PNG failed:",i),i}},rg=(e,r="chart.svg")=>{try{const a=e.cloneNode(!0),i=e.width?.baseVal?.value||e.getBoundingClientRect().width,c=e.height?.baseVal?.value||e.getBoundingClientRect().height;a.hasAttribute("viewBox")||a.setAttribute("viewBox",`0 0 ${i} ${c}`),a.hasAttribute("preserveAspectRatio")||a.setAttribute("preserveAspectRatio","xMidYMid meet");let u=a.querySelector("defs");u||(u=document.createElementNS("http://www.w3.org/2000/svg","defs"),a.firstChild?a.insertBefore(u,a.firstChild):a.appendChild(u));let h=u.querySelector("style");h||(h=document.createElementNS("http://www.w3.org/2000/svg","style"),u.appendChild(h));const p="@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Montserrat:wght@300;400;500;600;700;800&family=Open+Sans:wght@300;400;500;600;700;800&family=Roboto:wght@300;400;500;700;900&family=Roboto+Condensed:wght@300;400;700&family=Open+Sans+Condensed:wght@300;700&family=Lato:wght@300;400;700;900&family=Merriweather:wght@300;400;700;900&family=Playfair+Display:wght@400;500;600;700;800;900&family=Lora:wght@400;500;600;700&family=PT+Serif:wght@400;700&family=Economica:wght@400;700&family=Newsreader:opsz,wght@6..72,400;6..72,500;6..72,600;6..72,700&display=swap');";h.textContent=p+(h.textContent||"");const x=new XMLSerializer().serializeToString(a),m=new Blob([x],{type:"image/svg+xml;charset=utf-8"}),y=URL.createObjectURL(m),v=document.createElement("a");return v.download=r,v.href=y,v.click(),URL.revokeObjectURL(y),!0}catch(a){return console.error("Failed to export SVG:",a),!1}},hj=(e,r)=>{const{name:a,chartType:i}=r,c={...e,metadata:{name:a||"Untitled Style",description:"",chartType:i||"slope",createdDate:new Date().toISOString(),author:"User"}},u=JSON.stringify(c,null,2),h=new Blob([u],{type:"application/json"}),p=URL.createObjectURL(h),x=document.createElement("a");x.href=p;const m=new Date().toISOString().split("T")[0],y=a.replace(/[^a-z0-9]/gi,"-").replace(/-+/g,"-").toLowerCase();x.download=`${y}-${i}-style-${m}.json`,document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(p)},mj=e=>new Promise((r,a)=>{const i=new FileReader;i.onload=c=>{try{const u=c.target.result,h=JSON.parse(u);if(!h.styleVersion){a(new Error("Invalid style file: missing styleVersion"));return}r(h)}catch(u){a(new Error("Failed to parse style file: "+u.message))}},i.onerror=()=>{a(new Error("Failed to read file"))},i.readAsText(e)}),pj=(e,r)=>!e||e.trim()===""?`${r}-chart-style`:e,ag={financialTimes:{id:"financialTimes",name:"Financial Times",description:"Classic FT style with salmon pink background and serif typography",preview:"/templates/ft-preview.png",settings:{typography:{fontFamily:"Georgia",titleFontSize:28,subtitleFontSize:16,segmentLabelFontSize:18,metricLabelFontSize:16,legendFontSize:14},visual:{backgroundColor:"#FFF1E5",darkMode:!1,axisLineWidth:2},layout:{chartPadding:30,stageGap:12,barWidth:110},display:{showLegend:!0,legendPosition:"direct",compactNumbers:!0,showMetricLabels:!0,metricLabelPosition:"outside"},colors:{comparisonPalette:"user",userCustomColors:["#990f3d","#262a33","#0d7680","#9e2f50","#00994d","#cc8f00","#593380"],colorTransition:70}}},economist:{id:"economist",name:"The Economist",description:"Clean Economist style with bold red accents and Econ Sans typeface",preview:"/templates/economist-preview.png",settings:{typography:{fontFamily:"Arial",titleFontSize:26,subtitleFontSize:15,segmentLabelFontSize:17,metricLabelFontSize:15,legendFontSize:13},visual:{backgroundColor:"#ffffff",darkMode:!1,axisLineWidth:2},layout:{chartPadding:25,stageGap:10,barWidth:95},display:{showLegend:!0,legendPosition:"direct",compactNumbers:!0,showMetricLabels:!0,metricLabelPosition:"outside"},colors:{comparisonPalette:"user",userCustomColors:["#e3120b","#1e3d59","#00a97f","#d4af37","#7c8b99","#c20019"],colorTransition:65}}},nyt:{id:"nyt",name:"New York Times",description:"NYT Upshot style with Helvetica and clean visualization design",preview:"/templates/nyt-preview.png",settings:{typography:{fontFamily:"Helvetica",titleFontSize:27,subtitleFontSize:16,segmentLabelFontSize:18,metricLabelFontSize:16},visual:{backgroundColor:"#ffffff",darkMode:!1},colors:{comparisonPalette:"user",userCustomColors:["#507EA4","#F3B61F","#A1A1A1","#71B6D6","#D8622E","#6F9E1F"]}}},wsj:{id:"wsj",name:"Wall Street Journal",description:"WSJ style with dot pattern aesthetic and classic typography",preview:"/templates/wsj-preview.png",settings:{typography:{fontFamily:"Georgia",titleFontSize:27,subtitleFontSize:15,segmentLabelFontSize:17,metricLabelFontSize:15},visual:{backgroundColor:"#f4f0e8",darkMode:!1},colors:{comparisonPalette:"user",userCustomColors:["#0f4c81","#cc0000","#008c95","#f37021","#7c7c7c","#006341"]}}},bbc:{id:"bbc",name:"BBC News",description:"BBC style with Reith Sans typography and clean presentation",preview:"/templates/bbc-preview.png",settings:{typography:{fontFamily:"Helvetica",titleFontSize:28,subtitleFontSize:16,segmentLabelFontSize:18,metricLabelFontSize:16},visual:{backgroundColor:"#ffffff",darkMode:!1},colors:{comparisonPalette:"user",userCustomColors:["#b80000","#005580","#e05206","#83b81a","#640064","#8f8f8f"]}}},guardian:{id:"guardian",name:"The Guardian",description:"Guardian style with Egyptian typography and blue accents",preview:"/templates/guardian-preview.png",settings:{typography:{fontFamily:"Georgia",titleFontSize:29,subtitleFontSize:17,segmentLabelFontSize:19,metricLabelFontSize:17},visual:{backgroundColor:"#ffffff",darkMode:!1},colors:{comparisonPalette:"user",userCustomColors:["#052962","#c70000","#007abc","#ff7f0f","#00b2ff","#00a86b"]}}},tufte:{id:"tufte",name:"Edward Tufte",description:"Minimalist Tufte style emphasizing data-ink ratio and clarity",preview:"/templates/tufte-preview.png",settings:{typography:{fontFamily:"Newsreader",titleFontSize:29,subtitleFontSize:18,segmentLabelFontSize:19,metricLabelFontSize:16,legendFontSize:12},visual:{backgroundColor:"#ffffff",darkMode:!1,backgroundOpacity:0,axisLineWidth:1},layout:{chartPadding:20,stageGap:8,barWidth:85},display:{showLegend:!1,legendPosition:"direct",compactNumbers:!1,showMetricLabels:!0,metricLabelPosition:"outside"},colors:{comparisonPalette:"observable10",userCustomColors:["#000000","#999999","#cc0000","#333333"],colorTransition:30},slopeChart:{colorMode:"trend",increaseColor:"#000000",decreaseColor:"#000000",labelFormat:"value",lineThickness:1,endpointSize:1,endpointStyle:"filled",periodSpacing:165,slopeAxisLineColor:"transparent"}}},bloomberg:{id:"bloomberg",name:"Bloomberg",description:"Bloomberg terminal-inspired dark theme with high contrast",preview:"/templates/bloomberg-preview.png",settings:{typography:{fontFamily:"Arial",titleFontSize:26,subtitleFontSize:15,segmentLabelFontSize:17,metricLabelFontSize:15,legendFontSize:13},visual:{backgroundColor:"#000000",darkMode:!0,axisLineWidth:2},layout:{chartPadding:25,stageGap:10,barWidth:100},display:{showLegend:!0,legendPosition:"direct",compactNumbers:!0,showMetricLabels:!0,metricLabelPosition:"outside"},colors:{comparisonPalette:"user",userCustomColors:["#ff9500","#00a0d2","#00ff00","#ff0000","#ffff00","#9370db"],colorTransition:50}}},minimal:{id:"minimal",name:"Minimal",description:"Clean, minimal design with maximum readability",preview:"/templates/minimal-preview.png",settings:{typography:{fontFamily:"Inter",titleFontSize:28,subtitleFontSize:16,segmentLabelFontSize:18,metricLabelFontSize:16,legendFontSize:13},visual:{backgroundColor:"#ffffff",darkMode:!1,axisLineWidth:1},layout:{chartPadding:22,stageGap:8,barWidth:90},display:{showLegend:!0,legendPosition:"direct",compactNumbers:!0,showMetricLabels:!0,metricLabelPosition:"outside"},colors:{comparisonPalette:"monochrome",userCustomColors:["#111827","#6b7280","#d1d5db","#f3f4f6"],colorTransition:35}}},vibrant:{id:"vibrant",name:"Vibrant",description:"Bold, colorful design for presentations and social media",preview:"/templates/vibrant-preview.png",settings:{typography:{fontFamily:"Inter",titleFontSize:32,subtitleFontSize:18,segmentLabelFontSize:20,metricLabelFontSize:18,legendFontSize:15},visual:{backgroundColor:"#f8fafc",darkMode:!1,axisLineWidth:4},layout:{chartPadding:35,stageGap:14,barWidth:115},display:{showLegend:!0,legendPosition:"direct",compactNumbers:!0,showMetricLabels:!0,metricLabelPosition:"outside"},colors:{comparisonPalette:"user",userCustomColors:["#6366f1","#ec4899","#8b5cf6","#10b981","#f59e0b","#06b6d4","#ef4444"],colorTransition:90}}},wired:{id:"wired",name:"Wired Magazine",description:"Tech-forward style with bold sans-serif and vibrant accent colors",preview:"/templates/wired-preview.png",settings:{typography:{fontFamily:"Arial",titleFontSize:34,subtitleFontSize:18,segmentLabelFontSize:20,metricLabelFontSize:17,legendFontSize:14},visual:{backgroundColor:"#000000",darkMode:!0,axisLineWidth:3},layout:{chartPadding:28,stageGap:11,barWidth:105},display:{showLegend:!0,legendPosition:"direct",compactNumbers:!0,showMetricLabels:!0,metricLabelPosition:"outside"},colors:{comparisonPalette:"user",userCustomColors:["#00ff00","#ff006e","#00d9ff","#ffbe0b","#8338ec","#ff4800","#06ffa5"],colorTransition:85}}},vox:{id:"vox",name:"Vox Media",description:"Modern web journalism style with bold headlines and clear colors",preview:"/templates/vox-preview.png",settings:{typography:{fontFamily:"Helvetica",titleFontSize:32,subtitleFontSize:18,segmentLabelFontSize:19,metricLabelFontSize:17},visual:{backgroundColor:"#ffffff",darkMode:!1},colors:{comparisonPalette:"user",userCustomColors:["#f7da22","#000000","#ff5a5f","#3d5afe","#00c853","#ff6f00","#6200ea"]}}},corporate:{id:"corporate",name:"Corporate Professional",description:"Conservative business style with navy, grey, and professional typography",preview:"/templates/corporate-preview.png",settings:{typography:{fontFamily:"Arial",titleFontSize:26,subtitleFontSize:16,segmentLabelFontSize:17,metricLabelFontSize:15},visual:{backgroundColor:"#f5f7fa",darkMode:!1},colors:{comparisonPalette:"user",userCustomColors:["#1e3a8a","#475569","#0891b2","#65a30d","#ca8a04","#dc2626","#7c3aed"]}}},swiss:{id:"swiss",name:"Swiss Style",description:"International Typographic Style with grid-based layout and Helvetica",preview:"/templates/swiss-preview.png",settings:{typography:{fontFamily:"Helvetica",titleFontSize:30,subtitleFontSize:16,segmentLabelFontSize:18,metricLabelFontSize:16,legendFontSize:14},visual:{backgroundColor:"#ffffff",darkMode:!1,axisLineWidth:3},layout:{chartPadding:40,stageGap:15,barWidth:120},display:{showLegend:!0,legendPosition:"direct",compactNumbers:!0,showMetricLabels:!0,metricLabelPosition:"outside"},colors:{comparisonPalette:"user",userCustomColors:["#000000","#ff0000","#0000ff","#ffff00","#4d4d4d","#999999"],colorTransition:80}}},ibcs:{id:"ibcs",name:"IBCS Business Report",description:"Professional business reporting style inspired by IBCS standards - clean, grey-scale, data-focused",preview:"/templates/ibcs-preview.png",settings:{typography:{fontFamily:"Arial",titleFontSize:18,subtitleFontSize:14,segmentLabelFontSize:12,metricLabelFontSize:11,legendFontSize:11,directLabelFontSize:16},visual:{backgroundColor:"#ffffff",darkMode:!1,backgroundOpacity:0,axisLineWidth:1},layout:{chartPadding:20,stageGap:8,barWidth:90},display:{showLegend:!0,legendPosition:"above",compactNumbers:!0,showMetricLabels:!0,metricLabelPosition:"outside",xAxisLabelLevels:1},lineChart:{lineThickness:1,pointSize:2,showAreaFill:!1},colors:{comparisonPalette:"user",userCustomColors:["#4d4d4d","#808080","#b3b3b3","#666666","#999999","#cccccc","#595959","#737373"],colorTransition:30}}}},gj=()=>Object.values(ag).map(e=>({id:e.id,name:e.name,description:e.description,preview:e.preview})),xj=(e,r)=>{const a=ag[r];if(!a){console.error(`Template "${r}" not found`);return}const{settings:i}=a;i.typography&&(i.typography.fontFamily&&e.setFontFamily(i.typography.fontFamily),i.typography.titleFontSize&&e.setTitleFontSize(i.typography.titleFontSize),i.typography.subtitleFontSize&&e.setSubtitleFontSize(i.typography.subtitleFontSize),i.typography.segmentLabelFontSize&&e.setSegmentLabelFontSize(i.typography.segmentLabelFontSize),i.typography.metricLabelFontSize&&e.setMetricLabelFontSize(i.typography.metricLabelFontSize),i.typography.legendFontSize!==void 0&&e.setLegendFontSize(i.typography.legendFontSize),i.typography.directLabelFontSize!==void 0&&e.setDirectLabelFontSize(i.typography.directLabelFontSize)),i.visual&&(i.visual.backgroundColor!==void 0&&e.setBackgroundColor(i.visual.backgroundColor),i.visual.darkMode!==void 0&&e.setDarkMode(i.visual.darkMode),i.visual.backgroundOpacity!==void 0&&e.setBackgroundOpacity(i.visual.backgroundOpacity),i.visual.axisLineWidth!==void 0&&e.setAxisLineWidth(i.visual.axisLineWidth)),i.layout&&(i.layout.chartPadding!==void 0&&e.setChartPadding(i.layout.chartPadding),i.layout.stageGap!==void 0&&e.setStageGap(i.layout.stageGap),i.layout.barWidth!==void 0&&e.setBarWidth(i.layout.barWidth)),i.display&&(i.display.showLegend!==void 0&&e.setShowLegend(i.display.showLegend),i.display.legendPosition&&e.setLegendPosition(i.display.legendPosition),i.display.compactNumbers!==void 0&&e.setCompactNumbers(i.display.compactNumbers),i.display.showMetricLabels!==void 0&&e.setShowMetricLabels(i.display.showMetricLabels),i.display.metricLabelPosition&&e.setMetricLabelPosition(i.display.metricLabelPosition),i.display.xAxisLabelLevels!==void 0&&e.setXAxisLabelLevels(i.display.xAxisLabelLevels)),i.colors&&(i.colors.comparisonPalette&&e.setComparisonPalette(i.colors.comparisonPalette),i.colors.userCustomColors&&e.setUserCustomColors(i.colors.userCustomColors),i.colors.colorTransition!==void 0&&e.setColorTransition(i.colors.colorTransition)),i.lineChart&&(i.lineChart.lineThickness!==void 0&&e.setLineThickness(i.lineChart.lineThickness),i.lineChart.pointSize!==void 0&&e.setPointSize(i.lineChart.pointSize),i.lineChart.showAreaFill!==void 0&&e.setShowAreaFill(i.lineChart.showAreaFill)),i.slopeChart&&(i.slopeChart.colorMode!==void 0&&e.setColorMode(i.slopeChart.colorMode),i.slopeChart.increaseColor!==void 0&&e.setIncreaseColor(i.slopeChart.increaseColor),i.slopeChart.decreaseColor!==void 0&&e.setDecreaseColor(i.slopeChart.decreaseColor),i.slopeChart.labelFormat!==void 0&&e.setLabelFormat(i.slopeChart.labelFormat),i.slopeChart.lineThickness!==void 0&&e.setLineThickness(i.slopeChart.lineThickness),i.slopeChart.endpointSize!==void 0&&e.setEndpointSize(i.slopeChart.endpointSize),i.slopeChart.endpointStyle!==void 0&&e.setEndpointStyle(i.slopeChart.endpointStyle),i.slopeChart.periodSpacing!==void 0&&e.setPeriodSpacing(i.slopeChart.periodSpacing),i.slopeChart.slopeAxisLineColor!==void 0&&e.setSlopeAxisLineColor(i.slopeChart.slopeAxisLineColor))};function Er(e,r=100){let a,i,c;return function(...u){return c=u,a||(i=e.apply(this,u),a=!0,setTimeout(()=>{a=!1,c!==u&&(i=e.apply(this,c))},r)),i}}const yj=e=>{try{const r=e.match(/\/spreadsheets\/d\/([a-zA-Z0-9-_]+)/);if(!r)throw new Error("Invalid Google Sheets URL - could not find Sheet ID");const a=r[1],i=e.match(/[#&]gid=([0-9]+)/),c=i?i[1]:"0";return{sheetId:a,gid:c}}catch(r){throw new Error(`Failed to parse Google Sheets URL: ${r.message}`)}},vj=e=>{const{sheetId:r,gid:a}=yj(e);return`https://docs.google.com/spreadsheets/d/${r}/export?format=csv&gid=${a}`},bj=e=>{const r=e.split(`
`).filter(c=>c.trim());if(r.length<2)throw new Error("CSV must have at least a header row and one data row");const a=r[0].split(",").map(c=>c.trim().replace(/^"|"$/g,"")),i=[];for(let c=1;c<r.length;c++){const u=r[c].split(",").map(h=>h.trim().replace(/^"|"$/g,""));if(u.length===a.length){const h={};a.forEach((p,x)=>{const m=u[x];h[p]=isNaN(m)||m===""?m:parseFloat(m)}),i.push(h)}}return i},wj=async e=>{try{const r=vj(e),a=await fetch(r);if(!a.ok)throw a.status===404?new Error("Sheet not found. Make sure the sheet is publicly accessible (Anyone with the link can view)."):a.status===403?new Error('Access denied. Please set sheet sharing to "Anyone with the link can view".'):new Error(`Failed to load sheet (HTTP ${a.status})`);const i=await a.text();if(!i||i.trim().length===0)throw new Error("Sheet is empty or could not be loaded");const c=bj(i);if(c.length===0)throw new Error("No data rows found in sheet");return c}catch(r){throw console.error("Error loading Google Sheets data:",r),r}},Cj=e=>e.includes("docs.google.com/spreadsheets"),kj=()=>`To load data from Google Sheets:

1. Open your Google Sheet
2. Click "Share" button (top right)
3. Click "Change to anyone with the link"
4. Set permission to "Viewer"
5. Click "Done"
6. Copy the sheet URL and paste it here

Your data will remain view-only and secure.`,af="1.0",Dd=({chartType:e,chartData:r,styleSettings:a,name:i=""})=>{const c=i||`${e}-chart-${new Date().toISOString().split("T")[0]}`;return{version:af,chartType:e,timestamp:new Date().toISOString(),name:c,data:{csv:r.rawCSV||"",source:r.source||"unknown",googleSheetsUrl:r.googleSheetsUrl||null,periodNames:r.periodNames||[],stageCount:r.stageCount||0,periodCount:r.periodCount||0,isComparisonMode:r.isComparisonMode||!1},state:{hiddenPeriods:r.hiddenPeriods?Array.from(r.hiddenPeriods):[],emphasizedBars:a.emphasizedBars||[],emphasizedLines:a.emphasizedLines||[],selectedMetrics:a.selectedMetrics||[]},style:{theme:a.theme,darkMode:a.darkMode,backgroundColor:a.backgroundColor,canvasWidth:a.canvasWidth,canvasHeight:a.canvasHeight,chartWidth:a.chartWidth,chartHeight:a.chartHeight,chartPadding:a.chartPadding,title:a.title,subtitle:a.subtitle,titleFontSize:a.titleFontSize,subtitleFontSize:a.subtitleFontSize,titleAlignment:a.titleAlignment,fontFamily:a.fontFamily,segmentLabelFontSize:a.segmentLabelFontSize,metricLabelFontSize:a.metricLabelFontSize,periodLabelFontSize:a.periodLabelFontSize,comparisonPalette:a.comparisonPalette,userCustomColors:a.userCustomColors,barMode:a.barMode,labelMode:a.labelMode,legendPosition:a.legendPosition,directLabelContent:a.directLabelContent,orientation:a.orientation,showValueLabels:a.showValueLabels,showMetricLabels:a.showMetricLabels,showPeriodLabels:a.showPeriodLabels,metricLabelPosition:a.metricLabelPosition,periodLabelDisplay:a.periodLabelDisplay,barWidth:a.barWidth,stageGap:a.stageGap,percentChangeEnabled:a.percentChangeEnabled,percentChangeLabelFormat:a.percentChangeLabelFormat,percentChangeBracketDistance:a.percentChangeBracketDistance,showTotalLabels:a.showTotalLabels,boldTotal:a.boldTotal,metricEmphasis:a.metricEmphasis,normalizeToHundred:a.normalizeToHundred,compactNumbers:a.compactNumbers,showLegend:a.showLegend,inStageLabelFontSize:a.inStageLabelFontSize,colorMode:a.colorMode,singleColor:a.singleColor,lineColor:a.lineColor,showDots:a.showDots,dotSize:a.dotSize,lineWidth:a.lineWidth,leftLabelFontSize:a.leftLabelFontSize,rightLabelFontSize:a.rightLabelFontSize,headerLabelFontSize:a.headerLabelFontSize,timeScale:a.timeScale,aggregationLevel:a.aggregationLevel,aggregationMethod:a.aggregationMethod,fiscalYearStartMonth:a.fiscalYearStartMonth,lineStyle:a.lineStyle,showMarkers:a.showMarkers,markerSize:a.markerSize,showArea:a.showArea,areaOpacity:a.areaOpacity,showMovingAverage:a.showMovingAverage,movingAveragePeriod:a.movingAveragePeriod,movingAverageColor:a.movingAverageColor,baselines:a.baselines,showHorizontalGridlines:a.showHorizontalGridlines,showVerticalGridlines:a.showVerticalGridlines,axisMinimum:a.axisMinimum,axisMinimumAuto:a.axisMinimumAuto,axisMaximum:a.axisMaximum,axisMaximumAuto:a.axisMaximumAuto,axisMajorUnit:a.axisMajorUnit,axisMajorUnitAuto:a.axisMajorUnitAuto,axisMinorUnit:a.axisMinorUnit,axisMinorUnitAuto:a.axisMinorUnitAuto,axisMajorTickType:a.axisMajorTickType,axisMinorTickType:a.axisMinorTickType,xAxisFontSize:a.xAxisFontSize,yAxisFontSize:a.yAxisFontSize,axisLabel:a.axisLabel,axisLabelFontSize:a.axisLabelFontSize,xAxisLabelRotation:a.xAxisLabelRotation,compactAxisNumbers:a.compactAxisNumbers,valuePrefix:a.valuePrefix,valueSuffix:a.valueSuffix,valueDecimalPlaces:a.valueDecimalPlaces,valueFormat:a.valueFormat,userTier:a.userTier}}},jj=e=>{if(!e.version)throw new Error("Invalid chart state file: missing version");if(e.version!==af&&console.warn(`Chart state version mismatch: expected ${af}, got ${e.version}`),!["bar","funnel","slope","line"].includes(e.chartType))throw new Error(`Invalid chart type: ${e.chartType}`);if(!e.data||!e.data.csv)throw new Error("Invalid chart state: missing data");return{isValid:!0,version:e.version,chartType:e.chartType,name:e.name||"Untitled Chart",timestamp:e.timestamp,data:e.data,state:e.state||{},style:e.style||{}}},Rd=async(e,r,a,i)=>{try{return r(e.chartType),e.data.csv&&(await a.loadCSVText(e.data.csv),e.data.googleSheetsUrl&&(a.googleSheetsUrl=e.data.googleSheetsUrl)),e.state.hiddenPeriods&&e.state.hiddenPeriods.length>0&&a.setHiddenPeriods(new Set(e.state.hiddenPeriods)),Object.entries(e.style).forEach(([c,u])=>{const h=`set${c.charAt(0).toUpperCase()}${c.slice(1)}`,p=i[h];p&&typeof p=="function"&&p(u)}),e.state.emphasizedBars&&i.setEmphasizedBars&&i.setEmphasizedBars(e.state.emphasizedBars),e.state.emphasizedLines&&i.setEmphasizedLines&&i.setEmphasizedLines(e.state.emphasizedLines),e.state.selectedMetrics&&i.setSelectedMetrics&&i.setSelectedMetrics(e.state.selectedMetrics),{success:!0,message:"Chart loaded successfully"}}catch(c){return console.error("Error applying chart state:",c),{success:!1,message:c.message}}},_0=(e,r)=>{const a=new Date().toISOString().split("T")[0];return`${e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||r}-chart-${a}.json`};function Sj(){const[e,r]=C.useState(!1),[a,i]=C.useState(!1),[c,u]=C.useState(null),[h,p]=C.useState(null),[x,m]=C.useState(null),[y,v]=C.useState(!1);C.useEffect(()=>{const O=new URLSearchParams(window.location.search).get("mode");if(r(O==="addon"),O==="addon"){console.log("[DEBUG] Add-on Mode Initialized"),console.log("[DEBUG] window object keys:",Object.keys(window).filter(U=>U.includes("google")));let T=0;const W=20,F=()=>{if(T++,console.log(`[DEBUG] Checking for API (attempt ${T}/${W})...`),console.log("[DEBUG] window.googleSheetsAPI exists:",!!window.googleSheetsAPI),window.googleSheetsAPI){if(console.log("[DEBUG] Direct API detected!"),console.log("[DEBUG] API keys:",Object.keys(window.googleSheetsAPI)),window.googleSheetsAPI.test)try{const U=window.googleSheetsAPI.test();console.log("[DEBUG] API test result:",U)}catch(U){console.error("[DEBUG] API test failed:",U)}v(!0),i(!0),console.log("[DEBUG] Calling getUserInfo..."),window.googleSheetsAPI.getUserInfo((U,H)=>{!U&&H?(console.log("[DEBUG] User info received:",H),u(H.user),p(H.license)):console.error("[DEBUG] Error getting user info:",U)})}else console.log("[DEBUG] Direct API not available yet"),T<W?setTimeout(F,500):(console.error("[DEBUG] API not found after",W,"attempts"),alert("[ERROR] Google Sheets API was not injected. Cross-origin restriction may be blocking access."))};setTimeout(F,100)}},[]),C.useEffect(()=>{if(!e)return;const S=O=>{const T=O.data;switch(console.log("[Add-on Mode] Message received:",T),T.type){case"ADDON_READY":console.log("[Add-on Mode] Add-on is ready"),i(!0),b({type:"READY"});break;case"USER_INFO":console.log("[Add-on Mode] User info received"),u(T.data.user),p(T.data.license);break;case"SHEET_DATA":console.log("[Add-on Mode] Sheet data received:",T.data),m(T.data);break;case"INSERT_SUCCESS":console.log("[Add-on Mode] Chart inserted successfully with ID:",T.chartId),T.chartId&&alert(`Chart inserted successfully!

Chart ID: ${T.chartId}

Save this ID to edit the chart later using "Find&Tell Charts"  "Edit Chart by ID"`);break;default:console.log("[Add-on Mode] Unknown message type:",T.type)}};return window.addEventListener("message",S),()=>{window.removeEventListener("message",S)}},[e]);const b=C.useCallback(S=>{if(!e){console.warn("[Add-on Mode] Not in add-on mode, message not sent");return}console.log("[Add-on Mode] Sending message:",S),console.log("[Add-on Mode] window.parent:",window.parent),console.log("[Add-on Mode] Are we in iframe?:",window!==window.parent);try{window.parent.postMessage(S,"*"),console.log("[Add-on Mode] postMessage sent successfully")}catch(O){console.error("[Add-on Mode] postMessage failed:",O)}},[e]),d=C.useCallback(()=>{console.log("[DEBUG] ========== REQUEST SHEET DATA CALLED =========="),console.log("[DEBUG] useDirectAPI:",y),console.log("[DEBUG] window.googleSheetsAPI exists:",!!window.googleSheetsAPI),y&&window.googleSheetsAPI?(console.log("[DEBUG] Using direct API to get data"),console.log("[DEBUG] Calling window.googleSheetsAPI.getSelectedData..."),window.googleSheetsAPI.getSelectedData((S,O)=>{console.log("[DEBUG] getSelectedData callback fired"),console.log("[DEBUG] Error:",S),console.log("[DEBUG] Result:",O),S?(console.error("[DEBUG] Error getting data:",S),alert("[ERROR] Error getting data: "+S.message)):O&&O.success?(console.log("[DEBUG] Data received successfully via direct API"),console.log("[DEBUG] Data:",O.data),m(O.data),alert("[SUCCESS] Data loaded! CSV length: "+(O.data.csv?O.data.csv.length:"N/A"))):(console.error("[DEBUG] Invalid data response:",O),alert("[ERROR] Invalid data response from Google Sheets"))})):(console.log("[DEBUG] Using postMessage fallback"),b({type:"REQUEST_DATA"}))},[y,b]),j=C.useCallback((S,O="png",T=null)=>{console.log("[DEBUG] ========== INSERT CHART CALLED =========="),console.log("[DEBUG] useDirectAPI:",y),console.log("[DEBUG] window.googleSheetsAPI exists:",!!window.googleSheetsAPI),console.log("[DEBUG] format:",O),console.log("[DEBUG] imageBase64 length:",S?S.length:0),y&&window.googleSheetsAPI?(console.log("[DEBUG] Using direct API to insert chart"),console.log("[DEBUG] Calling window.googleSheetsAPI.insertChart..."),window.googleSheetsAPI.insertChart(S,O,T,(W,F)=>{console.log("[DEBUG] insertChart callback fired"),console.log("[DEBUG] Error:",W),console.log("[DEBUG] Result:",F),W?(console.error("[DEBUG] Error inserting chart:",W),alert("[ERROR] Error inserting chart: "+W.message)):F&&F.success?(console.log("[DEBUG] Chart inserted successfully"),alert(`[SUCCESS] Chart inserted!

Chart ID: ${F.chartId||"N/A"}

Save this ID to edit the chart later.`)):(console.error("[DEBUG] Invalid insert response:",F),alert("[ERROR] Invalid response from chart insertion"))})):(console.log("[DEBUG] Using postMessage fallback"),b({type:"INSERT_CHART",data:{imageBase64:S,format:O,chartState:T}}))},[y,b]),z=C.useCallback((S,O={})=>{y&&window.googleSheetsAPI?window.googleSheetsAPI.logUsage(S,O):b({type:"LOG_USAGE",action:S,metadata:O})},[y,b]);return{isAddonMode:e,addonReady:a,userInfo:c,license:h,sheetData:x,requestSheetData:d,insertChartToSheet:j,logUsage:z,sendMessageToAddon:b,useDirectAPI:y}}function Nj({snapshots:e,onSnapshotClick:r,onDeleteSnapshot:a,onSaveChart:i}){return!e||e.length===0?null:o.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsxs("h3",{className:"text-sm font-semibold text-gray-700",children:["Snapshot Gallery (",e.length,")"]})}),o.jsx("div",{className:"grid grid-cols-5 gap-3",children:e.map(c=>o.jsxs("div",{className:"relative group cursor-pointer bg-white rounded-lg border-2 border-gray-200 hover:border-cyan-500 transition-all duration-200 shadow-md hover:shadow-lg overflow-hidden",onClick:()=>r(c),children:[o.jsx("div",{className:"w-full bg-white p-2 flex items-center justify-center overflow-hidden",style:{height:"160px"},children:o.jsx("div",{style:{width:"600px",height:"400px",transform:"scale(0.24)",transformOrigin:"center center"},dangerouslySetInnerHTML:{__html:c.svgContent}})}),o.jsxs("div",{className:"p-3 border-t border-gray-200 bg-gray-50",children:[o.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-xs text-gray-600 truncate",children:new Date(c.timestamp).toLocaleString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),o.jsx("p",{className:"text-sm font-semibold text-gray-800 truncate",children:c.chartType})]}),o.jsx("button",{onClick:u=>{u.stopPropagation(),a(c.id)},className:"flex-shrink-0 p-1.5 text-red-500 hover:bg-red-100 rounded-lg transition-colors duration-150",title:"Delete snapshot",children:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i&&o.jsxs("button",{onClick:u=>{u.stopPropagation(),i(c)},className:"w-full py-1.5 px-2 bg-green-100 text-green-700 hover:bg-green-200 rounded text-xs font-medium transition-colors duration-150 flex items-center justify-center gap-1",title:"Save chart state to file",children:[o.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),"Save Chart"]})]})]},c.id))})]})}function Mj({snapshot:e,onClose:r,onLoadChart:a,onNext:i,onPrevious:c,hasNext:u,hasPrevious:h}){if(!e)return null;C.useEffect(()=>{const y=v=>{v.key==="ArrowRight"&&u?i():v.key==="ArrowLeft"&&h?c():v.key==="Escape"&&r()};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[u,h,i,c,r]);const p=()=>{const y=document.createElement("div");y.innerHTML=e.svgContent;const v=y.querySelector("svg");v&&rg(v,`snapshot-${e.id}`)},x=()=>{const y=document.createElement("div");y.innerHTML=e.svgContent;const v=y.querySelector("svg");v&&ng(v,`snapshot-${e.id}`)},m=()=>{a(e),r()};return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",onClick:r,children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-hidden flex flex-col",onClick:y=>y.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:[e.chartType," Chart"]}),o.jsx("p",{className:"text-sm text-gray-500",children:new Date(e.timestamp).toLocaleString()})]}),o.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"flex-1 overflow-auto p-8 bg-gray-50 relative",children:[h&&o.jsx("button",{onClick:c,className:"absolute left-4 top-1/2 -translate-y-1/2 p-3 bg-white text-gray-700 rounded-full shadow-lg hover:bg-gray-50 hover:shadow-xl transition-all z-10 border border-gray-200",title:"Previous snapshot",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),u&&o.jsx("button",{onClick:i,className:"absolute right-4 top-1/2 -translate-y-1/2 p-3 bg-white text-gray-700 rounded-full shadow-lg hover:bg-gray-50 hover:shadow-xl transition-all z-10 border border-gray-200",title:"Next snapshot",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 flex items-center justify-center",children:o.jsx("div",{dangerouslySetInnerHTML:{__html:e.svgContent},className:"max-w-full"})})]}),o.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-gray-200 bg-gray-50",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:p,className:"px-4 py-2 bg-white text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download SVG"]}),o.jsxs("button",{onClick:x,className:"px-4 py-2 bg-white text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download PNG"]})]}),o.jsxs("button",{onClick:m,className:"px-6 py-2 bg-cyan-600 text-white rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 font-medium",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Load Chart"]})]})]})})}const Tt=({text:e})=>o.jsxs("span",{className:"group relative inline-block",children:[o.jsx("svg",{className:"w-3 h-3 text-gray-400 cursor-help",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),o.jsx("span",{className:"invisible group-hover:visible absolute left-0 top-5 w-48 p-2 bg-gray-800 text-white text-xs rounded shadow-lg z-10 whitespace-normal",children:e})]});function Lj(){const e=cf(),{chartType:r}=Ex(),a=fj(r),[i,c]=C.useState("style"),[u,h]=C.useState(!0),[p,x]=C.useState(!1),[m,y]=C.useState(!1),[v,b]=C.useState(!1),[d,j]=C.useState(""),[z,S]=C.useState(!1),[O,T]=C.useState(""),[W,F]=C.useState(!1),[U,H]=C.useState(""),[I,N]=C.useState(!1),[P,M]=C.useState(5),A=C.useRef(!1),[G,te]=C.useState({theme:!1,chartStructure:!1,dataLabels:!1,axesGridlines:!1,colorsStyling:!1,typography:!1,layoutCanvas:!1,exportBranding:!1,colorMode:!1,lineStyling:!1,labelsText:!1,axesSpacing:!1,displayLabels:!1,visualEffects:!1}),ee=Wy(r),w=zC(),ze=Sj(),ve=C.useRef(null),re=C.useRef(null),ae=C.useRef(null),le=C.useRef(null),_=C.useRef(null);C.useEffect(()=>{te({theme:!1,chartStructure:!1,dataLabels:!1,axesGridlines:!1,colorsStyling:!1,typography:!1,layoutCanvas:!1,exportBranding:!1,colorMode:!1,lineStyling:!1,labelsText:!1,axesSpacing:!1,displayLabels:!1,visualEffects:!1})},[i]);const Y=C.useMemo(()=>({setLineThickness:Er(L=>w.setLineThickness(L),100),setLineSaturation:Er(L=>w.setLineSaturation(L),100),setPointSize:Er(L=>w.setPointSize(L),100),setPointBorderWidth:Er(L=>w.setPointBorderWidth(L),100),setChartWidth:Er(L=>w.setChartWidth(L),100),setChartHeight:Er(L=>w.setChartHeight(L),100),setCanvasWidth:Er(L=>w.setCanvasWidth(L),100),setCanvasHeight:Er(L=>w.setCanvasHeight(L),100),setBackgroundOpacity:Er(L=>w.setBackgroundOpacity(L),100),setPeriodSpacing:Er(L=>w.setPeriodSpacing(L),100),setEndpointSize:Er(L=>w.setEndpointSize(L),100),setColorTransition:Er(L=>w.setColorTransition(L),100)}),[w]),[se,ue]=C.useState(!1),[be,de]=C.useState(""),[Ee,ke]=C.useState([]),[K,Ce]=C.useState(null),[q,D]=C.useState(!1),[ne,J]=C.useState(1),[me,ye]=C.useState({x:0,y:0}),[Ue,_e]=C.useState(!1),[Qe,bt]=C.useState({x:0,y:0}),ft=C.useRef(null),[vt,ln]=C.useState(!1),[$t,Yt]=C.useState(null),[kt,Bt]=C.useState({x:0,y:0,width:0,height:0}),[lt,tn]=C.useState(null),fn=C.useRef(null);C.useEffect(()=>{const L=ft.current;if(!L)return;const fe=ie=>{ie.preventDefault();const Ie=ie.deltaY*-.001,$e=Math.min(Math.max(.5,ne+Ie),3);J($e)};return L.addEventListener("wheel",fe,{passive:!1}),()=>L.removeEventListener("wheel",fe)},[ne]);const Gt=C.useCallback((L,fe)=>{const ie=w.emphasizedLines||[];ie.includes(L)?w.setEmphasizedLines([]):ie.length<2?w.setEmphasizedLines([...ie,L]):w.setEmphasizedLines([ie[1],L])},[w]),nn=C.useCallback((L,fe,ie)=>{const Ie=w.emphasizedBars||[];fn.current===ie?(w.setEmphasizedBars([]),fn.current=null,_?.current&&_.current(),setTimeout(()=>{_?.current&&_.current()},10)):(fn.current=ie,Ie.includes(ie)?w.setEmphasizedBars(Ie.filter($e=>$e!==ie)):Ie.length<4?w.setEmphasizedBars([...Ie,ie]):w.setEmphasizedBars([Ie[1],Ie[2],Ie[3],ie]))},[w]),vn=C.useCallback((L,fe)=>{const ie=w.emphasizedPoints||[],Ie=fe._pointIndex;if(ie.some(Ot=>Ot.metric===L&&Ot.index===Ie))w.setEmphasizedPoints(ie.filter(Ot=>!(Ot.metric===L&&Ot.index===Ie)));else{const jt=(w.pointStyle||"filled")==="filled"?"outlined":"filled",zt={metric:L,index:Ie,value:fe[L],date:fe.date,customPointStyle:jt};ie.length<4?w.setEmphasizedPoints([...ie,zt]):w.setEmphasizedPoints([ie[1],ie[2],ie[3],zt])}},[w]),hn=C.useCallback(L=>{w.emphasizedMetric===L?w.setEmphasizedMetric(null):w.setEmphasizedMetric(L)},[w]),bn=C.useCallback((L,fe,ie,Ie)=>{const Ot=(w.emphasizedPoints||[]).map(jt=>jt.metric===L&&jt.index===fe?{...jt,labelOffsetX:ie,labelOffsetY:Ie}:jt);w.setEmphasizedPoints(Ot)},[w]);if(C.useEffect(()=>{let L=!ee.hasData;if(r==="line"&&ee.hasData&&ee.data&&ee.data.length>0){const fe=ee.data[0];fe&&(fe.date||fe.Date||fe.time||fe.Time)||(L=!0)}if(r==="bar"&&!lt&&(L=!0),r==="line"&&!lt&&(L=!0),r==="slope"&&!lt&&(L=!0),r==="funnel"&&!lt&&(L=!0),L){let fe;r==="slope"?fe="tufteSlope":r==="bar"?fe="barRegionalSales":r==="line"?fe="marketingChannelRevenue":fe="abTest",ee.loadSampleData(fe),tn(fe);const ie=ol(fe);ie&&(ie.title&&w.setTitle(ie.title),ie.subtitle&&w.setSubtitle(ie.subtitle),ie.timeScale&&w.setTimeScale(ie.timeScale),ie.stylePreset&&kn(ie.stylePreset))}},[r]),C.useEffect(()=>{cn()},[]),C.useEffect(()=>{if(r!=="bar"&&r!=="line")return;const L=r==="bar",fe=L?w.chartWidth+240:w.chartWidth,ie=L?w.chartHeight+140:w.chartHeight;w.setCanvasWidth(fe),w.setCanvasHeight(ie)},[w.chartWidth,w.chartHeight,r,w]),C.useEffect(()=>{if(r!=="slope")return;const ie=w.periodSpacing+500+180,Ie=w.periodHeight+140;w.setCanvasWidth(Math.round(ie)),w.setCanvasHeight(Math.round(Ie))},[w.periodSpacing,w.periodHeight,r,w]),C.useEffect(()=>{const L=fe=>{re.current&&!re.current.contains(fe.target)&&x(!1)};return document.addEventListener("mousedown",L),()=>document.removeEventListener("mousedown",L)},[]),C.useEffect(()=>{ze.isAddonMode&&(w.setCanvasWidth(1250),w.setCanvasHeight(800))},[ze.isAddonMode]),C.useEffect(()=>{const L=sessionStorage.getItem("pendingCSVData");if(L){console.log("[URL CSV] Loading CSV data from URL parameter");const fe=decodeURIComponent(L);ee.loadCSVText(fe,",","url-parameter"),sessionStorage.removeItem("pendingCSVData")}},[]),C.useEffect(()=>{const fe=new URLSearchParams(window.location.search).get("chartState");if(fe){console.log("[Chart State] Loading chart state from URL parameter");try{const ie=decodeURIComponent(fe),Ie=JSON.parse(ie);Rd&&e&&ee&&w?(Rd(Ie,{navigate:e,chartData:ee,styleSettings:w}),console.log("[Chart State] Chart state loaded successfully")):console.error("[Chart State] Missing dependencies for applyChartState")}catch(ie){console.error("[Chart State] Failed to load chart state:",ie)}}},[e,ee,w]),C.useEffect(()=>{ze.isAddonMode&&ze.sheetData&&ze.sheetData.csv&&(console.log("[Add-on Mode] Loading sheet data automatically"),ee.loadCSVText(ze.sheetData.csv,",","google-sheets-addon"))},[ze.sheetData,ze.isAddonMode]),!a)return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Chart Not Found"}),o.jsx("button",{onClick:()=>e("/"),className:"px-4 py-2 bg-cyan-600 text-white rounded-lg hover:bg-cyan-700",children:"Back to Gallery"})]})});const Fn=L=>{te(fe=>({...fe,[L]:!fe[L]}))},wt=async()=>{const L=ve.current?.querySelector("svg");L&&await ng(L,`${w.title}.png`),x(!1)},Vt=()=>{const L=ve.current?.querySelector("svg");L&&rg(L,`${w.title}.svg`),x(!1)},Nn=async()=>{if(ze.isAddonMode)try{const L=ve.current?.querySelector("svg");if(!L){alert("Chart not found. Please try again.");return}const fe=new XMLSerializer().serializeToString(L),ie="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(fe))),Ie=Dd({chartType:r,chartData:ee,styleSettings:w,name:w.title||`${r}-chart`}),$e=JSON.stringify(Ie);ze.insertChartToSheet(ie,"svg",$e)}catch(L){console.error("Error inserting chart:",L),alert("Error inserting chart. Please try again.")}},_n=()=>{try{const L=Dd({chartType:r,chartData:ee,styleSettings:w,name:w.title||`${r}-chart`}),fe=JSON.stringify(L,null,2),ie=new Blob([fe],{type:"application/json"}),Ie=URL.createObjectURL(ie),$e=document.createElement("a");$e.href=Ie,$e.download=_0(w.title||`${r}-chart`,r),$e.click(),URL.revokeObjectURL(Ie),console.log("Chart saved successfully")}catch(L){console.error("Failed to save chart:",L),alert("Failed to save chart: "+L.message)}},rn=()=>{le.current?.click()},Mn=async L=>{const fe=L.target.files?.[0];if(fe)try{const ie=await fe.text(),Ie=JSON.parse(ie),$e=jj(Ie);if(!$e.isValid)throw new Error("Invalid chart file format");if(!window.confirm(`This will replace your current ${r} chart with a ${$e.chartType} chart. Continue?`)){L.target.value="";return}const jt=await Rd($e,zt=>{if(zt!==r){const Wt=window.location.search;e(`/chart/${zt}${Wt}`)}},ee,w);if(jt.success)console.log("Chart loaded successfully");else throw new Error(jt.message)}catch(ie){console.error("Failed to import chart:",ie),alert("Failed to import chart: "+ie.message)}finally{L.target.value=""}},In=()=>{const L=pj(w.title,r);de(L),ue(!0)},Bn=()=>{const L=w.exportSettings();hj(L,{name:be,chartType:r}),ue(!1)},cr=()=>{ae.current?.click()},Ln=async L=>{const fe=L.target.files?.[0];if(fe){try{const ie=await mj(fe);w.importSettings(ie,r),alert("Style imported successfully!")}catch(ie){alert("Failed to import style: "+ie.message)}ae.current&&(ae.current.value="")}},Gn=async()=>{if(!d.trim()){alert("Please paste CSV data first");return}try{const L=d.trim().split(`
`);if(L.length<2){alert("CSV data must have at least a header row and one data row");return}const fe=L[0];let ie=",";const Ie=(fe.match(/,/g)||[]).length,$e=(fe.match(/\t/g)||[]).length,Ot=(fe.match(/;/g)||[]).length,jt=(fe.match(/\s{2,}/g)||[]).length;$e>Ie&&$e>Ot&&$e>jt?ie="	":Ot>Ie&&Ot>$e&&Ot>jt?ie=";":jt>Ie&&jt>$e&&jt>Ot&&jt>0&&(ie=/\s{2,}/);const zt=d.trim();await ee.loadCSVText(zt,ie)?(b(!1),j(""),alert("CSV data loaded successfully!")):alert("Error loading CSV data: "+(ee.error||"Unknown error"))}catch(L){console.error("Error parsing CSV:",L),alert("Error parsing CSV data: "+L.message)}},Fe=()=>{_?.current&&_.current(),w.setEmphasizedBars([]),w.setEmphasizedLines([]),fn.current=null},Ge=()=>{if(!ve.current)return;const L=ve.current.querySelector("svg");if(!L)return;const fe=L.cloneNode(!0),ie=(zt,Wt)=>{const Mt=window.getComputedStyle(zt);["fill","stroke","stroke-width","font-family","font-size","font-weight","text-anchor","opacity","transform","dominant-baseline","alignment-baseline"].forEach(Kt=>{const _t=Mt.getPropertyValue(Kt);_t&&_t!=="none"&&_t!=="normal"&&(Wt.style[Kt]=_t)})},Ie=(zt,Wt)=>{ie(zt,Wt);const Mt=zt.children,on=Wt.children;for(let Kt=0;Kt<Mt.length;Kt++)on[Kt]&&Ie(Mt[Kt],on[Kt])};Ie(L,fe),fe.setAttribute("xmlns","http://www.w3.org/2000/svg"),fe.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink");const $e=new XMLSerializer().serializeToString(fe),Ot=w.exportSettings(),jt={id:`snapshot-${Date.now()}`,timestamp:Date.now(),chartType:a.name,svgContent:$e,data:{data:ee.data,periodNames:ee.periodNames,isComparisonMode:ee.isComparisonMode,rawCSV:ee.rawCSV,source:ee.source,googleSheetsUrl:ee.googleSheetsUrl,hiddenPeriods:ee.hiddenPeriods},settings:Ot};ke(zt=>[...zt,jt])},Ze=L=>{Ce(L),D(!0)},ct=L=>{ke(fe=>fe.filter(ie=>ie.id!==L))},Lt=()=>{if(!K)return;const L=Ee.findIndex(fe=>fe.id===K.id);L<Ee.length-1&&Ce(Ee[L+1])},ht=()=>{if(!K)return;const L=Ee.findIndex(fe=>fe.id===K.id);L>0&&Ce(Ee[L-1])},Pt=L=>{try{const fe=Dd({chartType:L.chartType,chartData:{rawCSV:L.data?.rawCSV||"",source:L.data?.source||"snapshot",googleSheetsUrl:L.data?.googleSheetsUrl||"",periodNames:L.data?.periodNames||[],stageCount:L.data?.data?.length||0,periodCount:L.data?.periodNames?.length||0,isComparisonMode:L.data?.isComparisonMode||!1,hiddenPeriods:L.data?.hiddenPeriods||new Set},styleSettings:L.settings||{},name:L.name||`${L.chartType}-chart`}),ie=JSON.stringify(fe,null,2),Ie=new Blob([ie],{type:"application/json"}),$e=URL.createObjectURL(Ie),Ot=document.createElement("a");Ot.href=$e,Ot.download=_0(L.name||`${L.chartType}-chart`,L.chartType),Ot.click(),URL.revokeObjectURL($e),console.log("Chart saved from snapshot successfully")}catch(fe){console.error("Failed to save chart from snapshot:",fe),alert("Failed to save chart from snapshot: "+fe.message)}},He=L=>{L.data&&ee.loadSnapshotData(L.data.data,L.data.periodNames,L.data.isComparisonMode),L.settings&&setTimeout(()=>{w.importSettings(L.settings,r);const fe=w.emphasizedBars&&w.emphasizedBars.length>0;w.setEmphasis(fe),w.setPercentChangeEnabled(fe)},100),window.scrollTo({top:0,behavior:"smooth"})},rt=L=>{const fe=L.target,ie=fe.tagName==="svg"||fe.closest("svg"),Ie=fe.tagName==="BUTTON"||fe.closest("button");!ie&&!Ie&&(L.button===0||L.button===1)&&(_e(!0),bt({x:L.clientX-me.x,y:L.clientY-me.y}))},Je=L=>{Ue&&ye({x:L.clientX-Qe.x,y:L.clientY-Qe.y})},ut=()=>{_e(!1),ln(!1),Yt(null)},et=(L,fe)=>{L.stopPropagation(),L.preventDefault(),ln(!0),Yt(fe),Bt({x:L.clientX,y:L.clientY,width:w.chartWidth,height:w.chartHeight})},Rt=L=>{if(!vt||!$t)return;const fe=L.clientX-kt.x,ie=L.clientY-kt.y,Ie=300,$e=200,Ot=1800,jt=1800,zt=Math.max(Ie,Math.min(Ot,kt.width+fe)),Wt=Math.max($e,Math.min(jt,kt.height+ie));if(r==="slope"){const Mt=Math.max(200,Wt-140),on=Math.max(100,zt-680);w.setPeriodHeight(Mt),w.setPeriodSpacing(on)}else r==="funnel"?(w.setCanvasWidth(zt),w.setCanvasHeight(Wt)):(w.setChartWidth(zt),w.setChartHeight(Wt))};C.useEffect(()=>{if(vt)return document.addEventListener("mousemove",Rt),document.addEventListener("mouseup",ut),()=>{document.removeEventListener("mousemove",Rt),document.removeEventListener("mouseup",ut)}},[vt,$t,kt.x,kt.y,kt.width,kt.height]);const Ft=()=>{J(Math.min(ne+.25,3))},xt=()=>{J(Math.max(ne-.25,.5))},Nt=()=>{J(1),ye({x:0,y:0})},kn=C.useCallback(async L=>{if(L)if(A.current=!0,typeof L=="string")try{const fe=await fetch(L);if(!fe.ok){console.error("Failed to load style preset:",L),A.current=!1;return}const ie=await fe.json();w.importSettings(ie,r),setTimeout(()=>{A.current=!1},100)}catch(fe){console.error("Error loading style preset:",fe),A.current=!1}else L.darkMode!==void 0&&w.setDarkMode(L.darkMode),L.fontFamily&&w.setFontFamily(L.fontFamily),L.titleFontSize&&w.setTitleFontSize(L.titleFontSize),L.subtitleFontSize&&w.setSubtitleFontSize(L.subtitleFontSize),L.segmentLabelFontSize&&w.setSegmentLabelFontSize(L.segmentLabelFontSize),L.metricLabelFontSize&&w.setMetricLabelFontSize(L.metricLabelFontSize),L.periodLabelFontSize&&w.setPeriodLabelFontSize(L.periodLabelFontSize),L.emphasizedLines!==void 0&&w.setEmphasizedLines(L.emphasizedLines),L.lineThickness&&w.setLineThickness(L.lineThickness),L.lineOpacity!==void 0&&w.setLineOpacity(L.lineOpacity),L.lineSaturation!==void 0&&w.setLineSaturation(L.lineSaturation),L.endpointSize&&w.setEndpointSize(L.endpointSize),L.endpointStyle&&w.setEndpointStyle(L.endpointStyle),L.labelPosition&&w.setLabelPosition(L.labelPosition),L.showCategoryLabels!==void 0&&w.setShowCategoryLabels(L.showCategoryLabels),L.showValueLabels!==void 0&&w.setShowValueLabels(L.showValueLabels),L.labelFormat&&w.setLabelFormat(L.labelFormat),L.periodSpacing&&w.setPeriodSpacing(L.periodSpacing),L.periodLabelPosition&&w.setPeriodLabelPosition(L.periodLabelPosition),L.colorMode&&w.setColorMode(L.colorMode),L.userCustomColors&&w.setUserCustomColors(L.userCustomColors),L.startColor&&w.setStartColor(L.startColor),L.endColor&&w.setEndColor(L.endColor),L.increaseColor&&w.setIncreaseColor(L.increaseColor),L.decreaseColor&&w.setDecreaseColor(L.decreaseColor),L.noChangeColor&&w.setNoChangeColor(L.noChangeColor),L.titleAlignment&&w.setTitleAlignment(L.titleAlignment),L.axisEnds&&w.setAxisEnds(L.axisEnds),L.slopeAxisLineColor&&w.setSlopeAxisLineColor(L.slopeAxisLineColor),L.slopeAxisLineWidth&&w.setSlopeAxisLineWidth(L.slopeAxisLineWidth),L.slopeAxisLineStyle&&w.setSlopeAxisLineStyle(L.slopeAxisLineStyle),L.periodHeight&&w.setPeriodHeight(L.periodHeight),L.chartWidth&&w.setChartWidth(L.chartWidth),L.chartHeight&&w.setChartHeight(L.chartHeight),L.canvasWidth&&w.setCanvasWidth(L.canvasWidth),L.canvasHeight&&w.setCanvasHeight(L.canvasHeight),setTimeout(()=>{A.current=!1},100)},[w,r]),cn=C.useCallback(()=>{const ie=window.innerHeight,Ie=window.innerWidth,$e=ie-200,Ot=Ie-400,jt=Math.floor($e*.7),zt=Math.floor(Ot*.65),Wt=r==="bar",Mt=Wt?zt-240:zt,on=Wt?jt-140:jt;w.setChartHeight(on),w.setChartWidth(Mt)},[w,r]),ar=()=>{if(Fe(),J(1),ye({x:0,y:0}),lt){ee.loadSampleData(lt);const L=ol(lt);L&&(L.title&&w.setTitle(L.title),L.subtitle&&w.setSubtitle(L.subtitle),setTimeout(()=>{L.stylePreset&&kn(L.stylePreset),cn()},100))}else w.resetToDefaults(),setTimeout(()=>{cn()},0)},Xt=C.useMemo(()=>{const L={title:w.title,subtitle:w.subtitle,titleAlignment:w.titleAlignment,fontFamily:w.fontFamily,titleFontSize:w.titleFontSize,subtitleFontSize:w.subtitleFontSize,canvasWidth:w.canvasWidth,canvasHeight:w.canvasHeight,chartPadding:w.chartPadding,backgroundOpacity:w.backgroundOpacity,darkMode:w.darkMode,userTier:w.userTier},fe=r==="funnel"?{segmentLabelFontSize:w.segmentLabelFontSize,metricLabelFontSize:w.metricLabelFontSize,legendFontSize:w.legendFontSize,conversionLabelFontSize:w.conversionLabelFontSize,barColor:w.barColor,colorTransition:w.colorTransition,comparisonPalette:w.comparisonPalette,userCustomColors:w.userCustomColors,orientation:w.orientation,aspectRatio:w.aspectRatio,stageGap:w.stageGap,stageLabelPosition:w.stageLabelPosition,axisLineWidth:w.axisLineWidth,emphasis:w.emphasis,metricEmphasis:w.metricEmphasis,normalizeToHundred:w.normalizeToHundred,compactNumbers:w.compactNumbers,showLegend:w.showLegend,legendPosition:w.legendPosition,inStageLabelFontSize:w.inStageLabelFontSize,showSparklines:w.showSparklines,sparklineType:w.sparklineType,backgroundOpacity:w.backgroundOpacity,backgroundColor:w.backgroundColor,chartWidth:w.canvasWidth,chartHeight:w.canvasHeight}:{},ie=r==="slope"?{colorMode:w.colorMode,lineThickness:w.lineThickness,lineOpacity:w.lineOpacity,lineSaturation:w.lineSaturation,endpointSize:w.endpointSize,endpointStyle:w.endpointStyle,labelPosition:w.labelPosition,showCategoryLabels:w.showCategoryLabels,showValueLabels:w.showValueLabels,labelFormat:w.labelFormat,compactNumbers:w.compactNumbers,emphasizedLines:w.emphasizedLines,increaseColor:w.increaseColor,decreaseColor:w.decreaseColor,noChangeColor:w.noChangeColor,startColor:w.startColor,endColor:w.endColor,categoryFont:w.fontFamily,categoryFontSize:w.segmentLabelFontSize,categoryFontWeight:500,valueFont:w.fontFamily,valueFontSize:w.metricLabelFontSize,valueFontWeight:400,periodFont:w.fontFamily,periodFontSize:w.periodLabelFontSize,periodFontWeight:600,periodColor:w.darkMode?"#e5e7eb":"#374151",periodLabelPosition:w.periodLabelPosition,emphasizedLineThickness:5,emphasizedLabelWeight:700,width:w.canvasWidth,height:w.canvasHeight,periodHeight:w.periodHeight,marginTop:60,marginRight:160,marginBottom:140,marginLeft:160,backgroundColor:w.backgroundColor,showAxisLines:!0,periodSpacing:w.periodSpacing,axisLineColor:w.darkMode?"#6b7280":w.slopeAxisLineColor,axisLineWidth:w.slopeAxisLineWidth,axisLineStyle:w.slopeAxisLineStyle,axisEnds:w.axisEnds,darkMode:w.darkMode}:{},Ie=r==="bar"?{barMode:w.barMode,labelMode:w.labelMode,legendPosition:w.legendPosition,directLabelContent:w.directLabelContent,emphasizedBars:w.emphasizedBars,colorPalette:w.comparisonPalette,customColors:w.userCustomColors,orientation:w.orientation,showValueLabels:w.showValueLabels,showMetricLabels:w.showMetricLabels,showPeriodLabels:w.showPeriodLabels,metricLabelPosition:w.metricLabelPosition,periodLabelDisplay:w.periodLabelDisplay,categoryFont:w.fontFamily,categoryFontSize:w.segmentLabelFontSize,categoryWeight:500,valueFont:w.fontFamily,valueFontSize:w.metricLabelFontSize,valueWeight:600,axisFont:w.fontFamily,xAxisFontSize:w.xAxisFontSize,yAxisFontSize:w.yAxisFontSize,axisLabel:w.axisLabel,axisLabelFontSize:w.axisLabelFontSize,xAxisLabelRotation:w.xAxisLabelRotation,axisWeight:400,axisMinimum:w.axisMinimum,axisMinimumAuto:w.axisMinimumAuto,axisMaximum:w.axisMaximum,axisMaximumAuto:w.axisMaximumAuto,axisMajorUnit:w.axisMajorUnit,axisMajorUnitAuto:w.axisMajorUnitAuto,axisMinorUnit:w.axisMinorUnit,axisMinorUnitAuto:w.axisMinorUnitAuto,axisMajorTickType:w.axisMajorTickType,axisMinorTickType:w.axisMinorTickType,showHorizontalGridlines:w.showHorizontalGridlines,showVerticalGridlines:w.showVerticalGridlines,valuePrefix:w.valuePrefix,valueSuffix:w.valueSuffix,valueDecimalPlaces:w.valueDecimalPlaces,valueFormat:w.valueFormat,periodLabelFontSize:w.periodLabelFontSize,compactAxisNumbers:w.compactAxisNumbers,compactNumbers:w.compactNumbers,setCalculatedAxisMinimum:w.setCalculatedAxisMinimum,setCalculatedAxisMaximum:w.setCalculatedAxisMaximum,setCalculatedAxisMajorUnit:w.setCalculatedAxisMajorUnit,showGrid:!0,gridOpacity:.1,showXAxis:!0,showYAxis:!0,axisColor:"#000000",axisOpacity:1,barWidthPercent:w.barWidth,groupPadding:w.stageGap/100,barOpacity:1,barBorderWidth:0,barBorderColor:"#ffffff",chartHeight:w.chartHeight||400,chartWidth:w.chartWidth||600,percentChangeEnabled:w.percentChangeEnabled,percentChangeLabelFormat:w.percentChangeLabelFormat,percentChangeBracketDistance:w.percentChangeBracketDistance,darkMode:w.darkMode,backgroundColor:w.backgroundColor,showTotalLabels:w.showTotalLabels,boldTotal:w.boldTotal}:{},$e=r==="line"?{timeScale:w.timeScale||"month",dateField:"date",aggregationLevel:w.aggregationLevel||"day",aggregationMethod:w.aggregationMethod||"sum",fiscalYearStartMonth:w.fiscalYearStartMonth||1,xAxisTimeGrouping:w.xAxisTimeGrouping||"auto",xAxisLabelLevels:w.xAxisLabelLevels||2,dateRangeFilter:w.dateRangeFilter||[0,100],xAxisPrimaryLabel:w.xAxisPrimaryLabel||"auto",xAxisSecondaryLabel:w.xAxisSecondaryLabel||"auto",dateFormatPreset:w.dateFormatPreset||"MM/dd/yy",dateFormatCustom:w.dateFormatCustom||"",lineThickness:w.lineThickness||2,lineStyle:w.lineStyle||"solid",lineOpacity:w.lineOpacity||1,smoothLines:w.smoothLines||!1,lineSaturation:w.lineSaturation||100,colorMode:w.colorMode||"category",comparisonPalette:w.comparisonPalette||"observable10",userCustomColors:w.userCustomColors||["#1e40af","#0d9488","#991b1b"],showPoints:w.showPoints!==void 0?w.showPoints:!0,pointSize:w.pointSize||4,pointStyle:w.pointStyle||"filled",pointBorderWidth:w.pointBorderWidth||2,excludeZeroValues:w.excludeZeroValues!==void 0?w.excludeZeroValues:!0,showAreaFill:w.showAreaFill||!1,areaOpacity:w.areaOpacity||.2,areaGradient:w.areaGradient||!1,emphasizedLines:w.emphasizedLines||[],emphasizedLineThickness:w.emphasizedLineThickness||4,emphasizedPointSize:w.emphasizedPointSize||6,emphasizedPoints:w.emphasizedPoints||[],emphasizedMetric:w.emphasizedMetric||null,emphasisLabelPosition:w.emphasisLabelPosition||"above",emphasisLabelFontSize:w.emphasisLabelFontSize||12,showEmphasisDate:w.showEmphasisDate||!1,showEmphasisVerticalLine:w.showEmphasisVerticalLine||!1,emphasisCompactNumbers:w.emphasisCompactNumbers||!1,emphasisValuePrefix:w.emphasisValuePrefix||"",emphasisValueSuffix:w.emphasisValueSuffix||"",emphasisDecimalPlaces:w.emphasisDecimalPlaces??0,showValueLabels:w.showValueLabels||!1,showDirectLabels:w.showDirectLabels!==void 0?w.showDirectLabels:!0,labelFontSize:w.labelFontSize||12,directLabelFontSize:w.directLabelFontSize||14,compactNumbers:w.compactNumbers!==void 0?w.compactNumbers:!0,showXAxis:w.showXAxis!==void 0?w.showXAxis:!0,showYAxis:w.showYAxis!==void 0?w.showYAxis:!0,xAxisPosition:w.xAxisPosition||"bottom",yAxisPosition:w.yAxisPosition||"left",xAxisLabelRotation:w.xAxisLabelRotation||0,yAxisFormat:w.yAxisFormat||"auto",xAxisFontSize:w.xAxisFontSize||12,xAxisSecondaryFontSize:w.xAxisSecondaryFontSize||12,yAxisFontSize:w.yAxisFontSize||20,axisLabel:w.axisLabel||"",axisLabelFontSize:w.axisLabelFontSize||17,axisMinimum:w.axisMinimum||0,axisMinimumAuto:w.axisMinimumAuto!==void 0?w.axisMinimumAuto:!0,axisMaximum:w.axisMaximum||5e4,axisMaximumAuto:w.axisMaximumAuto!==void 0?w.axisMaximumAuto:!0,axisMajorUnit:w.axisMajorUnit||1e4,axisMajorUnitAuto:w.axisMajorUnitAuto!==void 0?w.axisMajorUnitAuto:!0,axisMinorUnit:w.axisMinorUnit||5,axisMinorUnitAuto:w.axisMinorUnitAuto!==void 0?w.axisMinorUnitAuto:!0,calculatedAxisMinimum:w.calculatedAxisMinimum||0,calculatedAxisMaximum:w.calculatedAxisMaximum||100,calculatedAxisMajorUnit:w.calculatedAxisMajorUnit||10,axisMajorTickType:w.axisMajorTickType||"outside",axisMinorTickType:w.axisMinorTickType||"none",showGridLines:w.showGridLines!==void 0?w.showGridLines:!0,gridDirection:w.gridDirection||"horizontal",gridLineColor:w.darkMode?"#4b5563":"#e5e7eb",gridLineStyle:w.gridLineStyle||"solid",gridLineOpacity:w.gridLineOpacity||.5,showHorizontalGridlines:w.showHorizontalGridlines!==void 0?w.showHorizontalGridlines:!1,showVerticalGridlines:w.showVerticalGridlines!==void 0?w.showVerticalGridlines:!1,compactAxisNumbers:w.compactAxisNumbers!==void 0?w.compactAxisNumbers:!0,valuePrefix:w.valuePrefix||"",valueSuffix:w.valueSuffix||"",valueDecimalPlaces:w.valueDecimalPlaces||0,valueFormat:w.valueFormat||"number",showLegend:w.showLegend!==void 0?w.showLegend:!0,legendPosition:w.legendPosition||"top",legendFontSize:w.legendFontSize||12,baselines:w.baselines||[],showMovingAverage:w.showMovingAverage||!1,movingAveragePeriod:w.movingAveragePeriod||3,movingAverageColor:w.movingAverageColor||"#6b7280",showPercentChangeBrackets:w.showPercentChangeBrackets||!1,percentChangeBracketPairs:w.percentChangeBracketPairs||[],showTooltips:w.showTooltips!==void 0?w.showTooltips:!0,tooltipFormat:w.tooltipFormat||"auto",width:w.chartWidth,height:w.chartHeight,marginTop:80,marginRight:100,marginBottom:80,marginLeft:80,backgroundColor:w.backgroundColor,darkMode:w.darkMode}:{};return{...L,...fe,...ie,...Ie,...$e}},[w,r,ee.hiddenPeriods]),ur=()=>{if(!ee.hasData)return null;switch(r){case"funnel":const L=(ee.periodNames||[]).filter($e=>!ee.hiddenPeriods?.has($e));return o.jsx(Bp,{data:ee.data,periodNames:L,isComparisonMode:ee.isComparisonMode,styleSettings:Xt});case"slope":const fe=(ee.periodNames||[]).filter($e=>!ee.hiddenPeriods?.has($e));return o.jsx(Yp,{data:ee.data,periodNames:fe,styleSettings:Xt,onLineClick:Gt});case"bar":const ie=(ee.periodNames||[]).filter($e=>!ee.hiddenPeriods?.has($e));return o.jsx(Qp,{data:ee.data,periodNames:ie,styleSettings:Xt,onBarClick:nn,onClearEmphasis:$e=>{_.current=$e}});case"line":const Ie=(ee.periodNames||[]).filter($e=>!ee.hiddenPeriods?.has($e));return o.jsx(tg,{data:ee.data,metricNames:Ie,styleSettings:Xt,onPointClick:vn,onMetricClick:hn,onLabelDrag:bn});default:return null}};return o.jsxs("div",{className:"h-screen bg-gray-50 flex flex-col overflow-hidden",children:[!ze.isAddonMode&&o.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm z-10 flex-shrink-0",children:o.jsxs("div",{className:"px-6 py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:()=>e("/"),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-medium flex items-center gap-2",children:" Back to Gallery"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-lg font-bold text-gray-900",children:a.name}),o.jsx("p",{className:"text-sm text-gray-500",children:a.description})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("img",{src:"/findandtell_logo.png",alt:"Find&Tell",className:"h-12"}),!u&&o.jsx("button",{onClick:()=>h(!0),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Show Controls"}),o.jsxs("button",{onClick:rn,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-medium flex items-center gap-2",title:"Import chart from file",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),"Import"]}),o.jsx("input",{ref:le,type:"file",accept:".json",onChange:Mn,className:"hidden"}),o.jsxs("div",{className:"relative",ref:re,children:[o.jsxs("button",{onClick:()=>x(!p),className:"px-4 py-2 bg-cyan-600 text-white rounded-lg hover:bg-cyan-700 font-medium flex items-center gap-2",children:["Export",o.jsx("span",{className:"text-sm",children:""})]}),p&&o.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-20",children:[o.jsxs("button",{onClick:wt,className:"w-full px-4 py-2 text-left hover:bg-gray-50 text-gray-700 flex items-center gap-2",children:[o.jsx("span",{children:""})," Export as PNG"]}),o.jsxs("button",{onClick:Vt,className:"w-full px-4 py-2 text-left hover:bg-gray-50 text-gray-700 flex items-center gap-2",children:[o.jsx("span",{children:""})," Export as SVG"]}),o.jsx("div",{className:"border-t border-gray-200 my-1"}),o.jsxs("button",{disabled:!0,className:"w-full px-4 py-2 text-left text-gray-400 cursor-not-allowed flex items-center gap-2",children:[o.jsx("span",{children:""})," Export D3 Code (Soon)"]})]})]})]})]})}),o.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[o.jsxs("div",{className:"flex-1 flex items-center justify-center overflow-auto",style:{cursor:Ue?"grabbing":"grab"},ref:ft,onMouseDown:rt,onMouseMove:Je,onMouseUp:ut,onMouseLeave:ut,children:[!u&&o.jsxs("button",{onClick:()=>h(!0),onMouseDown:L=>L.stopPropagation(),className:"absolute top-4 right-4 px-4 py-2 bg-cyan-600 text-white rounded-lg shadow-lg hover:bg-cyan-700 font-medium flex items-center gap-2 z-50 transition-all",style:{pointerEvents:"auto"},title:"Show Controls",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),"Controls"]}),ee.hasData&&!m&&o.jsxs("div",{className:"absolute bottom-8 left-8 flex flex-col gap-2 z-50",style:{pointerEvents:"auto"},children:[o.jsx("button",{onClick:Ft,onMouseDown:L=>L.stopPropagation(),className:"w-12 h-12 bg-white border-2 border-gray-300 rounded-lg shadow-lg hover:bg-gray-50 hover:border-cyan-500 flex items-center justify-center transition-all",title:"Zoom In",children:o.jsx("svg",{className:"w-6 h-6 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),o.jsx("button",{onClick:xt,onMouseDown:L=>L.stopPropagation(),className:"w-12 h-12 bg-white border-2 border-gray-300 rounded-lg shadow-lg hover:bg-gray-50 hover:border-cyan-500 flex items-center justify-center transition-all",title:"Zoom Out",children:o.jsx("svg",{className:"w-6 h-6 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),o.jsx("button",{onClick:Nt,onMouseDown:L=>L.stopPropagation(),className:"w-12 h-12 bg-white border-2 border-gray-300 rounded-lg shadow-lg hover:bg-gray-50 hover:border-cyan-500 flex items-center justify-center transition-all",title:"Reset Zoom & Pan",children:o.jsx("svg",{className:"w-6 h-6 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),o.jsxs("div",{className:"px-3 py-2 bg-white border-2 border-gray-300 rounded-lg shadow-lg text-sm font-semibold text-gray-700 text-center",children:[Math.round(ne*100),"%"]})]}),ee.hasData?o.jsxs("div",{className:"flex flex-col items-center gap-4 flex-shrink-0 p-8",style:{transform:`translate(${me.x}px, ${me.y}px) scale(${ne})`,transformOrigin:"center center",transition:Ue?"none":"transform 0.1s ease-out",minWidth:"min-content"},children:[o.jsxs("div",{className:"flex justify-center gap-4 flex-shrink-0",children:[o.jsx("button",{onClick:ar,className:"text-cyan-600 hover:text-cyan-700 font-medium text-sm underline",children:"Reset View"}),o.jsx("button",{onClick:()=>y(!m),className:"px-4 py-2 bg-cyan-600 text-white font-medium text-sm rounded-lg hover:bg-cyan-700",children:m?" Back to Chart":"Edit Data"})]}),o.jsxs("div",{className:"relative flex-shrink-0",style:{width:Xt.canvasWidth+Xt.chartPadding*2,height:Xt.canvasHeight+Xt.chartPadding*2+(w.userTier!=="pro"?50:0),perspective:"1000px"},children:[o.jsxs("div",{style:{position:"relative",width:"100%",height:"100%",transformStyle:"preserve-3d",transform:m?"rotateY(180deg)":"rotateY(0deg)",transition:"transform 0.6s"},children:[o.jsx("div",{className:"absolute inset-0 bg-white rounded-2xl shadow-lg border border-gray-200",style:{backfaceVisibility:"hidden",padding:Xt.chartPadding+"px"},ref:ve,children:ur()}),o.jsx("div",{className:"absolute inset-0 bg-white rounded-2xl shadow-lg border border-gray-200 overflow-auto",style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)",padding:"20px"},children:o.jsx(Fj,{chartData:ee,chartType:r,onClose:()=>y(!1)})})]}),!m&&o.jsx("div",{className:"absolute cursor-se-resize",style:{bottom:6,right:6,width:16,height:16,transform:`scale(${1/ne})`,transformOrigin:"bottom right",pointerEvents:"auto",zIndex:100},onMouseDown:L=>et(L,"br"),title:"Resize chart",children:o.jsx("div",{className:"w-full h-full bg-cyan-500 border-2 border-white rounded-full shadow-lg hover:bg-cyan-600 transition-colors"})})]}),!m&&o.jsxs("div",{className:"flex items-center gap-3",children:[ze.isAddonMode&&o.jsxs("button",{onClick:Nn,className:"px-6 py-2 bg-purple-600 text-white font-medium text-sm rounded-lg hover:bg-purple-700 transition-colors flex items-center gap-2 shadow-md hover:shadow-lg",title:"Insert chart into Google Sheets",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 13h6m-3-3v6m5 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Insert to Sheet"]}),o.jsxs("button",{onClick:Ge,className:"px-6 py-2 bg-cyan-600 text-white font-medium text-sm rounded-lg hover:bg-cyan-700 transition-colors flex items-center gap-2 shadow-md hover:shadow-lg",children:[o.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Capture Snapshot"]}),o.jsxs("button",{onClick:_n,className:"px-6 py-2 bg-green-600 text-white font-medium text-sm rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 shadow-md hover:shadow-lg",title:"Save complete chart with data and styling",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),"Save Chart"]})]}),!m&&o.jsx("div",{style:{maxWidth:Xt.canvasWidth+Xt.chartPadding*2},children:o.jsx(Nj,{snapshots:Ee,onSnapshotClick:Ze,onDeleteSnapshot:ct,onSaveChart:Pt})})]}):o.jsxs("div",{className:"text-center py-16",children:[o.jsx("div",{className:"text-6xl mb-4",children:""}),o.jsx("h2",{className:"text-2xl font-bold text-gray-700 mb-2",children:"No Data Loaded"}),o.jsx("p",{className:"text-gray-500",children:"Upload a CSV file or select a sample dataset to get started"})]})]}),u&&o.jsxs("div",{className:"w-64 bg-white border-l border-gray-200 flex flex-col flex-shrink-0 shadow-lg overflow-hidden",children:[o.jsxs("div",{className:"flex items-center border-b border-gray-200 flex-shrink-0",children:[o.jsx("button",{onClick:()=>c("style"),className:`flex-1 px-4 py-2 font-medium text-sm transition-colors ${i==="style"?"text-cyan-600 border-b-2 border-cyan-600 bg-cyan-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:"Style"}),o.jsx("button",{onClick:()=>c("data"),className:`flex-1 px-4 py-2 font-medium text-sm transition-colors ${i==="data"?"text-cyan-600 border-b-2 border-cyan-600 bg-cyan-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:"Data"}),o.jsx("button",{onClick:()=>h(!1),className:"px-3 py-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 transition-colors",title:"Hide Controls",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[i==="style"&&o.jsx(Pj,{styleSettings:w,expandedSections:G,toggleSection:Fn,chartData:ee,chartType:r,clearEmphasisRef:_,clearEmphasis:Fe,onSaveStyle:In,onImportStyle:cr,throttledSetters:Y}),i==="data"&&o.jsx(Ej,{chartData:ee,chartType:r,onEditData:()=>y(!0),styleSettings:w,addon:ze,setCurrentSampleDatasetKey:tn,applyStylePreset:kn,showPasteCSV:v,setShowPasteCSV:b,pastedCSV:d,setPastedCSV:j,handlePasteCSV:Gn,showGoogleSheets:z,setShowGoogleSheets:S,googleSheetsUrl:O,setGoogleSheetsUrl:T,googleSheetsLoading:W,setGoogleSheetsLoading:F,googleSheetsError:U,setGoogleSheetsError:H,autoRefreshEnabled:I,setAutoRefreshEnabled:N,autoRefreshInterval:P,setAutoRefreshInterval:M})]})]})]}),se&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 shadow-xl",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Save Style"}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Style Name"}),o.jsx("input",{type:"text",value:be,onChange:L=>de(L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:"Enter style name"})]}),o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsx("button",{onClick:()=>ue(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 font-medium",children:"Cancel"}),o.jsx("button",{onClick:Bn,className:"px-4 py-2 bg-cyan-600 text-white rounded-lg hover:bg-cyan-700 font-medium",children:"Save"})]})]})}),o.jsx("input",{ref:ae,type:"file",accept:".json",onChange:Ln,className:"hidden"}),q&&K&&o.jsx(Mj,{snapshot:K,onClose:()=>{D(!1),Ce(null)},onLoadChart:He,onNext:Lt,onPrevious:ht,hasNext:Ee.findIndex(L=>L.id===K.id)<Ee.length-1,hasPrevious:Ee.findIndex(L=>L.id===K.id)>0})]})}function Pj({styleSettings:e,expandedSections:r,toggleSection:a,chartData:i,chartType:c,clearEmphasisRef:u,clearEmphasis:h,onSaveStyle:p,onImportStyle:x,throttledSetters:m}){const y=c==="slope",v=c==="bar",b=c==="line";return o.jsxs("div",{className:"space-y-3",children:[!y&&!v&&!b&&o.jsx(St,{title:"Theme",isExpanded:r.theme,onToggle:()=>a("theme"),children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chart Background"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>{e.setDarkMode(!1),e.setBackgroundColor("#ffffff")},className:`flex-1 px-4 py-2 rounded-lg font-medium text-sm transition-all ${e.darkMode?"bg-gray-100 text-gray-600 hover:bg-gray-200 border border-gray-300":"bg-white text-gray-900 border-2 border-gray-400 shadow-md"}`,children:"Light Mode"}),o.jsx("button",{onClick:()=>{e.setDarkMode(!0),e.setBackgroundColor("#1f2937")},className:`flex-1 px-4 py-2 rounded-lg font-medium text-sm transition-all ${e.darkMode?"bg-gray-800 text-white border-2 border-gray-600 shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200 border border-gray-300"}`,children:"Dark Mode"})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Toggle between light and dark background themes"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Background Color"}),o.jsx("input",{type:"color",value:e.backgroundColor,onChange:d=>e.setBackgroundColor(d.target.value),className:"w-full h-10 rounded border border-gray-300 cursor-pointer"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Background Opacity: ",e.backgroundOpacity,"%"]}),o.jsx("input",{type:"range",min:"0",max:"100",value:e.backgroundOpacity,onChange:d=>m.setBackgroundOpacity(Number(d.target.value)),className:"w-full"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Adjusts the transparency of the chart background"})]})]})}),y&&o.jsxs(o.Fragment,{children:[o.jsx(St,{title:"Theme",isExpanded:r.theme,onToggle:()=>a("theme"),children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chart Background"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>{e.setDarkMode(!1),e.setBackgroundColor("#ffffff")},className:`flex-1 px-4 py-2 rounded-lg font-medium text-sm transition-all ${e.darkMode?"bg-gray-100 text-gray-600 hover:bg-gray-200 border border-gray-300":"bg-white text-gray-900 border-2 border-gray-400 shadow-md"}`,children:"Light Mode"}),o.jsx("button",{onClick:()=>{e.setDarkMode(!0),e.setBackgroundColor("#1f2937")},className:`flex-1 px-4 py-2 rounded-lg font-medium text-sm transition-all ${e.darkMode?"bg-gray-800 text-white border-2 border-gray-600 shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200 border border-gray-300"}`,children:"Dark Mode"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Background Color"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"color",value:e.backgroundColor,onChange:d=>e.setBackgroundColor(d.target.value),className:"w-16 h-10 rounded border border-gray-300 cursor-pointer"}),o.jsx("input",{type:"text",value:e.backgroundColor,onChange:d=>{const j=d.target.value;/^#[0-9A-Fa-f]{0,6}$/.test(j)&&e.setBackgroundColor(j)},placeholder:"#ffffff",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg font-mono text-sm"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-1 text-sm font-medium text-gray-700 mb-2",children:["Background Opacity: ",e.backgroundOpacity,"%",o.jsx(Tt,{text:"Adjusts the transparency of the chart background"})]}),o.jsx("input",{type:"range",min:"0",max:"100",value:e.backgroundOpacity,onChange:d=>m.setBackgroundOpacity(Number(d.target.value)),className:"w-full"})]})]})}),o.jsx(St,{title:"Canvas & Layout",isExpanded:r.layoutCanvas,onToggle:()=>a("layoutCanvas"),children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Aspect Ratio"}),o.jsxs("select",{value:e.aspectRatio,onChange:d=>e.updateAspectRatio(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"16:9",children:"16:9 (Widescreen)"}),o.jsx("option",{value:"4:3",children:"4:3 (Standard)"}),o.jsx("option",{value:"1:1",children:"1:1 (Square)"}),o.jsx("option",{value:"3:4",children:"3:4 (Portrait)"}),o.jsx("option",{value:"9:16",children:"9:16 (Mobile)"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Canvas Width: ",e.canvasWidth,"px"]}),o.jsx("input",{type:"range",min:"600",max:"2000",value:e.canvasWidth,onChange:d=>m.setCanvasWidth(Number(d.target.value)),className:"w-full"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Canvas Height: ",e.canvasHeight,"px"]}),o.jsx("input",{type:"range",min:"400",max:"2000",value:e.canvasHeight,onChange:d=>m.setCanvasHeight(Number(d.target.value)),className:"w-full"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Chart Width: ",e.chartWidth,"px"]}),o.jsx("input",{type:"range",min:"200",max:"1500",value:e.chartWidth,onChange:d=>m.setChartWidth(Number(d.target.value)),onInput:d=>e.setChartWidth(Number(d.target.value)),className:"w-full"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Chart Height: ",e.chartHeight,"px"]}),o.jsx("input",{type:"range",min:"400",max:"2000",value:e.chartHeight,onChange:d=>m.setChartHeight(Number(d.target.value)),onInput:d=>e.setChartHeight(Number(d.target.value)),className:"w-full"})]})]})}),o.jsx(St,{title:"Colors & Styling",isExpanded:r.colorMode,onToggle:()=>a("colorMode"),children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color Strategy"}),o.jsxs("select",{value:e.colorMode,onChange:d=>e.setColorMode(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"category",children:"Category (Different color per line)"}),o.jsx("option",{value:"trend",children:"Trend (Color by direction)"}),o.jsx("option",{value:"custom",children:"Custom (Manual colors)"}),o.jsx("option",{value:"gradient",children:"Gradient (Fade effect)"})]})]}),e.colorMode==="trend"&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Increase Color"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"color",value:e.increaseColor,onChange:d=>e.setIncreaseColor(d.target.value),className:"w-16 h-10 rounded-lg cursor-pointer border border-gray-300"}),o.jsx("input",{type:"text",value:e.increaseColor,onChange:d=>e.setIncreaseColor(d.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 font-mono text-sm"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Decrease Color"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"color",value:e.decreaseColor,onChange:d=>e.setDecreaseColor(d.target.value),className:"w-16 h-10 rounded-lg cursor-pointer border border-gray-300"}),o.jsx("input",{type:"text",value:e.decreaseColor,onChange:d=>e.setDecreaseColor(d.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 font-mono text-sm"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"No Change Color"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"color",value:e.noChangeColor,onChange:d=>e.setNoChangeColor(d.target.value),className:"w-16 h-10 rounded-lg cursor-pointer border border-gray-300"}),o.jsx("input",{type:"text",value:e.noChangeColor,onChange:d=>e.setNoChangeColor(d.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 font-mono text-sm"})]})]})]}),e.colorMode==="gradient"&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Color (Left)"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"color",value:e.startColor,onChange:d=>e.setStartColor(d.target.value),className:"w-16 h-10 rounded-lg cursor-pointer border border-gray-300"}),o.jsx("input",{type:"text",value:e.startColor,onChange:d=>e.setStartColor(d.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 font-mono text-sm"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Color (Right)"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"color",value:e.endColor,onChange:d=>e.setEndColor(d.target.value),className:"w-16 h-10 rounded-lg cursor-pointer border border-gray-300"}),o.jsx("input",{type:"text",value:e.endColor,onChange:d=>e.setEndColor(d.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 font-mono text-sm"})]})]})]}),e.colorMode==="category"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Palette"}),o.jsx("select",{value:e.comparisonPalette,onChange:d=>e.setComparisonPalette(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500",children:Object.entries(Kn).map(([d,j])=>o.jsx("option",{value:d,children:j.name},d))}),e.comparisonPalette!=="user"&&o.jsx("div",{className:"mt-2",children:o.jsx("div",{className:"flex flex-wrap gap-2",children:Kn[e.comparisonPalette].colors.slice(0,8).map((d,j)=>o.jsx("div",{className:"w-10 h-10 rounded border-2 border-gray-300",style:{backgroundColor:d},title:d},j))})})]}),(e.colorMode==="custom"||e.colorMode==="category"&&e.comparisonPalette==="user")&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Colors (up to 8)"}),o.jsx("div",{className:"grid grid-cols-4 gap-3",children:e.userCustomColors.map((d,j)=>o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("input",{type:"color",value:d,onChange:z=>{const S=[...e.userCustomColors];S[j]=z.target.value,e.setUserCustomColors(S)},className:"w-full h-12 rounded-lg cursor-pointer border-2 border-gray-300"}),o.jsx("input",{type:"text",value:d,onChange:z=>{const S=[...e.userCustomColors];S[j]=z.target.value,e.setUserCustomColors(S)},className:"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-cyan-500 font-mono"})]},j))})]})]})}),o.jsx(St,{title:"Typography",isExpanded:r.typography,onToggle:()=>a("typography"),children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),o.jsx("input",{type:"text",value:e.title,onChange:d=>e.setTitle(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subtitle"}),o.jsx("input",{type:"text",value:e.subtitle,onChange:d=>e.setSubtitle(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title Alignment"}),o.jsxs("select",{value:e.titleAlignment,onChange:d=>e.setTitleAlignment(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"left",children:"Left"}),o.jsx("option",{value:"center",children:"Center"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Font Family"}),o.jsxs("select",{value:e.fontFamily,onChange:d=>e.setFontFamily(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsxs("optgroup",{label:"Sans-Serif",children:[o.jsx("option",{value:"Inter",children:"Inter"}),o.jsx("option",{value:"Montserrat",children:"Montserrat"}),o.jsx("option",{value:"Roboto",children:"Roboto"}),o.jsx("option",{value:"Open Sans",children:"Open Sans"}),o.jsx("option",{value:"Lato",children:"Lato"})]}),o.jsxs("optgroup",{label:"Condensed",children:[o.jsx("option",{value:"Roboto Condensed",children:"Roboto Condensed"}),o.jsx("option",{value:"Open Sans Condensed",children:"Open Sans Condensed"}),o.jsx("option",{value:"Economica",children:"Economica"})]}),o.jsxs("optgroup",{label:"Serif",children:[o.jsx("option",{value:"Merriweather",children:"Merriweather"}),o.jsx("option",{value:"Playfair Display",children:"Playfair Display"}),o.jsx("option",{value:"Lora",children:"Lora"}),o.jsx("option",{value:"PT Serif",children:"PT Serif"}),o.jsx("option",{value:"Newsreader",children:"Newsreader"}),o.jsx("option",{value:"Georgia",children:"Georgia"})]})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Title Font Size: ",e.titleFontSize,"px"]}),o.jsx("input",{type:"range",min:"16",max:"48",value:e.titleFontSize,onChange:d=>e.setTitleFontSize(Number(d.target.value)),className:"w-full"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Subtitle Font Size: ",e.subtitleFontSize,"px"]}),o.jsx("input",{type:"range",min:"12",max:"32",value:e.subtitleFontSize,onChange:d=>e.setSubtitleFontSize(Number(d.target.value)),className:"w-full"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Segment Label Font Size: ",e.segmentLabelFontSize,"px"]}),o.jsx("input",{type:"range",min:"12",max:"32",value:e.segmentLabelFontSize,onChange:d=>e.setSegmentLabelFontSize(Number(d.target.value)),className:"w-full"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Metric Label Font Size: ",e.metricLabelFontSize,"px"]}),o.jsx("input",{type:"range",min:"10",max:"24",value:e.metricLabelFontSize,onChange:d=>e.setMetricLabelFontSize(Number(d.target.value)),className:"w-full"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Period Font Label: ",e.periodLabelFontSize,"px"]}),o.jsx("input",{type:"range",min:"14",max:"32",value:e.periodLabelFontSize,onChange:d=>e.setPeriodLabelFontSize(Number(d.target.value)),className:"w-full"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Period Label Position"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>e.setPeriodLabelPosition("above"),className:`flex-1 px-4 py-2 rounded-lg ${e.periodLabelPosition==="above"?"bg-cyan-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Above"}),o.jsx("button",{onClick:()=>e.setPeriodLabelPosition("below"),className:`flex-1 px-4 py-2 rounded-lg ${e.periodLabelPosition==="below"?"bg-cyan-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Below"})]})]})]})}),o.jsx(St,{title:"Labels",isExpanded:r.labels,onToggle:()=>a("labels"),children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category Label Position"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>e.setLabelPosition("left"),className:`flex-1 px-4 py-2 rounded-lg font-medium text-sm transition-all ${e.labelPosition==="left"?"bg-cyan-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Left"}),o.jsx("button",{onClick:()=>e.setLabelPosition("right"),className:`flex-1 px-4 py-2 rounded-lg font-medium text-sm transition-all ${e.labelPosition==="right"?"bg-cyan-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Right"}),o.jsx("button",{onClick:()=>e.setLabelPosition("both"),className:`flex-1 px-4 py-2 rounded-lg font-medium text-sm transition-all ${e.labelPosition==="both"?"bg-cyan-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Both"})]})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.showCategoryLabels,onChange:d=>e.setShowCategoryLabels(d.target.checked),className:"w-4 h-4 text-cyan-600 rounded"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Show Category Labels"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.showValueLabels,onChange:d=>e.setShowValueLabels(d.target.checked),className:"w-4 h-4 text-cyan-600 rounded"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Show Value Labels"})]}),e.showValueLabels&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Label Format"}),o.jsxs("select",{value:e.labelFormat,onChange:d=>e.setLabelFormat(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"value",children:"Values Only"}),o.jsx("option",{value:"percentage",children:"Percentage Change Only"}),o.jsx("option",{value:"both",children:"Values & Percentage"})]})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.compactNumbers,onChange:d=>e.setCompactNumbers(d.target.checked),className:"w-4 h-4 text-cyan-600 rounded"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Compact numbers (1K, 1M)"})]})]})]})}),o.jsx(St,{title:"Line Styling",isExpanded:r.lineStyling,onToggle:()=>a("lineStyling"),children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Line Thickness: ",e.lineThickness,"px"]}),o.jsx("input",{type:"range",min:"1",max:"7",value:e.lineThickness,onChange:d=>m.setLineThickness(Number(d.target.value)),className:"w-full"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-1 text-sm font-medium text-gray-700 mb-2",children:["Line Saturation: ",e.lineSaturation,"%",o.jsx(Tt,{text:"100% = Full vibrant colors, 0% = Grey"})]}),o.jsx("input",{type:"range",min:"0",max:"100",step:"5",value:e.lineSaturation,onChange:d=>m.setLineSaturation(Number(d.target.value)),className:"w-full"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Endpoint Size: ",e.endpointSize,"px"]}),o.jsx("input",{type:"range",min:"0",max:"12",value:e.endpointSize,onChange:d=>m.setEndpointSize(Number(d.target.value)),className:"w-full"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Endpoint Style"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>e.setEndpointStyle("filled"),className:`flex-1 px-4 py-2 rounded-lg font-medium text-sm transition-all ${e.endpointStyle==="filled"?"bg-cyan-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Filled"}),o.jsx("button",{onClick:()=>e.setEndpointStyle("outlined"),className:`flex-1 px-4 py-2 rounded-lg font-medium text-sm transition-all ${e.endpointStyle==="outlined"?"bg-cyan-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Outlined"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-1 text-sm font-medium text-gray-700 mb-2",children:["Period Spacing: ",e.periodSpacing,"px",o.jsx(Tt,{text:"Distance between the two vertical axis lines"})]}),o.jsx("input",{type:"range",min:"100",max:"600",value:e.periodSpacing,onChange:d=>m.setPeriodSpacing(Number(d.target.value)),className:"w-full"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Axis Line Style"}),o.jsxs("select",{value:e.slopeAxisLineStyle,onChange:d=>e.setSlopeAxisLineStyle(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"none",children:"No Line"}),o.jsx("option",{value:"solid",children:"Solid"}),o.jsx("option",{value:"dashed",children:"Dashed"}),o.jsx("option",{value:"dotted",children:"Dotted"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Axis Line Color"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"color",value:e.slopeAxisLineColor,onChange:d=>e.setSlopeAxisLineColor(d.target.value),className:"w-16 h-10 rounded-lg cursor-pointer border border-gray-300"}),o.jsx("input",{type:"text",value:e.slopeAxisLineColor,onChange:d=>e.setSlopeAxisLineColor(d.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 font-mono text-sm"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Axis Ends"}),o.jsxs("select",{value:e.axisEnds,onChange:d=>e.setAxisEnds(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"none",children:"No Style"}),o.jsx("option",{value:"t-end",children:"T-end"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Axis Line Thickness: ",e.slopeAxisLineWidth,"px"]}),o.jsx("input",{type:"range",min:"1",max:"5",value:e.slopeAxisLineWidth,onChange:d=>e.setSlopeAxisLineWidth(Number(d.target.value)),className:"w-full"})]})]})}),o.jsx(St,{title:"Emphasis",isExpanded:r.lineEmphasis,onToggle:()=>a("lineEmphasis"),children:o.jsxs("div",{className:"space-y-3",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Click on lines in the chart to emphasize them (max 2)"}),e.emphasizedLines.length>0&&o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["Emphasized Lines: ",e.emphasizedLines.join(", ")]}),o.jsx("button",{onClick:()=>e.setEmphasizedLines([]),className:"text-sm text-cyan-600 hover:text-cyan-700 underline",children:"Clear All"})]})]})}),o.jsx(St,{title:"Watermark",isExpanded:r.watermark,onToggle:()=>a("watermark"),children:o.jsx("div",{className:"space-y-2",children:o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"User Tier"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>e.setUserTier("free"),className:`flex-1 px-4 py-2 rounded-lg font-medium text-sm transition-all ${e.userTier==="free"?"bg-gray-500 text-white border-2 border-gray-600 shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200 border border-gray-300"}`,children:"Free (with watermark)"}),o.jsx("button",{onClick:()=>e.setUserTier("pro"),className:`flex-1 px-4 py-2 rounded-lg font-medium text-sm transition-all ${e.userTier==="pro"?"bg-cyan-600 text-white border-2 border-cyan-700 shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200 border border-gray-300"}`,children:"Pro (no watermark)"})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Free tier displays Find&Tell watermark on charts"})]})})})]}),v&&o.jsxs(o.Fragment,{children:[o.jsx(St,{title:"Theme",isExpanded:r.theme,onToggle:()=>a("theme"),children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chart Background"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>{e.setDarkMode(!1),e.setBackgroundColor("#ffffff")},className:`flex-1 px-4 py-2 rounded-lg font-medium text-sm transition-all ${e.darkMode?"bg-gray-100 text-gray-600 hover:bg-gray-200 border border-gray-300":"bg-white text-gray-900 border-2 border-gray-400 shadow-md"}`,children:"Light Mode"}),o.jsx("button",{onClick:()=>{e.setDarkMode(!0),e.setBackgroundColor("#1f2937")},className:`flex-1 px-4 py-2 rounded-lg font-medium text-sm transition-all ${e.darkMode?"bg-gray-800 text-white border-2 border-gray-600 shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200 border border-gray-300"}`,children:"Dark Mode"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Background Color"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"color",value:e.backgroundColor,onChange:d=>e.setBackgroundColor(d.target.value),className:"w-16 h-10 rounded border border-gray-300 cursor-pointer"}),o.jsx("input",{type:"text",value:e.backgroundColor,onChange:d=>{const j=d.target.value;/^#[0-9A-Fa-f]{0,6}$/.test(j)&&e.setBackgroundColor(j)},placeholder:"#ffffff",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg font-mono text-sm"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-1 text-sm font-medium text-gray-700 mb-2",children:["Background Opacity: ",e.backgroundOpacity,"%",o.jsx(Tt,{text:"Adjusts the transparency of the chart background"})]}),o.jsx("input",{type:"range",min:"0",max:"100",value:e.backgroundOpacity,onChange:d=>m.setBackgroundOpacity(Number(d.target.value)),className:"w-full"})]})]})}),o.jsx(St,{title:"Canvas & Layout",isExpanded:r.layoutCanvas,onToggle:()=>a("layoutCanvas"),children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Aspect Ratio"}),o.jsxs("select",{value:e.aspectRatio,onChange:d=>e.updateAspectRatio(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"16:9",children:"16:9 (Widescreen)"}),o.jsx("option",{value:"4:3",children:"4:3 (Standard)"}),o.jsx("option",{value:"1:1",children:"1:1 (Square)"}),o.jsx("option",{value:"3:4",children:"3:4 (Portrait)"}),o.jsx("option",{value:"9:16",children:"9:16 (Mobile)"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Canvas Width: ",e.canvasWidth,"px"]}),o.jsx("input",{type:"range",min:"600",max:"2000",value:e.canvasWidth,onChange:d=>m.setCanvasWidth(Number(d.target.value)),className:"w-full"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Canvas Height: ",e.canvasHeight,"px"]}),o.jsx("input",{type:"range",min:"400",max:"2000",value:e.canvasHeight,onChange:d=>m.setCanvasHeight(Number(d.target.value)),className:"w-full"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Chart Width: ",e.chartWidth,"px"]}),o.jsx("input",{type:"range",min:"200",max:"1500",value:e.chartWidth,onChange:d=>m.setChartWidth(Number(d.target.value)),onInput:d=>e.setChartWidth(Number(d.target.value)),className:"w-full"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Chart Height: ",e.chartHeight,"px"]}),o.jsx("input",{type:"range",min:"200",max:"1000",value:e.chartHeight,onChange:d=>m.setChartHeight(Number(d.target.value)),onInput:d=>e.setChartHeight(Number(d.target.value)),className:"w-full"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Category Spacing: ",e.stageGap]}),o.jsx("input",{type:"range",min:"0",max:"100",value:e.stageGap,onChange:d=>e.setStageGap(Number(d.target.value)),onInput:d=>e.setStageGap(Number(d.target.value)),className:"w-full"})]}),v&&e.barMode==="grouped"&&o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Bar Width: ",e.barWidth,"%"]}),o.jsx("input",{type:"range",min:"0",max:"150",value:e.barWidth,onChange:d=>e.setBarWidth(Number(d.target.value)),onInput:d=>e.setBarWidth(Number(d.target.value)),className:"w-full"})]})]})}),o.jsx(St,{title:"Colors & Styling",isExpanded:r.colorsStyling,onToggle:()=>a("colorsStyling"),children:o.jsx("div",{className:"space-y-2",children:c==="bar"&&i.periodNames&&i.periodNames.length>1||i.isComparisonMode?o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color Strategy"}),o.jsxs("select",{value:e.colorMode,onChange:d=>{e.setColorMode(d.target.value),d.target.value==="custom"&&e.setComparisonPalette("user")},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"category",children:"Category (Different color per series)"}),o.jsx("option",{value:"custom",children:"Custom (Manual colors)"})]})]}),e.colorMode==="category"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Palette"}),o.jsx("select",{value:e.comparisonPalette,onChange:d=>e.setComparisonPalette(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500",children:Object.entries(Kn).map(([d,j])=>o.jsx("option",{value:d,children:j.name},d))}),e.comparisonPalette!=="user"&&o.jsx("div",{className:"mt-2",children:o.jsx("div",{className:"flex flex-wrap gap-2",children:Kn[e.comparisonPalette].colors.slice(0,8).map((d,j)=>o.jsx("div",{className:"w-10 h-10 rounded border-2 border-gray-300",style:{backgroundColor:d},title:d},j))})})]}),(e.colorMode==="custom"||e.colorMode==="category"&&e.comparisonPalette==="user")&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Colors (up to 8)"}),o.jsx("div",{className:"grid grid-cols-4 gap-3",children:e.userCustomColors.map((d,j)=>o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("input",{type:"color",value:d,onChange:z=>{const S=[...e.userCustomColors];S[j]=z.target.value,e.setUserCustomColors(S)},className:"w-full h-12 rounded-lg cursor-pointer border-2 border-gray-300"}),o.jsx("input",{type:"text",value:d,onChange:z=>{const S=[...e.userCustomColors];S[j]=z.target.value,e.setUserCustomColors(S)},className:"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-cyan-500 font-mono"})]},j))})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bar Color"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"color",value:e.barColor,onChange:d=>e.setBarColor(d.target.value),className:"w-16 h-10 rounded-lg cursor-pointer border border-gray-300"}),o.jsx("input",{type:"text",value:e.barColor,onChange:d=>e.setBarColor(d.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 font-mono text-sm"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Palette"}),o.jsx("select",{value:e.comparisonPalette,onChange:d=>{e.setComparisonPalette(d.target.value);const j=Kn[d.target.value];j&&j.colors&&j.colors.length>0&&e.setBarColor(j.colors[0])},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500",children:Object.entries(Kn).filter(([d])=>d!=="user").map(([d,j])=>o.jsx("option",{value:d,children:j.name},d))}),e.comparisonPalette!=="user"&&o.jsx("div",{className:"mt-2",children:o.jsx("div",{className:"flex flex-wrap gap-2",children:Kn[e.comparisonPalette].colors.slice(0,8).map((d,j)=>o.jsx("div",{className:"w-10 h-10 rounded border-2 border-gray-300",style:{backgroundColor:d},title:d},j))})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color Presets"}),o.jsx("div",{className:"grid grid-cols-4 gap-2",children:v0.map(d=>o.jsxs("button",{onClick:()=>e.setBarColor(d.color),className:"group relative",title:d.name,children:[o.jsx("div",{className:"w-full h-10 rounded border-2 border-gray-300 hover:border-cyan-500 transition-colors",style:{backgroundColor:d.color}}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx("span",{className:"text-xs font-medium text-white bg-black bg-opacity-75 px-2 py-1 rounded",children:d.name})})]},d.name))})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-1 text-sm font-medium text-gray-700 mb-2",children:["Color Transition: ",e.colorTransition,"%",o.jsx(Tt,{text:"Controls the gradient intensity from dark to light across periods"})]}),o.jsx("input",{type:"range",min:"0",max:"100",value:e.colorTransition,onChange:d=>m.setColorTransition(Number(d.target.value)),className:"w-full"})]})]})})}),o.jsx(St,{title:"Typography",isExpanded:r.typography,onToggle:()=>a("typography"),children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),o.jsx("input",{type:"text",value:e.title,onChange:d=>e.setTitle(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subtitle"}),o.jsx("input",{type:"text",value:e.subtitle,onChange:d=>e.setSubtitle(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title Alignment"}),o.jsxs("select",{value:e.titleAlignment,onChange:d=>e.setTitleAlignment(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"left",children:"Left"}),o.jsx("option",{value:"center",children:"Center"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Font Family"}),o.jsxs("select",{value:e.fontFamily,onChange:d=>e.setFontFamily(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsxs("optgroup",{label:"Sans-Serif",children:[o.jsx("option",{value:"Inter",children:"Inter"}),o.jsx("option",{value:"Montserrat",children:"Montserrat"}),o.jsx("option",{value:"Roboto",children:"Roboto"}),o.jsx("option",{value:"Open Sans",children:"Open Sans"}),o.jsx("option",{value:"Lato",children:"Lato"})]}),o.jsxs("optgroup",{label:"Condensed",children:[o.jsx("option",{value:"Roboto Condensed",children:"Roboto Condensed"}),o.jsx("option",{value:"Open Sans Condensed",children:"Open Sans Condensed"}),o.jsx("option",{value:"Economica",children:"Economica"})]}),o.jsxs("optgroup",{label:"Serif",children:[o.jsx("option",{value:"Merriweather",children:"Merriweather"}),o.jsx("option",{value:"Playfair Display",children:"Playfair Display"}),o.jsx("option",{value:"Lora",children:"Lora"}),o.jsx("option",{value:"PT Serif",children:"PT Serif"}),o.jsx("option",{value:"Newsreader",children:"Newsreader"}),o.jsx("option",{value:"Georgia",children:"Georgia"})]})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Title Font Size: ",e.titleFontSize,"px"]}),o.jsx("input",{type:"range",min:"16",max:"48",value:e.titleFontSize,onChange:d=>e.setTitleFontSize(Number(d.target.value)),className:"w-full"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Subtitle Font Size: ",e.subtitleFontSize,"px"]}),o.jsx("input",{type:"range",min:"12",max:"32",value:e.subtitleFontSize,onChange:d=>e.setSubtitleFontSize(Number(d.target.value)),className:"w-full"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["X-Axis Font Size: ",e.xAxisFontSize,"px"]}),o.jsx("input",{type:"range",min:"12",max:"32",value:e.xAxisFontSize,onChange:d=>e.setXAxisFontSize(Number(d.target.value)),className:"w-full"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Y-Axis Font Size: ",e.yAxisFontSize,"px"]}),o.jsx("input",{type:"range",min:"12",max:"32",value:e.yAxisFontSize,onChange:d=>e.setYAxisFontSize(Number(d.target.value)),className:"w-full"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Metric Label Font Size: ",e.metricLabelFontSize,"px"]}),o.jsx("input",{type:"range",min:"10",max:"24",value:e.metricLabelFontSize,onChange:d=>e.setMetricLabelFontSize(Number(d.target.value)),className:"w-full"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Period Label Font Size: ",e.periodLabelFontSize,"px"]}),o.jsx("input",{type:"range",min:"10",max:"24",value:e.periodLabelFontSize,onChange:d=>e.setPeriodLabelFontSize(Number(d.target.value)),className:"w-full"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Legend Font Size: ",e.legendFontSize,"px"]}),o.jsx("input",{type:"range",min:"8",max:"20",value:e.legendFontSize,onChange:d=>e.setLegendFontSize(Number(d.target.value)),className:"w-full"})]})]})}),o.jsx(St,{title:"Labels",isExpanded:r.dataLabels,onToggle:()=>a("dataLabels"),children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{children:o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.showMetricLabels,onChange:d=>e.setShowMetricLabels(d.target.checked),className:"w-4 h-4 text-cyan-600 rounded"}),o.jsxs("span",{className:"flex items-center gap-1 text-sm font-medium text-gray-700",children:["Metric Labels",o.jsx(Tt,{text:'Toggle to show or hide metric values (e.g., "1250")'})]})]})}),e.showMetricLabels&&o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-1 text-sm font-medium text-gray-700 mb-2",children:["Metric Label Position",o.jsx(Tt,{text:"Position metric labels at the end of bars (inside or outside)"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>e.setMetricLabelPosition("inside"),className:`flex-1 px-4 py-2 rounded-lg font-medium text-sm transition-all ${e.metricLabelPosition==="inside"?"bg-cyan-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Inside"}),o.jsx("button",{onClick:()=>e.setMetricLabelPosition("outside"),className:`flex-1 px-4 py-2 rounded-lg font-medium text-sm transition-all ${e.metricLabelPosition==="outside"?"bg-cyan-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Outside"})]})]}),o.jsx("div",{children:o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.showPeriodLabels,onChange:d=>e.setShowPeriodLabels(d.target.checked),className:"w-4 h-4 text-cyan-600 rounded"}),o.jsxs("span",{className:"flex items-center gap-1 text-sm font-medium text-gray-700",children:["Period Labels",o.jsx(Tt,{text:'Toggle to show or hide period names (e.g., "Jan", "Feb")'})]})]})}),(e.showMetricLabels||e.showPeriodLabels)&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Label Mode"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>e.setLabelMode("legend"),className:`flex-1 px-4 py-2 rounded-lg font-medium text-sm transition-all ${e.labelMode==="legend"?"bg-cyan-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Legend"}),o.jsx("button",{onClick:()=>e.setLabelMode("direct"),className:`flex-1 px-4 py-2 rounded-lg font-medium text-sm transition-all ${e.labelMode==="direct"?"bg-cyan-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Direct Labels"})]})]}),e.labelMode==="legend"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Legend Placement"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>e.setLegendPosition("above"),className:`flex-1 px-4 py-2 rounded-lg font-medium text-sm transition-all ${e.legendPosition==="above"?"bg-cyan-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Top"}),o.jsx("button",{onClick:()=>e.setLegendPosition("below"),className:`flex-1 px-4 py-2 rounded-lg font-medium text-sm transition-all ${e.legendPosition==="below"?"bg-cyan-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Bottom"})]})]}),e.labelMode==="direct"&&e.barMode==="grouped"&&o.jsx(o.Fragment,{children:e.showPeriodLabels&&o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-1 text-sm font-medium text-gray-700 mb-2",children:["Period Label Display",o.jsx(Tt,{text:"Show period labels in first group only or all groups"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>e.setPeriodLabelDisplay("first"),className:`flex-1 px-4 py-2 rounded-lg font-medium text-sm transition-all ${e.periodLabelDisplay==="first"?"bg-cyan-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"First Group"}),o.jsx("button",{onClick:()=>e.setPeriodLabelDisplay("all"),className:`flex-1 px-4 py-2 rounded-lg font-medium text-sm transition-all ${e.periodLabelDisplay==="all"?"bg-cyan-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"All Groups"})]})]})})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.compactNumbers!==void 0?e.compactNumbers:!0,onChange:d=>e.setCompactNumbers(d.target.checked),className:"w-4 h-4 text-cyan-600 rounded"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Compact Numbers (1K, 1M, 1B)"})]})]})}),o.jsx(St,{title:"Chart Structure",isExpanded:r.chartStructure,onToggle:()=>a("chartStructure"),children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Orientation"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>{e.setOrientation("vertical"),h()},className:`flex-1 px-4 py-2 rounded-lg font-medium text-sm transition-all ${e.orientation==="vertical"?"bg-cyan-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Vertical"}),o.jsx("button",{onClick:()=>{e.setOrientation("horizontal"),h()},className:`flex-1 px-4 py-2 rounded-lg font-medium text-sm transition-all ${e.orientation==="horizontal"?"bg-cyan-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Horizontal"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Mode"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>{e.setBarMode("grouped"),h()},className:`flex-1 px-3 py-2 rounded-lg font-medium text-sm transition-all ${e.barMode==="grouped"?"bg-cyan-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Grouped"}),o.jsx("button",{onClick:()=>{e.setBarMode("stacked"),h()},className:`flex-1 px-3 py-2 rounded-lg font-medium text-sm transition-all ${e.barMode==="stacked"?"bg-cyan-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Stacked"})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:e.barMode==="grouped"?"Display bars side by side for each category":"Stack bars on top of each other for cumulative values"})]}),e.barMode==="stacked"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"showTotalLabels",checked:e.showTotalLabels,onChange:d=>e.setShowTotalLabels(d.target.checked),className:"w-4 h-4 text-cyan-600 border-gray-300 rounded focus:ring-cyan-500"}),o.jsx("label",{htmlFor:"showTotalLabels",className:"text-sm font-medium text-gray-700",children:"Show Total Labels"})]}),e.showTotalLabels&&o.jsxs("div",{className:"flex items-center gap-2 ml-6",children:[o.jsx("input",{type:"checkbox",id:"boldTotal",checked:e.boldTotal,onChange:d=>e.setBoldTotal(d.target.checked),className:"w-4 h-4 text-cyan-600 border-gray-300 rounded focus:ring-cyan-500"}),o.jsx("label",{htmlFor:"boldTotal",className:"text-sm font-medium text-gray-700",children:"Bold Total"})]})]})]})}),o.jsx(St,{title:"Axes & Gridlines",isExpanded:r.axesGridlines,onToggle:()=>a("axesGridlines"),children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{children:o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bounds"})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"w-24 text-sm font-medium text-gray-700",children:"Minimum"}),o.jsx("input",{type:"number",value:e.axisMinimumAuto?e.calculatedAxisMinimum:e.axisMinimum,onChange:d=>{e.setAxisMinimum(Number(d.target.value)),e.axisMinimumAuto&&e.setAxisMinimumAuto(!1)},className:"w-24 px-2 py-1 border border-gray-300 rounded text-sm"}),o.jsxs("label",{className:"flex items-center gap-1 text-sm text-gray-600",children:[o.jsx("input",{type:"checkbox",checked:e.axisMinimumAuto,onChange:d=>e.setAxisMinimumAuto(d.target.checked),className:"rounded"}),"Auto"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"w-24 text-sm font-medium text-gray-700",children:"Maximum"}),o.jsx("input",{type:"number",value:e.axisMaximumAuto?e.calculatedAxisMaximum:e.axisMaximum,onChange:d=>{e.setAxisMaximum(Number(d.target.value)),e.axisMaximumAuto&&e.setAxisMaximumAuto(!1)},className:"w-24 px-2 py-1 border border-gray-300 rounded text-sm"}),o.jsxs("label",{className:"flex items-center gap-1 text-sm text-gray-600",children:[o.jsx("input",{type:"checkbox",checked:e.axisMaximumAuto,onChange:d=>e.setAxisMaximumAuto(d.target.checked),className:"rounded"}),"Auto"]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{children:o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Units"})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"w-24 text-sm font-medium text-gray-700",children:"Major"}),o.jsx("input",{type:"number",value:e.axisMajorUnitAuto?e.calculatedAxisMajorUnit:e.axisMajorUnit,onChange:d=>{e.setAxisMajorUnit(Number(d.target.value)),e.axisMajorUnitAuto&&e.setAxisMajorUnitAuto(!1)},className:"w-24 px-2 py-1 border border-gray-300 rounded text-sm"}),o.jsxs("label",{className:"flex items-center gap-1 text-sm text-gray-600",children:[o.jsx("input",{type:"checkbox",checked:e.axisMajorUnitAuto,onChange:d=>e.setAxisMajorUnitAuto(d.target.checked),className:"rounded"}),"Auto"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"w-24 text-sm font-medium text-gray-700",children:"Minor"}),o.jsx("input",{type:"number",value:e.axisMinorUnit,onChange:d=>e.setAxisMinorUnit(Number(d.target.value)),disabled:e.axisMinorUnitAuto,className:"w-24 px-2 py-1 border border-gray-300 rounded text-sm disabled:bg-gray-100"}),o.jsxs("label",{className:"flex items-center gap-1 text-sm text-gray-600",children:[o.jsx("input",{type:"checkbox",checked:e.axisMinorUnitAuto,onChange:d=>e.setAxisMinorUnitAuto(d.target.checked),className:"rounded"}),"Auto"]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{children:o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tick Marks"})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"w-24 text-sm font-medium text-gray-700",children:"Major Type"}),o.jsxs("select",{value:e.axisMajorTickType,onChange:d=>e.setAxisMajorTickType(d.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded text-sm",children:[o.jsx("option",{value:"none",children:"None"}),o.jsx("option",{value:"outside",children:"Outside"}),o.jsx("option",{value:"inside",children:"Inside"}),o.jsx("option",{value:"cross",children:"Cross"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"w-24 text-sm font-medium text-gray-700",children:"Minor Type"}),o.jsxs("select",{value:e.axisMinorTickType,onChange:d=>e.setAxisMinorTickType(d.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded text-sm",children:[o.jsx("option",{value:"none",children:"None"}),o.jsx("option",{value:"outside",children:"Outside"}),o.jsx("option",{value:"inside",children:"Inside"}),o.jsx("option",{value:"cross",children:"Cross"})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{children:o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gridlines"})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"w-24 text-sm font-medium text-gray-700",children:"Horizontal"}),o.jsx("button",{onClick:()=>e.setShowHorizontalGridlines(!e.showHorizontalGridlines),className:`px-4 py-1 rounded text-sm font-medium ${e.showHorizontalGridlines?"bg-cyan-600 text-white":"bg-gray-200 text-gray-600"}`,children:e.showHorizontalGridlines?"On":"Off"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"w-24 text-sm font-medium text-gray-700",children:"Vertical"}),o.jsx("button",{onClick:()=>e.setShowVerticalGridlines(!e.showVerticalGridlines),className:`px-4 py-1 rounded text-sm font-medium ${e.showVerticalGridlines?"bg-cyan-600 text-white":"bg-gray-200 text-gray-600"}`,children:e.showVerticalGridlines?"On":"Off"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{children:o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number Format"})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"flex-1 text-sm text-gray-700",children:"Compact axis values (1.5K vs 1500)"}),o.jsx("button",{onClick:()=>e.setCompactAxisNumbers(!e.compactAxisNumbers),className:`px-4 py-1 rounded text-sm font-medium ${e.compactAxisNumbers?"bg-cyan-600 text-white":"bg-gray-200 text-gray-600"}`,children:e.compactAxisNumbers?"On":"Off"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{children:o.jsxs("label",{className:"flex items-center gap-1 text-sm font-medium text-gray-700 mb-2",children:["X-Axis Label Rotation",o.jsx(Tt,{text:"Rotate category labels (0 = horizontal, 90 = vertical)"})]})}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("label",{className:"flex-1 text-sm text-gray-700",children:"Rotation Angle"}),o.jsxs("span",{className:"text-sm text-gray-600 w-12 text-right",children:[e.xAxisLabelRotation,""]})]}),o.jsx("input",{type:"range",min:"0",max:"90",value:e.xAxisLabelRotation,onChange:d=>e.setXAxisLabelRotation(Number(d.target.value)),className:"w-full"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{children:o.jsxs("label",{className:"flex items-center gap-1 text-sm font-medium text-gray-700 mb-2",children:["Axis Label",o.jsx(Tt,{text:"Optional label at the end of the value axis"})]})}),o.jsx("input",{type:"text",value:e.axisLabel,onChange:d=>e.setAxisLabel(d.target.value),placeholder:"e.g., Revenue ($)",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{children:o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number Styling (Values)"})}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium text-gray-600 mb-1",children:["Value Format",o.jsx(Tt,{text:"Percentage multiplies values by 100 and adds % symbol"})]}),o.jsxs("select",{value:e.valueFormat,onChange:d=>e.setValueFormat(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 text-sm",children:[o.jsx("option",{value:"number",children:"Number"}),o.jsx("option",{value:"percentage",children:"Percentage"})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Prefix"}),o.jsx("input",{type:"text",value:e.valuePrefix,onChange:d=>e.setValuePrefix(d.target.value),placeholder:"$",maxLength:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Suffix"}),o.jsx("input",{type:"text",value:e.valueSuffix,onChange:d=>e.setValueSuffix(d.target.value),placeholder:"%",maxLength:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Decimal places"}),o.jsx("input",{type:"number",value:e.valueDecimalPlaces,onChange:d=>e.setValueDecimalPlaces(Math.max(0,Math.min(5,parseInt(d.target.value)||0))),min:"0",max:"5",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 text-sm"})]})]})]})]})}),o.jsx(St,{title:"Emphasis",isExpanded:r.emphasis,onToggle:()=>a("emphasis"),children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Percent Change"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>e.setPercentChangeEnabled(!1),className:`flex-1 px-4 py-2 rounded-lg font-medium text-sm transition-all ${e.percentChangeEnabled?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-cyan-600 text-white shadow-md"}`,children:"Off"}),o.jsx("button",{onClick:()=>e.setPercentChangeEnabled(!0),className:`flex-1 px-4 py-2 rounded-lg font-medium text-sm transition-all ${e.percentChangeEnabled?"bg-cyan-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"On"})]})]}),e.percentChangeEnabled&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Label Format"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>e.setPercentChangeLabelFormat("percent"),className:`flex-1 px-4 py-2 rounded-lg font-medium text-sm transition-all ${e.percentChangeLabelFormat==="percent"?"bg-cyan-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Percent Only"}),o.jsx("button",{onClick:()=>e.setPercentChangeLabelFormat("percent-volume"),className:`flex-1 px-4 py-2 rounded-lg font-medium text-sm transition-all ${e.percentChangeLabelFormat==="percent-volume"?"bg-cyan-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Percent / Volume"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Bracket Distance: ",e.percentChangeBracketDistance,"%"]}),o.jsx("input",{type:"range",min:"0",max:"100",value:e.percentChangeBracketDistance,onChange:d=>e.setPercentChangeBracketDistance(Number(d.target.value)),onInput:d=>e.setPercentChangeBracketDistance(Number(d.target.value)),className:"w-full"})]}),o.jsx("div",{children:o.jsx("button",{onClick:h,className:"w-full px-4 py-2 rounded-lg font-medium text-sm transition-all bg-gray-100 text-gray-700 hover:bg-gray-200 border border-gray-300",children:"Clear Emphasis"})})]})]})}),o.jsx(St,{title:"Watermark",isExpanded:r.exportBranding,onToggle:()=>a("exportBranding"),children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Watermark"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>e.setShowWatermark(!0),className:`flex-1 px-4 py-2 rounded-lg font-medium text-sm transition-all ${e.showWatermark?"bg-cyan-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Show"}),o.jsx("button",{onClick:()=>e.setShowWatermark(!1),className:`flex-1 px-4 py-2 rounded-lg font-medium text-sm transition-all ${e.showWatermark?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-cyan-600 text-white shadow-md"}`,children:"Hide"})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Show or hide the Find&Tell watermark on exported charts"})]}),e.showWatermark&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Watermark Text"}),o.jsx("input",{type:"text",value:e.watermarkText,onChange:d=>e.setWatermarkText(d.target.value),placeholder:"Find&Tell",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"})]})]})})]}),!v&&!y&&!b&&o.jsx(St,{title:"Canvas & Layout",isExpanded:r.layout,onToggle:()=>a("layout"),children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Aspect Ratio"}),o.jsxs("select",{value:e.aspectRatio,onChange:d=>e.updateAspectRatio(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"16:9",children:"16:9 (Widescreen)"}),o.jsx("option",{value:"4:3",children:"4:3 (Standard)"}),o.jsx("option",{value:"1:1",children:"1:1 (Square)"}),o.jsx("option",{value:"3:4",children:"3:4 (Portrait)"}),o.jsx("option",{value:"9:16",children:"9:16 (Mobile)"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Canvas Width: ",e.canvasWidth,"px"]}),o.jsx("input",{type:"range",min:"600",max:"2000",value:e.canvasWidth,onChange:d=>m.setCanvasWidth(Number(d.target.value)),className:"w-full"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Canvas Height: ",e.canvasHeight,"px"]}),o.jsx("input",{type:"range",min:"400",max:"2000",value:e.canvasHeight,onChange:d=>m.setCanvasHeight(Number(d.target.value)),className:"w-full"})]}),v&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Chart Width: ",e.chartWidth,"px"]}),o.jsx("input",{type:"range",min:"200",max:"1500",value:e.chartWidth,onChange:d=>m.setChartWidth(Number(d.target.value)),onInput:d=>e.setChartWidth(Number(d.target.value)),className:"w-full"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Chart Height: ",e.chartHeight,"px"]}),o.jsx("input",{type:"range",min:"200",max:"1000",value:e.chartHeight,onChange:d=>m.setChartHeight(Number(d.target.value)),onInput:d=>e.setChartHeight(Number(d.target.value)),className:"w-full"})]})]}),!y&&o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[v?"Category Spacing":"Stage Gap",": ",e.stageGap,v?"":"px"]}),o.jsx("input",{type:"range",min:"0",max:v?100:50,value:e.stageGap,onChange:d=>e.setStageGap(Number(d.target.value)),onInput:d=>e.setStageGap(Number(d.target.value)),className:"w-full"})]}),c==="funnel"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stage Label Position"}),o.jsxs("select",{value:e.stageLabelPosition,onChange:d=>e.setStageLabelPosition(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"top",children:"Top"}),o.jsx("option",{value:"bottom",children:"Bottom"}),o.jsx("option",{value:"left",children:"Left"}),o.jsx("option",{value:"right",children:"Right"})]})]})]})}),!v&&!y&&!b&&o.jsx(St,{title:"Typography",isExpanded:r.typography,onToggle:()=>a("typography"),children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),o.jsx("input",{type:"text",value:e.title,onChange:d=>e.setTitle(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subtitle"}),o.jsx("input",{type:"text",value:e.subtitle,onChange:d=>e.setSubtitle(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title Alignment"}),o.jsxs("select",{value:e.titleAlignment,onChange:d=>e.setTitleAlignment(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"left",children:"Left"}),o.jsx("option",{value:"center",children:"Center"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Font Family"}),o.jsxs("select",{value:e.fontFamily,onChange:d=>e.setFontFamily(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsxs("optgroup",{label:"Sans-Serif",children:[o.jsx("option",{value:"Inter",children:"Inter"}),o.jsx("option",{value:"Montserrat",children:"Montserrat"}),o.jsx("option",{value:"Roboto",children:"Roboto"}),o.jsx("option",{value:"Open Sans",children:"Open Sans"}),o.jsx("option",{value:"Lato",children:"Lato"})]}),o.jsxs("optgroup",{label:"Condensed",children:[o.jsx("option",{value:"Roboto Condensed",children:"Roboto Condensed"}),o.jsx("option",{value:"Open Sans Condensed",children:"Open Sans Condensed"})]}),o.jsxs("optgroup",{label:"Serif",children:[o.jsx("option",{value:"Merriweather",children:"Merriweather"}),o.jsx("option",{value:"Playfair Display",children:"Playfair Display"}),o.jsx("option",{value:"Lora",children:"Lora"}),o.jsx("option",{value:"PT Serif",children:"PT Serif"}),o.jsx("option",{value:"Georgia",children:"Georgia"})]})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Title Font Size: ",e.titleFontSize,"px"]}),o.jsx("input",{type:"range",min:"16",max:"48",value:e.titleFontSize,onChange:d=>e.setTitleFontSize(Number(d.target.value)),className:"w-full"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Subtitle Font Size: ",e.subtitleFontSize,"px"]}),o.jsx("input",{type:"range",min:"12",max:"32",value:e.subtitleFontSize,onChange:d=>e.setSubtitleFontSize(Number(d.target.value)),className:"w-full"})]}),v?o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["X-Axis Font Size: ",e.xAxisFontSize,"px"]}),o.jsx("input",{type:"range",min:"12",max:"32",value:e.xAxisFontSize,onChange:d=>e.setXAxisFontSize(Number(d.target.value)),className:"w-full"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Y-Axis Font Size: ",e.yAxisFontSize,"px"]}),o.jsx("input",{type:"range",min:"12",max:"32",value:e.yAxisFontSize,onChange:d=>e.setYAxisFontSize(Number(d.target.value)),className:"w-full"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Axis Label"}),o.jsx("input",{type:"text",value:e.axisLabel,onChange:d=>e.setAxisLabel(d.target.value),placeholder:"e.g., Dollars Per Month",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Axis Label Font Size: ",e.axisLabelFontSize,"px"]}),o.jsx("input",{type:"range",min:"10",max:"20",value:e.axisLabelFontSize,onChange:d=>e.setAxisLabelFontSize(Number(d.target.value)),className:"w-full"})]})]}):o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Segment Label Font Size: ",e.segmentLabelFontSize,"px"]}),o.jsx("input",{type:"range",min:"12",max:"32",value:e.segmentLabelFontSize,onChange:d=>e.setSegmentLabelFontSize(Number(d.target.value)),className:"w-full"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Metric Label Font Size: ",e.metricLabelFontSize,"px"]}),o.jsx("input",{type:"range",min:"10",max:"24",value:e.metricLabelFontSize,onChange:d=>e.setMetricLabelFontSize(Number(d.target.value)),className:"w-full"})]}),y&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Period Font Label: ",e.periodLabelFontSize,"px"]}),o.jsx("input",{type:"range",min:"14",max:"32",value:e.periodLabelFontSize,onChange:d=>e.setPeriodLabelFontSize(Number(d.target.value)),className:"w-full"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Period Label Position"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>e.setPeriodLabelPosition("above"),className:`flex-1 px-4 py-2 rounded-lg ${e.periodLabelPosition==="above"?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Above"}),o.jsx("button",{onClick:()=>e.setPeriodLabelPosition("below"),className:`flex-1 px-4 py-2 rounded-lg ${e.periodLabelPosition==="below"?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Below"})]})]})]}),!y&&o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Legend Font Size: ",e.legendFontSize,"px"]}),o.jsx("input",{type:"range",min:"8",max:"20",value:e.legendFontSize,onChange:d=>e.setLegendFontSize(Number(d.target.value)),className:"w-full"})]}),!y&&!v&&o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Conversion Label Font Size: ",e.conversionLabelFontSize,"px"]}),o.jsx("input",{type:"range",min:"12",max:"32",value:e.conversionLabelFontSize,onChange:d=>e.setConversionLabelFontSize(Number(d.target.value)),className:"w-full"})]})]})}),!y&&!v&&!b&&o.jsx(St,{title:"Colors & Styling",isExpanded:r.colors,onToggle:()=>a("colors"),children:o.jsx("div",{className:"space-y-2",children:i.isComparisonMode||v?o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Palette"}),o.jsx("select",{value:e.comparisonPalette,onChange:d=>e.setComparisonPalette(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500",children:Object.entries(Kn).map(([d,j])=>o.jsx("option",{value:d,children:j.name},d))})]}),e.comparisonPalette==="user"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Colors (up to 8)"}),o.jsx("div",{className:"grid grid-cols-4 gap-3",children:e.userCustomColors.map((d,j)=>o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("input",{type:"color",value:d,onChange:z=>{const S=[...e.userCustomColors];S[j]=z.target.value,e.setUserCustomColors(S)},className:"w-full h-12 rounded-lg cursor-pointer border-2 border-gray-300"}),o.jsx("input",{type:"text",value:d,onChange:z=>{const S=[...e.userCustomColors];S[j]=z.target.value,e.setUserCustomColors(S)},className:"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-cyan-500 font-mono"})]},j))})]}),e.comparisonPalette!=="user"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Palette Preview"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:Kn[e.comparisonPalette].colors.slice(0,8).map((d,j)=>o.jsx("div",{className:"w-10 h-10 rounded border-2 border-gray-300",style:{backgroundColor:d},title:d},j))})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Base Color"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"color",value:e.barColor,onChange:d=>e.setBarColor(d.target.value),className:"w-16 h-10 rounded-lg cursor-pointer border border-gray-300"}),o.jsx("input",{type:"text",value:e.barColor,onChange:d=>e.setBarColor(d.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 font-mono text-sm"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color Presets"}),o.jsx("div",{className:"grid grid-cols-4 gap-2",children:v0.map(d=>o.jsxs("button",{onClick:()=>e.setBarColor(d.color),className:"group relative",title:d.name,children:[o.jsx("div",{className:"w-full h-10 rounded border-2 border-gray-300 hover:border-cyan-500 transition-colors",style:{backgroundColor:d.color}}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx("span",{className:"text-xs font-medium text-white bg-black bg-opacity-75 px-2 py-1 rounded",children:d.name})})]},d.name))})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-1 text-sm font-medium text-gray-700 mb-2",children:["Color Transition: ",e.colorTransition,"%",o.jsx(Tt,{text:"Controls the gradient intensity from dark to light across periods"})]}),o.jsx("input",{type:"range",min:"0",max:"100",value:e.colorTransition,onChange:d=>m.setColorTransition(Number(d.target.value)),className:"w-full"})]})]})})}),!y&&!v&&!b&&o.jsx(St,{title:"Chart Type",isExpanded:r.chartType,onToggle:()=>a("chartType"),children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data Mode"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>i.isComparisonMode&&i.toggleComparisonMode(),className:`flex-1 px-4 py-2 rounded-lg font-medium text-sm transition-all ${i.isComparisonMode?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-blue-600 text-white shadow-md"}`,children:"Time Series"}),o.jsx("button",{onClick:()=>!i.isComparisonMode&&i.toggleComparisonMode(),className:`flex-1 px-4 py-2 rounded-lg font-medium text-sm transition-all ${i.isComparisonMode?"bg-purple-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Comparison"})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:i.isComparisonMode?"Multiple colors for comparing different groups/periods":"Monochrome gradient showing progression over time"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Orientation"}),o.jsxs("select",{value:e.orientation,onChange:d=>{e.setOrientation(d.target.value),h()},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"vertical",children:"Vertical"}),o.jsx("option",{value:"horizontal",children:"Horizontal"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Emphasis Mode"}),o.jsxs("select",{value:e.emphasis,onChange:d=>e.setEmphasis(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"throughput",children:"Throughput (Volume Flow)"}),o.jsx("option",{value:"fallout",children:"Fallout (Drop-offs)"})]})]})]})}),b&&o.jsxs(o.Fragment,{children:[o.jsx(St,{title:"Theme",isExpanded:r.theme,onToggle:()=>a("theme"),children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chart Background"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>{e.setDarkMode(!1),e.setBackgroundColor("#ffffff")},className:`flex-1 px-4 py-2 rounded-lg font-medium text-sm transition-all ${e.darkMode?"bg-gray-100 text-gray-600 hover:bg-gray-200 border border-gray-300":"bg-white text-gray-900 border-2 border-gray-400 shadow-md"}`,children:"Light Mode"}),o.jsx("button",{onClick:()=>{e.setDarkMode(!0),e.setBackgroundColor("#1f2937")},className:`flex-1 px-4 py-2 rounded-lg font-medium text-sm transition-all ${e.darkMode?"bg-gray-800 text-white border-2 border-gray-600 shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200 border border-gray-300"}`,children:"Dark Mode"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Background Color"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"color",value:e.backgroundColor,onChange:d=>e.setBackgroundColor(d.target.value),className:"w-16 h-10 rounded border border-gray-300 cursor-pointer"}),o.jsx("input",{type:"text",value:e.backgroundColor,onChange:d=>{const j=d.target.value;/^#[0-9A-Fa-f]{0,6}$/.test(j)&&e.setBackgroundColor(j)},placeholder:"#ffffff",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg font-mono text-sm"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-1 text-sm font-medium text-gray-700 mb-2",children:["Background Opacity: ",e.backgroundOpacity,"%",o.jsx(Tt,{text:"Adjusts the transparency of the chart background"})]}),o.jsx("input",{type:"range",min:"0",max:"100",value:e.backgroundOpacity,onChange:d=>m.setBackgroundOpacity(Number(d.target.value)),className:"w-full"})]})]})}),o.jsx(St,{title:"Canvas & Layout",isExpanded:r.layout,onToggle:()=>a("layout"),children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Aspect Ratio"}),o.jsxs("select",{value:e.aspectRatio,onChange:d=>e.updateAspectRatio(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"16:9",children:"16:9 (Widescreen)"}),o.jsx("option",{value:"4:3",children:"4:3 (Standard)"}),o.jsx("option",{value:"1:1",children:"1:1 (Square)"}),o.jsx("option",{value:"3:4",children:"3:4 (Portrait)"}),o.jsx("option",{value:"9:16",children:"9:16 (Mobile)"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Canvas Width: ",e.canvasWidth,"px"]}),o.jsx("input",{type:"range",min:"600",max:"2000",value:e.canvasWidth,onChange:d=>m.setCanvasWidth(Number(d.target.value)),className:"w-full"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Canvas Height: ",e.canvasHeight,"px"]}),o.jsx("input",{type:"range",min:"400",max:"2000",value:e.canvasHeight,onChange:d=>m.setCanvasHeight(Number(d.target.value)),className:"w-full"})]})]})}),o.jsx(St,{title:"Colors & Styling",isExpanded:r.colorMode,onToggle:()=>a("colorMode"),children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color Strategy"}),o.jsxs("select",{value:e.colorMode||"category",onChange:d=>e.setColorMode?.(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"category",children:"Category (Different color per line)"}),o.jsx("option",{value:"custom",children:"Custom (Manual colors)"})]})]}),e.colorMode==="category"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Palette"}),o.jsx("select",{value:e.comparisonPalette||"observable10",onChange:d=>e.setComparisonPalette?.(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500",children:Object.entries(Kn).map(([d,j])=>o.jsx("option",{value:d,children:j.name},d))}),e.comparisonPalette!=="user"&&o.jsx("div",{className:"mt-2",children:o.jsx("div",{className:"flex flex-wrap gap-2",children:(Kn[e.comparisonPalette||"observable10"]?.colors||[]).slice(0,8).map((d,j)=>o.jsx("div",{className:"w-10 h-10 rounded border-2 border-gray-300",style:{backgroundColor:d},title:d},j))})})]}),(e.colorMode==="custom"||e.colorMode==="category"&&e.comparisonPalette==="user")&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Colors (up to 8)"}),o.jsx("div",{className:"grid grid-cols-4 gap-3",children:(e.userCustomColors||["#1e40af","#0d9488","#991b1b","#d97706","#475569","#7c3aed","#059669","#dc2626"]).map((d,j)=>o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("input",{type:"color",value:d,onChange:z=>{const S=[...e.userCustomColors||["#1e40af","#0d9488","#991b1b","#d97706","#475569","#7c3aed","#059669","#dc2626"]];S[j]=z.target.value,e.setUserCustomColors?.(S)},className:"w-full h-12 rounded-lg cursor-pointer border-2 border-gray-300"}),o.jsx("input",{type:"text",value:d,onChange:z=>{const S=[...e.userCustomColors||["#1e40af","#0d9488","#991b1b","#d97706","#475569","#7c3aed","#059669","#dc2626"]];S[j]=z.target.value,e.setUserCustomColors?.(S)},className:"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-cyan-500 font-mono"})]},j))})]})]})}),o.jsx(St,{title:"Typography",isExpanded:r.typography,onToggle:()=>a("typography"),children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),o.jsx("input",{type:"text",value:e.title,onChange:d=>e.setTitle(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subtitle"}),o.jsx("input",{type:"text",value:e.subtitle,onChange:d=>e.setSubtitle(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title Alignment"}),o.jsxs("select",{value:e.titleAlignment,onChange:d=>e.setTitleAlignment(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"left",children:"Left"}),o.jsx("option",{value:"center",children:"Center"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Font Family"}),o.jsxs("select",{value:e.fontFamily,onChange:d=>e.setFontFamily(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsxs("optgroup",{label:"Sans-Serif",children:[o.jsx("option",{value:"Inter",children:"Inter"}),o.jsx("option",{value:"Montserrat",children:"Montserrat"}),o.jsx("option",{value:"Roboto",children:"Roboto"}),o.jsx("option",{value:"Open Sans",children:"Open Sans"}),o.jsx("option",{value:"Lato",children:"Lato"})]}),o.jsxs("optgroup",{label:"Condensed",children:[o.jsx("option",{value:"Roboto Condensed",children:"Roboto Condensed"}),o.jsx("option",{value:"Open Sans Condensed",children:"Open Sans Condensed"}),o.jsx("option",{value:"Economica",children:"Economica"})]}),o.jsxs("optgroup",{label:"Serif",children:[o.jsx("option",{value:"Merriweather",children:"Merriweather"}),o.jsx("option",{value:"Playfair Display",children:"Playfair Display"}),o.jsx("option",{value:"Lora",children:"Lora"}),o.jsx("option",{value:"PT Serif",children:"PT Serif"}),o.jsx("option",{value:"Newsreader",children:"Newsreader"}),o.jsx("option",{value:"Georgia",children:"Georgia"})]})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Title Font Size: ",e.titleFontSize,"px"]}),o.jsx("input",{type:"range",min:"16",max:"48",value:e.titleFontSize,onChange:d=>e.setTitleFontSize(Number(d.target.value)),className:"w-full"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Subtitle Font Size: ",e.subtitleFontSize,"px"]}),o.jsx("input",{type:"range",min:"12",max:"32",value:e.subtitleFontSize,onChange:d=>e.setSubtitleFontSize(Number(d.target.value)),className:"w-full"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Legend Font Size: ",e.legendFontSize,"px"]}),o.jsx("input",{type:"range",min:"8",max:"20",value:e.legendFontSize,onChange:d=>e.setLegendFontSize(Number(d.target.value)),className:"w-full"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Metric Label Font Size: ",e.metricLabelFontSize,"px"]}),o.jsx("input",{type:"range",min:"10",max:"24",value:e.metricLabelFontSize,onChange:d=>e.setMetricLabelFontSize(Number(d.target.value)),className:"w-full"})]})]})}),o.jsx(St,{title:"Labels",isExpanded:r.labels,onToggle:()=>a("labels"),children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Label Type"}),o.jsxs("select",{value:e.legendPosition||"direct",onChange:d=>{e.setLegendPosition(d.target.value),d.target.value==="direct"?(e.setShowDirectLabels(!0),e.setShowLegend(!1)):(e.setShowDirectLabels(!1),e.setShowLegend(!0))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"direct",children:"Direct Labels (at line ends)"}),o.jsx("option",{value:"top",children:"Legend (top)"})]})]}),e.legendPosition==="direct"&&o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-1 text-sm font-medium text-gray-700 mb-2",children:["Direct Label Font Size",o.jsx(Tt,{text:"Font size for metric name labels at line ends"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"range",min:"8",max:"24",value:e.directLabelFontSize||14,onChange:d=>e.setDirectLabelFontSize?.(Number(d.target.value)),className:"flex-1"}),o.jsxs("span",{className:"text-sm font-medium text-gray-700 w-12 text-right",children:[e.directLabelFontSize||14,"px"]})]})]}),e.legendPosition==="top"&&o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-1 text-sm font-medium text-gray-700 mb-2",children:["Legend Font Size",o.jsx(Tt,{text:"Font size for legend labels"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"range",min:"8",max:"24",value:e.legendFontSize||12,onChange:d=>e.setLegendFontSize?.(Number(d.target.value)),className:"flex-1"}),o.jsxs("span",{className:"text-sm font-medium text-gray-700 w-12 text-right",children:[e.legendFontSize||12,"px"]})]})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.compactNumbers!==void 0?e.compactNumbers:!0,onChange:d=>e.setCompactNumbers(d.target.checked),className:"w-4 h-4 text-cyan-600 rounded"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Compact Numbers (1K, 1M, 1B)"})]})]})}),o.jsx(St,{title:"Line Styling",isExpanded:r.lineStyling,onToggle:()=>a("lineStyling"),children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Line Thickness: ",e.lineThickness,"px"]}),o.jsx("input",{type:"range",min:"1",max:"7",value:e.lineThickness,onChange:d=>m.setLineThickness(Number(d.target.value)),className:"w-full"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Line Style"}),o.jsxs("select",{value:e.lineStyle||"solid",onChange:d=>e.setLineStyle?.(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"solid",children:"Solid"}),o.jsx("option",{value:"dashed",children:"Dashed"}),o.jsx("option",{value:"dotted",children:"Dotted"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Line Opacity: ",(e.lineOpacity||1).toFixed(2)]}),o.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:e.lineOpacity||1,onChange:d=>e.setLineOpacity(Number(d.target.value)),className:"w-full"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.smoothLines||!1,onChange:d=>e.setSmoothLines?.(d.target.checked),className:"w-4 h-4 text-cyan-600 rounded"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Smooth Lines (Curve Interpolation)"})]})]})}),o.jsx(St,{title:"Date / Time",isExpanded:r.dateTime,onToggle:()=>a("dateTime"),children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-1 text-sm font-medium text-gray-700 mb-2",children:["Aggregation Level",o.jsx(Tt,{text:"Aggregate daily data to higher time periods"})]}),o.jsxs("select",{value:e.aggregationLevel||"day",onChange:d=>e.setAggregationLevel?.(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"day",children:"Day"}),o.jsx("option",{value:"week",children:"Week"}),o.jsx("option",{value:"month",children:"Month"}),o.jsx("option",{value:"quarter",children:"Quarter"}),o.jsx("option",{value:"year",children:"Year"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-1 text-sm font-medium text-gray-700 mb-2",children:["Aggregation Method",o.jsx(Tt,{text:"How to combine values when aggregating"})]}),o.jsxs("select",{value:e.aggregationMethod||"sum",onChange:d=>e.setAggregationMethod?.(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"sum",children:"Sum"}),o.jsx("option",{value:"average",children:"Average"}),o.jsx("option",{value:"min",children:"Minimum"}),o.jsx("option",{value:"max",children:"Maximum"}),o.jsx("option",{value:"count",children:"Count"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-1 text-sm font-medium text-gray-700 mb-2",children:["Fiscal Year Start Month",o.jsx(Tt,{text:"For quarter and year calculations"})]}),o.jsxs("select",{value:e.fiscalYearStartMonth||1,onChange:d=>e.setFiscalYearStartMonth?.(Number(d.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"1",children:"January"}),o.jsx("option",{value:"2",children:"February"}),o.jsx("option",{value:"3",children:"March"}),o.jsx("option",{value:"4",children:"April"}),o.jsx("option",{value:"5",children:"May"}),o.jsx("option",{value:"6",children:"June"}),o.jsx("option",{value:"7",children:"July"}),o.jsx("option",{value:"8",children:"August"}),o.jsx("option",{value:"9",children:"September"}),o.jsx("option",{value:"10",children:"October"}),o.jsx("option",{value:"11",children:"November"}),o.jsx("option",{value:"12",children:"December"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-1 text-sm font-medium text-gray-700 mb-2",children:["X-Axis Label Levels",o.jsx(Tt,{text:"Show one or two levels of time labels on X-axis"})]}),o.jsxs("select",{value:e.xAxisLabelLevels||2,onChange:d=>e.setXAxisLabelLevels?.(Number(d.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"1",children:"Single Level (Jan, Week 1, Q1)"}),o.jsx("option",{value:"2",children:"Two Levels (Jan + Qtr 1, Week 1 + Jan 2024)"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Range Filter"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-xs text-gray-600 w-12",children:"Start"}),o.jsx("input",{type:"range",min:"0",max:"100",value:e.dateRangeFilter?.[0]||0,onChange:d=>{const j=Number(d.target.value),z=e.dateRangeFilter?.[1]||100;j<=z&&e.setDateRangeFilter?.([j,z])},className:"flex-1"}),o.jsx("span",{className:"text-xs text-gray-700 w-20 text-right",children:(()=>{if(!i.data||i.data.length===0)return"0%";const d=i.data.filter(S=>S.date);if(d.length===0)return"0%";const j=d.map(S=>S.date).sort(),z=Math.floor((e.dateRangeFilter?.[0]||0)/100*(j.length-1));return j[z]||j[0]})()})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-xs text-gray-600 w-12",children:"End"}),o.jsx("input",{type:"range",min:"0",max:"100",value:e.dateRangeFilter?.[1]||100,onChange:d=>{const j=Number(d.target.value),z=e.dateRangeFilter?.[0]||0;j>=z&&e.setDateRangeFilter?.([z,j])},className:"flex-1"}),o.jsx("span",{className:"text-xs text-gray-700 w-20 text-right",children:(()=>{if(!i.data||i.data.length===0)return"100%";const d=i.data.filter(S=>S.date);if(d.length===0)return"100%";const j=d.map(S=>S.date).sort(),z=Math.floor((e.dateRangeFilter?.[1]||100)/100*(j.length-1));return j[z]||j[j.length-1]})()})]})]}),o.jsxs("div",{className:"flex items-center justify-between mt-2",children:[o.jsxs("p",{className:"text-xs text-gray-500",children:["Showing ",e.dateRangeFilter?.[0]||0,"% - ",e.dateRangeFilter?.[1]||100,"% of data"]}),(e.dateRangeFilter?.[0]!==0||e.dateRangeFilter?.[1]!==100)&&o.jsx("button",{onClick:()=>e.setDateRangeFilter?.([0,100]),className:"text-xs text-cyan-600 hover:text-cyan-700 font-medium",children:"Reset"})]})]})]})}),o.jsx(St,{title:"Emphasis",isExpanded:r.emphasis,onToggle:()=>a("emphasis"),children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"bg-cyan-50 border border-cyan-200 rounded-lg p-3",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Emphasized Points"}),o.jsxs("span",{className:"text-sm font-semibold text-cyan-600",children:[e.emphasizedPoints?.length||0," / 4"]})]}),o.jsx("p",{className:"text-xs text-gray-600",children:"Click on point markers in the chart to emphasize them (max 4)"}),e.emphasizedPoints&&e.emphasizedPoints.length>0&&o.jsx("button",{onClick:()=>e.setEmphasizedPoints?.([]),className:"mt-2 text-xs text-red-600 hover:text-red-700 font-medium",children:"Clear All"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-1 text-sm font-medium text-gray-700 mb-2",children:["Label Position",o.jsx(Tt,{text:"Position of metric labels on emphasized points"})]}),o.jsxs("select",{value:e.emphasisLabelPosition||"above",onChange:d=>e.setEmphasisLabelPosition?.(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"above",children:"Above"}),o.jsx("option",{value:"below",children:"Below"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-1 text-sm font-medium text-gray-700 mb-2",children:["Label Font Size",o.jsx(Tt,{text:"Font size for emphasized point labels"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"range",min:"8",max:"20",step:"1",value:e.emphasisLabelFontSize||12,onChange:d=>e.setEmphasisLabelFontSize?.(Number(d.target.value)),className:"flex-1"}),o.jsxs("span",{className:"text-sm font-medium text-gray-700 w-12 text-right",children:[e.emphasisLabelFontSize||12,"px"]})]})]}),o.jsx("div",{children:o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.showEmphasisDate||!1,onChange:d=>e.setShowEmphasisDate?.(d.target.checked),className:"w-4 h-4 text-cyan-600 rounded"}),o.jsxs("span",{className:"flex items-center gap-1 text-sm font-medium text-gray-700",children:["Show Date",o.jsx(Tt,{text:"Display date below metric value in emphasis labels"})]})]})}),o.jsx("div",{children:o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.showEmphasisVerticalLine||!1,onChange:d=>e.setShowEmphasisVerticalLine?.(d.target.checked),className:"w-4 h-4 text-cyan-600 rounded"}),o.jsxs("span",{className:"flex items-center gap-1 text-sm font-medium text-gray-700",children:["Vertical Line",o.jsx(Tt,{text:"Show vertical line from X-axis to emphasized point"})]})]})}),o.jsx("div",{children:o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.emphasisCompactNumbers||!1,onChange:d=>e.setEmphasisCompactNumbers?.(d.target.checked),className:"w-4 h-4 text-cyan-600 rounded"}),o.jsxs("span",{className:"flex items-center gap-1 text-sm font-medium text-gray-700",children:["Compact Numbers",o.jsx(Tt,{text:"Format numbers as K, M, B (e.g., 1.2K, 3.5M)"})]})]})}),o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium text-gray-700 mb-1",children:["Prefix",o.jsx(Tt,{text:"Text before value (e.g., $ for currency)"})]}),o.jsx("input",{type:"text",value:e.emphasisValuePrefix||"",onChange:d=>e.setEmphasisValuePrefix?.(d.target.value),placeholder:"$",className:"w-full px-2 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-cyan-500 text-sm"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium text-gray-700 mb-1",children:["Suffix",o.jsx(Tt,{text:"Text after value (e.g., % or units)"})]}),o.jsx("input",{type:"text",value:e.emphasisValueSuffix||"",onChange:d=>e.setEmphasisValueSuffix?.(d.target.value),placeholder:"%",className:"w-full px-2 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-cyan-500 text-sm"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium text-gray-700 mb-1",children:["Decimals",o.jsx(Tt,{text:"Number of decimal places (0-5)"})]}),o.jsx("input",{type:"number",value:e.emphasisDecimalPlaces??0,onChange:d=>{const j=d.target.value===""?0:parseInt(d.target.value);e.setEmphasisDecimalPlaces?.(Math.max(0,Math.min(5,j)))},min:"0",max:"5",className:"w-full px-2 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-cyan-500 text-sm"})]})]})]})}),o.jsx(St,{title:"Point Markers",isExpanded:r.pointMarkers,onToggle:()=>a("pointMarkers"),children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.showPoints!==void 0?e.showPoints:!0,onChange:d=>e.setShowPoints?.(d.target.checked),className:"w-4 h-4 text-cyan-600 rounded"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Show Point Markers"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.excludeZeroValues!==void 0?e.excludeZeroValues:!0,onChange:d=>e.setExcludeZeroValues?.(d.target.checked),className:"w-4 h-4 text-cyan-600 rounded"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Exclude Zero/Null Values"})]}),e.showPoints!==!1&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Point Size: ",e.pointSize||4,"px"]}),o.jsx("input",{type:"range",min:"2",max:"12",value:e.pointSize||4,onChange:d=>e.setPointSize?.(Number(d.target.value)),className:"w-full"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Point Style"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>e.setPointStyle?.("filled"),className:`flex-1 px-4 py-2 rounded-lg font-medium text-sm transition-all ${(e.pointStyle||"filled")==="filled"?"bg-cyan-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Filled"}),o.jsx("button",{onClick:()=>e.setPointStyle?.("outlined"),className:`flex-1 px-4 py-2 rounded-lg font-medium text-sm transition-all ${e.pointStyle==="outlined"?"bg-cyan-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Outlined"})]})]})]})]})}),o.jsx(St,{title:"Area Fill",isExpanded:r.areaFill,onToggle:()=>a("areaFill"),children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.showAreaFill||!1,onChange:d=>e.setShowAreaFill?.(d.target.checked),className:"w-4 h-4 text-cyan-600 rounded"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Show Area Fill Below Lines"})]}),e.showAreaFill&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Area Opacity: ",(e.areaOpacity||.2).toFixed(2)]}),o.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:e.areaOpacity||.2,onChange:d=>e.setAreaOpacity?.(Number(d.target.value)),className:"w-full"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.areaGradient||!1,onChange:d=>e.setAreaGradient?.(d.target.checked),className:"w-4 h-4 text-cyan-600 rounded"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Use Gradient Fill (Color  Transparent)"})]})]})]})}),o.jsx(St,{title:"Axes & Gridlines",isExpanded:r.axesGridlines,onToggle:()=>a("axesGridlines"),children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.showXAxis!==void 0?e.showXAxis:!0,onChange:d=>e.setShowXAxis?.(d.target.checked),className:"w-4 h-4 text-cyan-600 rounded"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Show X-Axis (Time)"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.showYAxis!==void 0?e.showYAxis:!0,onChange:d=>e.setShowYAxis?.(d.target.checked),className:"w-4 h-4 text-cyan-600 rounded"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Show Y-Axis (Values)"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{children:o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bounds"})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"w-24 text-sm font-medium text-gray-700",children:"Minimum"}),o.jsx("input",{type:"number",value:e.axisMinimumAuto?e.calculatedAxisMinimum:e.axisMinimum,onChange:d=>{e.setAxisMinimum(Number(d.target.value)),e.axisMinimumAuto&&e.setAxisMinimumAuto(!1)},className:"w-24 px-2 py-1 border border-gray-300 rounded text-sm"}),o.jsxs("label",{className:"flex items-center gap-1 text-sm text-gray-600",children:[o.jsx("input",{type:"checkbox",checked:e.axisMinimumAuto,onChange:d=>e.setAxisMinimumAuto(d.target.checked),className:"rounded"}),"Auto"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"w-24 text-sm font-medium text-gray-700",children:"Maximum"}),o.jsx("input",{type:"number",value:e.axisMaximumAuto?e.calculatedAxisMaximum:e.axisMaximum,onChange:d=>{e.setAxisMaximum(Number(d.target.value)),e.axisMaximumAuto&&e.setAxisMaximumAuto(!1)},className:"w-24 px-2 py-1 border border-gray-300 rounded text-sm"}),o.jsxs("label",{className:"flex items-center gap-1 text-sm text-gray-600",children:[o.jsx("input",{type:"checkbox",checked:e.axisMaximumAuto,onChange:d=>e.setAxisMaximumAuto(d.target.checked),className:"rounded"}),"Auto"]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{children:o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Units"})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"w-24 text-sm font-medium text-gray-700",children:"Major"}),o.jsx("input",{type:"number",value:e.axisMajorUnitAuto?e.calculatedAxisMajorUnit:e.axisMajorUnit,onChange:d=>{e.setAxisMajorUnit(Number(d.target.value)),e.axisMajorUnitAuto&&e.setAxisMajorUnitAuto(!1)},className:"w-24 px-2 py-1 border border-gray-300 rounded text-sm"}),o.jsxs("label",{className:"flex items-center gap-1 text-sm text-gray-600",children:[o.jsx("input",{type:"checkbox",checked:e.axisMajorUnitAuto,onChange:d=>e.setAxisMajorUnitAuto(d.target.checked),className:"rounded"}),"Auto"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"w-24 text-sm font-medium text-gray-700",children:"Minor"}),o.jsx("input",{type:"number",value:e.axisMinorUnit,onChange:d=>e.setAxisMinorUnit(Number(d.target.value)),disabled:e.axisMinorUnitAuto,className:"w-24 px-2 py-1 border border-gray-300 rounded text-sm disabled:bg-gray-100"}),o.jsxs("label",{className:"flex items-center gap-1 text-sm text-gray-600",children:[o.jsx("input",{type:"checkbox",checked:e.axisMinorUnitAuto,onChange:d=>e.setAxisMinorUnitAuto(d.target.checked),className:"rounded"}),"Auto"]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{children:o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tick Marks"})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"w-24 text-sm font-medium text-gray-700",children:"Major Type"}),o.jsxs("select",{value:e.axisMajorTickType,onChange:d=>e.setAxisMajorTickType(d.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded text-sm",children:[o.jsx("option",{value:"none",children:"None"}),o.jsx("option",{value:"outside",children:"Outside"}),o.jsx("option",{value:"inside",children:"Inside"}),o.jsx("option",{value:"cross",children:"Cross"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"w-24 text-sm font-medium text-gray-700",children:"Minor Type"}),o.jsxs("select",{value:e.axisMinorTickType,onChange:d=>e.setAxisMinorTickType(d.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded text-sm",children:[o.jsx("option",{value:"none",children:"None"}),o.jsx("option",{value:"outside",children:"Outside"}),o.jsx("option",{value:"inside",children:"Inside"}),o.jsx("option",{value:"cross",children:"Cross"})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{children:o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gridlines"})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"w-24 text-sm font-medium text-gray-700",children:"Horizontal"}),o.jsx("button",{onClick:()=>e.setShowHorizontalGridlines(!e.showHorizontalGridlines),className:`px-4 py-1 rounded text-sm font-medium ${e.showHorizontalGridlines?"bg-cyan-600 text-white":"bg-gray-200 text-gray-600"}`,children:e.showHorizontalGridlines?"On":"Off"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"w-24 text-sm font-medium text-gray-700",children:"Vertical"}),o.jsx("button",{onClick:()=>e.setShowVerticalGridlines(!e.showVerticalGridlines),className:`px-4 py-1 rounded text-sm font-medium ${e.showVerticalGridlines?"bg-cyan-600 text-white":"bg-gray-200 text-gray-600"}`,children:e.showVerticalGridlines?"On":"Off"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{children:o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number Format"})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"flex-1 text-sm text-gray-700",children:"Compact axis values (1.5K vs 1500)"}),o.jsx("button",{onClick:()=>e.setCompactAxisNumbers(!e.compactAxisNumbers),className:`px-4 py-1 rounded text-sm font-medium ${e.compactAxisNumbers?"bg-cyan-600 text-white":"bg-gray-200 text-gray-600"}`,children:e.compactAxisNumbers?"On":"Off"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{children:o.jsxs("label",{className:"flex items-center gap-1 text-sm font-medium text-gray-700 mb-2",children:["X-Axis Label Rotation",o.jsx(Tt,{text:"Rotate time labels (0 = horizontal, 90 = vertical)"})]})}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("label",{className:"flex-1 text-sm text-gray-700",children:"Rotation Angle"}),o.jsxs("span",{className:"text-sm text-gray-600 w-12 text-right",children:[e.xAxisLabelRotation,""]})]}),o.jsx("input",{type:"range",min:"0",max:"90",value:e.xAxisLabelRotation,onChange:d=>e.setXAxisLabelRotation(Number(d.target.value)),className:"w-full"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{children:o.jsxs("label",{className:"flex items-center gap-1 text-sm font-medium text-gray-700 mb-2",children:["Axis Label",o.jsx(Tt,{text:"Optional label at the end of the value axis"})]})}),o.jsx("input",{type:"text",value:e.axisLabel,onChange:d=>e.setAxisLabel(d.target.value),placeholder:"e.g., Revenue ($)",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{children:o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number Styling (Values)"})}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium text-gray-600 mb-1",children:["Value Format",o.jsx(Tt,{text:"Percentage multiplies values by 100 and adds % symbol"})]}),o.jsxs("select",{value:e.valueFormat,onChange:d=>e.setValueFormat(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 text-sm",children:[o.jsx("option",{value:"number",children:"Number"}),o.jsx("option",{value:"percentage",children:"Percentage"})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Prefix"}),o.jsx("input",{type:"text",value:e.valuePrefix,onChange:d=>e.setValuePrefix(d.target.value),placeholder:"$",maxLength:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Suffix"}),o.jsx("input",{type:"text",value:e.valueSuffix,onChange:d=>e.setValueSuffix(d.target.value),placeholder:"%",maxLength:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Decimal places"}),o.jsx("input",{type:"number",value:e.valueDecimalPlaces,onChange:d=>e.setValueDecimalPlaces(Math.max(0,Math.min(5,parseInt(d.target.value)||0))),min:"0",max:"5",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 text-sm"})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{children:o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"X-Axis Time Labels"})}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium text-gray-600 mb-1",children:["Primary Label",o.jsx(Tt,{text:"The detailed time unit shown for each tick mark"})]}),o.jsxs("select",{value:e.xAxisPrimaryLabel||"auto",onChange:d=>{const j=d.target.value;if(e.setXAxisPrimaryLabel(j),j==="date")(e.xAxisSecondaryLabel==="auto"||!e.xAxisSecondaryLabel)&&e.setXAxisSecondaryLabel("month");else{const z={day:0,week:1,month:2,quarter:3,year:4},S=e.xAxisSecondaryLabel||"auto";if(j!=="auto"&&S!=="auto"&&S!=="none"){const O=z[j];z[S]<=O&&e.setXAxisSecondaryLabel("auto")}}},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 text-sm",children:[o.jsx("option",{value:"auto",children:"Auto (Based on Aggregation)"}),o.jsx("option",{value:"date",children:"Date"}),o.jsx("option",{value:"day",children:"Day"}),o.jsx("option",{value:"week",children:"Week"}),o.jsx("option",{value:"month",children:"Month"}),o.jsx("option",{value:"quarter",children:"Quarter"}),o.jsx("option",{value:"year",children:"Year"})]})]}),e.xAxisPrimaryLabel==="date"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium text-gray-600 mb-1",children:["Date Format Preset",o.jsx(Tt,{text:"Choose a common date format or use custom below"})]}),o.jsxs("select",{value:e.dateFormatPreset||"MM/dd/yy",onChange:d=>e.setDateFormatPreset(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 text-sm",children:[o.jsx("option",{value:"MM/dd/yy",children:"01/15/24 (MM/dd/yy)"}),o.jsx("option",{value:"dd/MM/yy",children:"15/01/24 (dd/MM/yy)"}),o.jsx("option",{value:"yyyy-MM-dd",children:"2024-01-15 (yyyy-MM-dd)"}),o.jsx("option",{value:"M/d/yy",children:"1/15/24 (M/d/yy)"}),o.jsx("option",{value:"MMM dd, yyyy",children:"Jan 15, 2024 (MMM dd, yyyy)"}),o.jsx("option",{value:"dd MMM yyyy",children:"15 Jan 2024 (dd MMM yyyy)"}),o.jsx("option",{value:"MMM dd",children:"Jan 15 (MMM dd)"}),o.jsx("option",{value:"dd MMM",children:"15 Jan (dd MMM)"}),o.jsx("option",{value:"MMMM dd, yyyy",children:"January 15, 2024 (MMMM dd, yyyy)"}),o.jsx("option",{value:"EEE, MM/dd",children:"Mon, 01/15 (EEE, MM/dd)"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium text-gray-600 mb-1",children:["Custom Format (Optional)",o.jsx(Tt,{text:"Override preset with custom format. Use yyyy, MM, dd, MMM, MMMM, EEE, etc."})]}),o.jsx("input",{type:"text",value:e.dateFormatCustom||"",onChange:d=>e.setDateFormatCustom(d.target.value),placeholder:"e.g., EEEE, MMMM do, yyyy",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 text-sm font-mono"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium text-gray-600 mb-1",children:["Secondary Label",o.jsx(Tt,{text:"The grouping label shown below primary labels"})]}),o.jsxs("select",{value:e.xAxisSecondaryLabel||"auto",onChange:d=>{const j=d.target.value,z=e.xAxisPrimaryLabel||"auto",S={day:0,week:1,month:2,quarter:3,year:4};if(j!=="auto"&&j!=="none"&&z!=="auto"){const O=S[z];S[j]>O?e.setXAxisSecondaryLabel(j):alert(`Secondary label must be less granular than primary label.
For example: Primary = Day, Secondary = Month or Year`)}else e.setXAxisSecondaryLabel(j)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 text-sm",children:[o.jsx("option",{value:"auto",children:"Auto (Based on Primary)"}),o.jsx("option",{value:"none",children:"None"}),o.jsx("option",{value:"week",children:"Week"}),o.jsx("option",{value:"month",children:"Month"}),o.jsx("option",{value:"quarter",children:"Quarter"}),o.jsx("option",{value:"year",children:"Year"})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{children:o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"X-Axis Label Font Sizes"})}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium text-gray-600 mb-1",children:["Primary Label: ",e.xAxisFontSize||12,"px",o.jsx(Tt,{text:"Font size for day numbers, weeks, months, etc."})]}),o.jsx("input",{type:"range",min:"8",max:"24",value:e.xAxisFontSize||12,onChange:d=>e.setXAxisFontSize(Number(d.target.value)),className:"w-full"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium text-gray-600 mb-1",children:["Secondary Label: ",e.xAxisSecondaryFontSize||12,"px",o.jsx(Tt,{text:"Font size for month/year grouping labels"})]}),o.jsx("input",{type:"range",min:"8",max:"24",value:e.xAxisSecondaryFontSize||12,onChange:d=>e.setXAxisSecondaryFontSize(Number(d.target.value)),className:"w-full"})]})]})]})}),o.jsx(St,{title:"Watermark",isExpanded:r.watermark,onToggle:()=>a("watermark"),children:o.jsx("div",{className:"space-y-2",children:o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"User Tier"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>e.setUserTier("free"),className:`flex-1 px-4 py-2 rounded-lg font-medium text-sm transition-all ${e.userTier==="free"?"bg-gray-500 text-white border-2 border-gray-600 shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200 border border-gray-300"}`,children:"Free (with watermark)"}),o.jsx("button",{onClick:()=>e.setUserTier("pro"),className:`flex-1 px-4 py-2 rounded-lg font-medium text-sm transition-all ${e.userTier==="pro"?"bg-cyan-600 text-white border-2 border-cyan-700 shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200 border border-gray-300"}`,children:"Pro (no watermark)"})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Free tier displays Find&Tell watermark on charts"})]})})})]}),c==="funnel"&&o.jsx(St,{title:"Display Options",isExpanded:r.displayOptions,onToggle:()=>a("displayOptions"),children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Metric Emphasis"}),o.jsxs("select",{value:e.metricEmphasis,onChange:d=>e.setMetricEmphasis(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"volume",children:"Volume (show numbers)"}),o.jsx("option",{value:"percentage",children:"Percentage (show %)"})]})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.normalizeToHundred,onChange:d=>e.setNormalizeToHundred(d.target.checked),className:"w-4 h-4 text-cyan-600 rounded"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Normalize First Stage to 100%"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.compactNumbers,onChange:d=>e.setCompactNumbers(d.target.checked),className:"w-4 h-4 text-cyan-600 rounded"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Compact numbers (1K, 1M)"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.showLegend,onChange:d=>e.setShowLegend(d.target.checked),className:"w-4 h-4 text-cyan-600 rounded"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Show Legend"})]}),e.showLegend&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Legend Position"}),o.jsxs("select",{value:e.legendPosition,onChange:d=>e.setLegendPosition(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"legend",children:"Traditional Legend"}),o.jsx("option",{value:"direct",children:"Direct Labels"})]})]}),e.showLegend&&e.legendPosition==="direct"&&o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Direct Label Font Size: ",e.inStageLabelFontSize,"px"]}),o.jsx("input",{type:"range",min:"8",max:"20",step:"1",value:e.inStageLabelFontSize,onChange:d=>e.setInStageLabelFontSize(Number(d.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]})]})}),c==="funnel"&&o.jsx(St,{title:"Sparklines",isExpanded:r.sparklines,onToggle:()=>a("sparklines"),children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e.showSparklines,onChange:d=>e.setShowSparklines(d.target.checked),className:"w-4 h-4 text-cyan-600 rounded"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Show Sparklines"})]}),e.showSparklines&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sparkline Type"}),o.jsxs("select",{value:e.sparklineType,onChange:d=>e.setSparklineType(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"volume",children:"Volume Trend"}),o.jsx("option",{value:"conversion",children:"Conversion Rate Trend"})]})]})]})}),!v&&!y&&!b&&o.jsx(St,{title:"Watermark",isExpanded:r.watermark,onToggle:()=>a("watermark"),children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"User Tier"}),o.jsxs("select",{value:e.userTier,onChange:d=>e.setUserTier(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"pro",children:"Pro (No Watermark)"}),o.jsx("option",{value:"free",children:"Free (With Watermark)"})]})]}),o.jsx("p",{className:"text-xs text-gray-500",children:'Free tier shows a "Find&Tell" watermark on the chart'})]})}),o.jsxs("div",{className:"pt-4 border-t border-gray-200 space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Style Templates"}),o.jsxs("select",{onChange:d=>{d.target.value&&(xj(e,d.target.value),d.target.value="")},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 text-sm",defaultValue:"",children:[o.jsx("option",{value:"",children:"Choose a template..."}),gj().map(d=>o.jsx("option",{value:d.id,children:d.name},d.id))]}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Apply preset styles from major publications"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx("button",{onClick:p,className:"px-4 py-2 bg-cyan-600 text-white rounded-lg hover:bg-cyan-700 font-medium",children:"Save Style"}),o.jsx("button",{onClick:x,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 font-medium",children:"Import Style"})]})]})]})}function Ej({chartData:e,chartType:r,onEditData:a,styleSettings:i,addon:c,setCurrentSampleDatasetKey:u,applyStylePreset:h,showPasteCSV:p,setShowPasteCSV:x,pastedCSV:m,setPastedCSV:y,handlePasteCSV:v,showGoogleSheets:b,setShowGoogleSheets:d,googleSheetsUrl:j,setGoogleSheetsUrl:z,googleSheetsLoading:S,setGoogleSheetsLoading:O,googleSheetsError:T,setGoogleSheetsError:W,autoRefreshEnabled:F,setAutoRefreshEnabled:U,autoRefreshInterval:H,setAutoRefreshInterval:I}){const N=r==="slope",P=r==="bar",M=r==="line",A=C.useRef(null),[G,te]=C.useState({googleSheets:!1,uploadCSV:!1,pasteCSV:!1,sampleData:!1}),ee=ue=>{te(be=>({...be,[ue]:!be[ue]}))},w=M?"Date":P?"Category":"Stage",ze=M?"Dates":P?"Categories":"Stages",ve=M?"Metric":P?"Value":"Period",re=M?"Metrics":P?"Values":"Periods",ae=M?"date":P?"Category":"Stage",le=async ue=>{const be=ue.target.files[0];be&&await e.loadCSVFile(be)},_=async()=>{if(!j.trim()){W("Please enter a Google Sheets URL");return}if(!Cj(j)){W("Please enter a valid Google Sheets URL");return}O(!0),W("");try{const ue=await wj(j),be=Object.keys(ue[0]).join(","),de=ue.map(K=>Object.values(K).join(",")).join(`
`),Ee=be+`
`+de;await e.loadCSVText(Ee,",","google-sheets")?(e.setGoogleSheetsUrl(j),W("")):W("Failed to load data from Google Sheets")}catch(ue){W(ue.message)}finally{O(!1)}},Y=async()=>{j.trim()&&await _()};C.useEffect(()=>{if(!F||!j.trim())return;const ue=H*60*1e3,be=setInterval(()=>{Y()},ue);return()=>clearInterval(be)},[F,H,j]);const se=ue=>{const be=ue.target.value;if(be){e.loadSampleData(be),u(be);const de=ol(be);de&&(de.title&&i.setTitle(de.title),de.subtitle&&i.setSubtitle(de.subtitle),de.timeScale&&i.setTimeScale(de.timeScale),de.stylePreset&&h(de.stylePreset)),ue.target.value=""}};return o.jsxs("div",{className:"space-y-3",children:[c?.isAddonMode&&o.jsx("div",{className:"bg-gradient-to-r from-cyan-50 to-blue-50 border-2 border-cyan-200 rounded-lg p-4 shadow-sm",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"flex-shrink-0 mt-1",children:o.jsx("svg",{className:"w-6 h-6 text-cyan-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-1",children:"Google Sheets Add-on"}),o.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Select data in your spreadsheet, then click the button below to load it into the chart editor."}),o.jsxs("button",{onClick:()=>{c.requestSheetData(),c.logUsage("request_sheet_data",{chartType:r})},className:"w-full px-4 py-2.5 bg-cyan-600 text-white rounded-lg hover:bg-cyan-700 font-medium flex items-center justify-center gap-2 transition-colors shadow-sm",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Load Selected Data from Sheet"]}),c.license&&o.jsx("div",{className:"mt-2 text-xs text-gray-500",children:c.license.tier==="free"?`Free Plan: ${c.license.chartsRemaining||0} charts remaining`:`${c.license.tier.charAt(0).toUpperCase()+c.license.tier.slice(1)} Plan`})]})]})}),o.jsx(St,{title:"Connect Google Sheets",isExpanded:G.googleSheets,onToggle:()=>ee("googleSheets"),children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("input",{type:"text",value:j,onChange:ue=>z(ue.target.value),placeholder:"Paste Google Sheets URL here...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Example: https://docs.google.com/spreadsheets/d/abc123.../edit"})]}),T&&o.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:o.jsx("p",{className:"text-sm text-red-700",children:T})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:_,disabled:S,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium disabled:bg-gray-400 disabled:cursor-not-allowed",children:S?"Loading...":"Load Data"}),j.trim()&&o.jsx("button",{onClick:Y,disabled:S,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:bg-gray-400 disabled:cursor-not-allowed",title:"Refresh data from Google Sheets",children:""})]}),j.trim()&&o.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg space-y-2",children:[o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",checked:F,onChange:ue=>U(ue.target.checked),className:"rounded border-gray-300 text-cyan-600 focus:ring-cyan-500"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Auto-refresh data"})]}),F&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"text-xs text-gray-600",children:"Every"}),o.jsxs("select",{value:H,onChange:ue=>I(Number(ue.target.value)),className:"text-sm px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"1",children:"1 minute"}),o.jsx("option",{value:"5",children:"5 minutes"}),o.jsx("option",{value:"10",children:"10 minutes"}),o.jsx("option",{value:"15",children:"15 minutes"}),o.jsx("option",{value:"30",children:"30 minutes"}),o.jsx("option",{value:"60",children:"1 hour"})]})]})]}),o.jsxs("details",{className:"text-xs text-gray-600",children:[o.jsx("summary",{className:"cursor-pointer font-medium mb-1",children:" How to share your Google Sheet"}),o.jsx("div",{className:"pl-4 mt-2 space-y-1 whitespace-pre-line",children:kj()})]})]})}),o.jsx(St,{title:"Upload CSV Data",isExpanded:G.uploadCSV,onToggle:()=>ee("uploadCSV"),children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("input",{ref:A,type:"file",accept:".csv",onChange:le,className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-cyan-50 file:text-cyan-700 hover:file:bg-cyan-100 cursor-pointer"}),o.jsxs("p",{className:"text-xs text-gray-500",children:['CSV should have a "',ae,'" column and one or more ',ve.toLowerCase()," columns"]})]})}),o.jsx(St,{title:"Copy/Paste CSV Data",isExpanded:G.pasteCSV,onToggle:()=>ee("pasteCSV"),children:o.jsxs("div",{className:"space-y-3",children:[o.jsx("textarea",{value:m,onChange:ue=>y(ue.target.value),placeholder:M?`Paste your CSV data here...

Example (with month names):
Month,Revenue,Orders,Customers
Jan,1900000,850,420
Feb,2000000,920,465
Mar,2300000,1050,531

Example (with dates):
date,Revenue,Orders
2024-01-01,28500,142
2024-02-01,29800,151`:N?`Paste your CSV data here...

Example:
Stage,2023,2024
East Region,85000,92000
West Region,78000,88000
North Region,62000,71000
South Region,91000,98000
Central Region,73000,85000`:P?`Paste your CSV data here...

Example:
Category,Sales
Product A,245000
Product B,198000
Product C,312000
Product D,156000
Product E,287000`:`Paste your CSV data here...

Example (Funnel):
Stage,Q1 2024,Q2 2024,Q3 2024,Q4 2024
Website Visitors,125000,135000,142000,138000
Sign Ups,45000,48500,51200,49800
Free Trial Users,28000,30200,31800,30900
Paid Customers,12500,13800,14600,14200
Active Users,9800,10900,11700,11400`,className:"w-full h-64 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 font-mono text-sm"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:v,className:"flex-1 px-4 py-2 bg-cyan-600 text-white rounded-lg hover:bg-cyan-700 transition-colors font-medium",children:"Save Data"}),o.jsx("button",{onClick:()=>y(""),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors font-medium",children:"Clear"})]}),o.jsx("p",{className:"text-xs text-gray-500",children:"Supports comma, tab, semicolon, and space delimiters. Auto-detected automatically."})]})}),o.jsx(St,{title:"Load Sample Data",isExpanded:G.sampleData,onToggle:()=>ee("sampleData"),children:o.jsx("div",{children:o.jsxs("select",{onChange:se,defaultValue:"",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"",children:"Choose a sample..."}),N?o.jsxs(o.Fragment,{children:[o.jsxs("optgroup",{label:"AI Created - Data Stories",children:[o.jsx("option",{value:"aiTechRevenue",children:"AI Created - Tech Revenue Revolution"}),o.jsx("option",{value:"aiMarketBattle",children:"AI Created - Market Share Shake-Up"}),o.jsx("option",{value:"aiWebsiteWin",children:"AI Created - Digital Transformation Win"})]}),o.jsxs("optgroup",{label:"Slope Charts",children:[o.jsx("option",{value:"tufteSlope",children:"Tufte Slope Chart - Government Receipts"}),o.jsx("option",{value:"slopeRevenue",children:"Revenue by Product Line"}),o.jsx("option",{value:"slopeCustomerSatisfaction",children:"Customer Satisfaction Scores"}),o.jsx("option",{value:"slopeEmployeeMetrics",children:"Employee Engagement"}),o.jsx("option",{value:"slopeWebsiteMetrics",children:"Website Performance"}),o.jsx("option",{value:"slopeMarketShare",children:"Market Share Changes"}),o.jsx("option",{value:"slopeEducation",children:"Student Test Scores"}),o.jsx("option",{value:"slopeHealthcare",children:"Healthcare Quality Metrics"})]})]}):P?o.jsxs("optgroup",{label:"Bar Charts",children:[o.jsx("option",{value:"barSimple",children:"Simple Bar Chart"}),o.jsx("option",{value:"barRegionalSales",children:"Sales Performance by Region"}),o.jsx("option",{value:"barMarketingChannels",children:"Marketing Channel Performance"}),o.jsx("option",{value:"barProductRevenue",children:"Product Category Revenue"}),o.jsx("option",{value:"barTeamPerformance",children:"Team Performance Metrics"}),o.jsx("option",{value:"barCustomerAcquisition",children:"Customer Acquisition by Source"})]}):r==="line"?o.jsxs(o.Fragment,{children:[o.jsx("optgroup",{label:"Line Charts - Yearly",children:o.jsx("option",{value:"webTrafficYearly",children:"Web Traffic (Yearly)"})}),o.jsxs("optgroup",{label:"Line Charts - Monthly",children:[o.jsx("option",{value:"marketingChannelRevenue",children:"Marketing Channel Revenue"}),o.jsx("option",{value:"salesMonthly",children:"Online Sales (Monthly)"}),o.jsx("option",{value:"patientOutcomesMonthly",children:"Patient Outcomes (Monthly)"})]}),o.jsxs("optgroup",{label:"Line Charts - Daily",children:[o.jsx("option",{value:"clothingRetail2Years",children:"Online Clothing Retail (2 Years Daily)"}),o.jsx("option",{value:"ecommerceDailyH1",children:"E-commerce Sales (Daily H1 2024)"}),o.jsx("option",{value:"serverMetricsDaily",children:"Server Performance (Daily)"}),o.jsx("option",{value:"stockPricesDaily",children:"Stock Prices (Daily)"})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("optgroup",{label:"Time-Based",children:[o.jsx("option",{value:"generic",children:"Generic 5-Stage Flow"}),o.jsx("option",{value:"ecommerce",children:"E-commerce Funnel"}),o.jsx("option",{value:"saas",children:"SaaS Sales Funnel"}),o.jsx("option",{value:"marketing",children:"Marketing Campaign"}),o.jsx("option",{value:"content",children:"Content/Media Funnel"}),o.jsx("option",{value:"mobileApp",children:"Mobile App Funnel"}),o.jsx("option",{value:"b2bLeads",children:"B2B Lead Generation"})]}),o.jsxs("optgroup",{label:"Comparison",children:[o.jsx("option",{value:"ageComparison",children:"Age Group Comparison"}),o.jsx("option",{value:"abTest",children:"A/B Test Comparison"}),o.jsx("option",{value:"deviceComparison",children:"Device Comparison"}),o.jsx("option",{value:"channelComparison",children:"Channel Comparison"}),o.jsx("option",{value:"timeComparison",children:"Weekday vs Weekend"})]})]})]})})}),e.error&&o.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-sm text-red-600",children:e.error}),o.jsx("div",{className:"border-t-2 border-gray-300 my-4"}),o.jsxs("div",{className:"bg-cyan-50 border border-cyan-200 rounded-lg p-4 space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("h3",{className:"font-medium text-gray-900",children:"Data Summary"}),e.hasData&&o.jsx("button",{onClick:a,className:"px-4 py-2 bg-cyan-600 text-white font-medium text-sm rounded-lg hover:bg-cyan-700 transition-colors",children:"Edit Data"})]}),e.hasData?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Data Source:"}),o.jsx("span",{className:"font-medium text-gray-900",children:j.trim()?"Google Sheets":"CSV Data"})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{className:"text-gray-600",children:[ze,":"]}),o.jsx("span",{className:"font-medium",children:e.stageCount})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{className:"text-gray-600",children:[re,":"]}),o.jsx("span",{className:"font-medium",children:e.periodCount})]}),!P&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Mode:"}),o.jsx("span",{className:`font-medium ${e.isComparisonMode?"text-cyan-600":"text-blue-600"}`,children:e.isComparisonMode?"Comparison":"Time-Based"})]})]}):o.jsx("p",{className:"text-sm text-gray-500 italic",children:"No data loaded"})]}),e.hasData&&e.data&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("h3",{className:"font-medium text-gray-900",children:"Data Preview"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Read-only preview"})]}),o.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto max-h-96",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:w}),e.periodNames.map((ue,be)=>o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:ue},be))]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.data.map((ue,be)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-3 py-2 whitespace-nowrap font-medium text-gray-900",children:ue[ae]}),e.periodNames.map((de,Ee)=>o.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-gray-700",children:ue[de]?.toLocaleString()||"-"},Ee))]},be))})]})})})]})]})}function Fj({chartData:e,chartType:r,onClose:a}){const[i,c]=C.useState(""),[u,h]=C.useState(""),p=e.editableData.length>0&&e.editableData[0].hasOwnProperty("Period")&&Object.keys(e.editableData[0]).some(M=>M!=="Period"&&M.includes(" - ")),x=r==="bar",m=r==="line",y=p?"Period":m?"Date":x?"Category":"Stage",v=p?"Series":m?"Metric":x?"Value":"Period",b=p?"Period":m?"date":x?"Category":"Stage",d=p?e.editableData.length>0?Object.keys(e.editableData[0]).filter(M=>M!=="Period"):[]:e.periodNames,[j,z]=C.useState(null),[S,O]=C.useState(null),T=()=>{i.trim()&&e.addPeriod(i.trim())&&c("")},W=()=>{u.trim()&&e.addStage(u.trim(),b)&&h("")},F=(M,A)=>{z(A),M.dataTransfer.effectAllowed="move"},U=M=>{M.preventDefault(),M.dataTransfer.dropEffect="move"},H=(M,A)=>{M.preventDefault(),j!==null&&j!==A&&e.reorderPeriods(j,A),z(null)},I=(M,A)=>{O(A),M.dataTransfer.effectAllowed="move"},N=M=>{M.preventDefault(),M.dataTransfer.dropEffect="move"},P=(M,A)=>{M.preventDefault(),S!==null&&S!==A&&e.reorderStages(S,A),O(null)};return o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit Data"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>{e.applyEdits(),a()},className:"px-4 py-2 bg-cyan-600 text-white text-sm font-semibold rounded-lg hover:bg-cyan-700",children:"Apply Changes"}),o.jsx("button",{onClick:e.resetEdits,className:"px-4 py-2 bg-gray-200 text-gray-700 text-sm font-semibold rounded-lg hover:bg-gray-300",children:"Reset"})]})]}),o.jsxs("div",{className:"mb-4 flex gap-2",children:[o.jsx("input",{type:"text",value:i,onChange:M=>c(M.target.value),onKeyPress:M=>M.key==="Enter"&&T(),placeholder:`New ${v.toLowerCase()} name...`,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500"}),o.jsxs("button",{onClick:T,className:"px-4 py-2 bg-green-600 text-white text-sm font-semibold rounded-lg hover:bg-green-700",children:["+ ",v]})]}),o.jsx("div",{className:"flex-1 border border-gray-200 rounded-lg overflow-hidden",children:o.jsx("div",{className:"overflow-auto h-full",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[o.jsx("thead",{className:"bg-gray-50 sticky top-0",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-48",children:y}),d.map((M,A)=>o.jsx("th",{draggable:!p,onDragStart:G=>!p&&F(G,A),onDragOver:!p&&U,onDrop:G=>!p&&H(G,A),className:`px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider ${p?"":"cursor-move hover:bg-gray-100"}`,children:p?o.jsx("div",{className:"font-medium",children:M}):o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsx("input",{type:"text",value:M,onChange:G=>e.updatePeriodName(M,G.target.value),className:"bg-transparent border-none focus:outline-none focus:ring-1 focus:ring-cyan-500 rounded px-1 flex-1"}),o.jsx("button",{onClick:()=>e.removePeriod(M),className:"text-red-600 hover:text-red-800 font-bold",title:"Delete column",children:""})]}),o.jsxs("div",{className:"flex gap-1 items-center",children:[o.jsx("button",{onClick:G=>{G.stopPropagation(),e.sortByPeriod(M,!1)},className:"px-2 py-1 text-xs bg-gray-200 hover:bg-gray-300 rounded",title:"Sort descending",children:""}),o.jsx("button",{onClick:G=>{G.stopPropagation(),e.sortByPeriod(M,!0)},className:"px-2 py-1 text-xs bg-gray-200 hover:bg-gray-300 rounded",title:"Sort ascending",children:""}),o.jsxs("label",{className:"flex items-center gap-1 ml-2",title:"Hide this metric",children:[o.jsx("input",{type:"checkbox",checked:e.hiddenPeriods?.has(M)||!1,onChange:G=>{G.stopPropagation(),e.togglePeriodHidden(M,G.target.checked)},className:"w-3 h-3 text-cyan-600 focus:ring-cyan-500 rounded"}),o.jsx("span",{className:"text-xs text-gray-500",children:"Hide"})]})]})]})},A)),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-20",children:"Hide"}),o.jsx("th",{className:"px-3 py-2 w-16"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.editableData.map((M,A)=>o.jsxs("tr",{draggable:!0,onDragStart:G=>I(G,A),onDragOver:N,onDrop:G=>P(G,A),className:"hover:bg-gray-50 cursor-move",children:[o.jsx("td",{className:"px-3 py-2",children:o.jsx("input",{type:"text",value:M[b]||"",onChange:G=>e.updateStageName(A,G.target.value,b),className:"w-full px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-cyan-500"})}),d.map((G,te)=>o.jsx("td",{className:"px-3 py-2",children:o.jsx("input",{type:"number",value:M[G]||0,onChange:ee=>e.updateDataValue(A,G,parseFloat(ee.target.value)||0),className:"w-full px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-cyan-500"})},te)),o.jsx("td",{className:"px-3 py-2 text-center",children:o.jsx("input",{type:"checkbox",checked:M.hidden||!1,onChange:G=>e.toggleStageHidden(A,G.target.checked),className:"w-4 h-4 text-cyan-600 focus:ring-cyan-500 rounded"})}),o.jsx("td",{className:"px-3 py-2 text-center",children:o.jsx("button",{onClick:()=>e.removeStage(A),className:"text-red-600 hover:text-red-800 font-bold text-lg",title:"Delete row",children:""})})]},A))})]})})}),o.jsxs("div",{className:"mt-4 flex gap-2",children:[o.jsx("input",{type:"text",value:u,onChange:M=>h(M.target.value),onKeyPress:M=>M.key==="Enter"&&W(),placeholder:`New ${y.toLowerCase()} name...`,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500"}),o.jsxs("button",{onClick:W,className:"px-4 py-2 bg-green-600 text-white text-sm font-semibold rounded-lg hover:bg-green-700",children:["+ ",y]})]})]})}function St({title:e,isExpanded:r,onToggle:a,children:i}){return o.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[o.jsxs("button",{onClick:a,className:"w-full px-3 py-2 bg-gray-50 hover:bg-gray-100 flex items-center justify-between text-left font-medium text-sm text-gray-900",children:[o.jsx("span",{children:e}),o.jsx("span",{className:`transform transition-transform ${r?"rotate-180":""}`,children:""})]}),r&&o.jsx("div",{className:"px-3 py-3 bg-white",children:i})]})}function _j(){return o.jsx(my,{children:o.jsxs(Bx,{children:[o.jsx(Wd,{path:"/",element:o.jsx(jy,{})}),o.jsx(Wd,{path:"/chart/:chartType",element:o.jsx(Lj,{})})]})})}ex.createRoot(document.getElementById("root")).render(o.jsx(fl.StrictMode,{children:o.jsx(_j,{})}));
</script>
    <style>@import"https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Montserrat:wght@300;400;500;600;700;800&family=Open+Sans:wght@300;400;500;600;700;800&family=Roboto:wght@300;400;500;700;900&family=Roboto+Condensed:wght@300;400;700&family=Open+Sans+Condensed:wght@300;700&family=Lato:wght@300;400;700;900&family=Merriweather:wght@300;400;700;900&family=Playfair+Display:wght@400;500;600;700;800;900&family=Lora:wght@400;500;600;700&family=PT+Serif:wght@400;700&family=Economica:wght@400;700&family=Newsreader:opsz,wght@6..72,400;6..72,500;6..72,600;6..72,700&display=swap";*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.\!container{width:100%!important}.container{width:100%}@media(min-width:640px){.\!container{max-width:640px!important}.container{max-width:640px}}@media(min-width:768px){.\!container{max-width:768px!important}.container{max-width:768px}}@media(min-width:1024px){.\!container{max-width:1024px!important}.container{max-width:1024px}}@media(min-width:1280px){.\!container{max-width:1280px!important}.container{max-width:1280px}}@media(min-width:1536px){.\!container{max-width:1536px!important}.container{max-width:1536px}}.pointer-events-none{pointer-events:none}.visible{visibility:visible}.invisible{visibility:hidden}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{inset:0}.bottom-8{bottom:2rem}.left-0{left:0}.left-4{left:1rem}.left-8{left:2rem}.right-0{right:0}.right-4{right:1rem}.top-0{top:0}.top-1\/2{top:50%}.top-4{top:1rem}.top-5{top:1.25rem}.z-10{z-index:10}.z-20{z-index:20}.z-50{z-index:50}.mx-auto{margin-left:auto;margin-right:auto}.my-1{margin-top:.25rem;margin-bottom:.25rem}.my-4{margin-top:1rem;margin-bottom:1rem}.mb-1{margin-bottom:.25rem}.mb-12{margin-bottom:3rem}.mb-2{margin-bottom:.5rem}.mb-3{margin-bottom:.75rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.ml-2{margin-left:.5rem}.ml-6{margin-left:1.5rem}.mt-1{margin-top:.25rem}.mt-16{margin-top:4rem}.mt-2{margin-top:.5rem}.mt-4{margin-top:1rem}.block{display:block}.inline-block{display:inline-block}.inline{display:inline}.flex{display:flex}.table{display:table}.grid{display:grid}.hidden{display:none}.h-10{height:2.5rem}.h-12{height:3rem}.h-2{height:.5rem}.h-20{height:5rem}.h-3{height:.75rem}.h-4{height:1rem}.h-5{height:1.25rem}.h-56{height:14rem}.h-6{height:1.5rem}.h-64{height:16rem}.h-full{height:100%}.h-screen{height:100vh}.max-h-96{max-height:24rem}.max-h-\[90vh\]{max-height:90vh}.min-h-screen{min-height:100vh}.w-10{width:2.5rem}.w-12{width:3rem}.w-16{width:4rem}.w-20{width:5rem}.w-24{width:6rem}.w-3{width:.75rem}.w-4{width:1rem}.w-48{width:12rem}.w-5{width:1.25rem}.w-6{width:1.5rem}.w-64{width:16rem}.w-96{width:24rem}.w-full{width:100%}.min-w-0{min-width:0px}.min-w-full{min-width:100%}.max-w-3xl{max-width:48rem}.max-w-6xl{max-width:72rem}.max-w-7xl{max-width:80rem}.max-w-full{max-width:100%}.flex-1{flex:1 1 0%}.flex-shrink-0{flex-shrink:0}.grow{flex-grow:1}.-translate-y-1\/2{--tw-translate-y: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.rotate-180{--tw-rotate: 180deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.cursor-help{cursor:help}.cursor-move{cursor:move}.cursor-not-allowed{cursor:not-allowed}.cursor-pointer{cursor:pointer}.cursor-se-resize{cursor:se-resize}.resize{resize:both}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.grid-cols-5{grid-template-columns:repeat(5,minmax(0,1fr))}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.gap-8{gap:2rem}.space-y-1>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.25rem * var(--tw-space-y-reverse))}.space-y-2>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}.space-y-3>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.75rem * var(--tw-space-y-reverse))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-gray-200>:not([hidden])~:not([hidden]){--tw-divide-opacity: 1;border-color:rgb(229 231 235 / var(--tw-divide-opacity, 1))}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre-line{white-space:pre-line}.rounded{border-radius:.25rem}.rounded-2xl{border-radius:1rem}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:.5rem}.border{border-width:1px}.border-2{border-width:2px}.border-b{border-bottom-width:1px}.border-b-2{border-bottom-width:2px}.border-l{border-left-width:1px}.border-t{border-top-width:1px}.border-t-2{border-top-width:2px}.border-none{border-style:none}.border-cyan-200{--tw-border-opacity: 1;border-color:rgb(165 243 252 / var(--tw-border-opacity, 1))}.border-cyan-600{--tw-border-opacity: 1;border-color:rgb(8 145 178 / var(--tw-border-opacity, 1))}.border-cyan-700{--tw-border-opacity: 1;border-color:rgb(14 116 144 / var(--tw-border-opacity, 1))}.border-gray-200{--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1))}.border-gray-300{--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1))}.border-gray-400{--tw-border-opacity: 1;border-color:rgb(156 163 175 / var(--tw-border-opacity, 1))}.border-gray-600{--tw-border-opacity: 1;border-color:rgb(75 85 99 / var(--tw-border-opacity, 1))}.border-red-200{--tw-border-opacity: 1;border-color:rgb(254 202 202 / var(--tw-border-opacity, 1))}.border-white{--tw-border-opacity: 1;border-color:rgb(255 255 255 / var(--tw-border-opacity, 1))}.bg-black{--tw-bg-opacity: 1;background-color:rgb(0 0 0 / var(--tw-bg-opacity, 1))}.bg-blue-600{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.bg-cyan-50{--tw-bg-opacity: 1;background-color:rgb(236 254 255 / var(--tw-bg-opacity, 1))}.bg-cyan-500{--tw-bg-opacity: 1;background-color:rgb(6 182 212 / var(--tw-bg-opacity, 1))}.bg-cyan-600{--tw-bg-opacity: 1;background-color:rgb(8 145 178 / var(--tw-bg-opacity, 1))}.bg-gray-100{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.bg-gray-200{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.bg-gray-300{--tw-bg-opacity: 1;background-color:rgb(209 213 219 / var(--tw-bg-opacity, 1))}.bg-gray-50{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.bg-gray-500{--tw-bg-opacity: 1;background-color:rgb(107 114 128 / var(--tw-bg-opacity, 1))}.bg-gray-800{--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity, 1))}.bg-green-600{--tw-bg-opacity: 1;background-color:rgb(22 163 74 / var(--tw-bg-opacity, 1))}.bg-purple-600{--tw-bg-opacity: 1;background-color:rgb(147 51 234 / var(--tw-bg-opacity, 1))}.bg-red-50{--tw-bg-opacity: 1;background-color:rgb(254 242 242 / var(--tw-bg-opacity, 1))}.bg-transparent{background-color:transparent}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-opacity-50{--tw-bg-opacity: .5}.bg-opacity-75{--tw-bg-opacity: .75}.bg-gradient-to-br{background-image:linear-gradient(to bottom right,var(--tw-gradient-stops))}.bg-gradient-to-r{background-image:linear-gradient(to right,var(--tw-gradient-stops))}.from-cyan-50{--tw-gradient-from: #ecfeff var(--tw-gradient-from-position);--tw-gradient-to: rgb(236 254 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.from-slate-50{--tw-gradient-from: #f8fafc var(--tw-gradient-from-position);--tw-gradient-to: rgb(248 250 252 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.via-cyan-50{--tw-gradient-to: rgb(236 254 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), #ecfeff var(--tw-gradient-via-position), var(--tw-gradient-to)}.to-blue-50{--tw-gradient-to: #eff6ff var(--tw-gradient-to-position)}.p-1\.5{padding:.375rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.p-8{padding:2rem}.px-1{padding-left:.25rem;padding-right:.25rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.px-8{padding-left:2rem;padding-right:2rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-1\.5{padding-top:.375rem;padding-bottom:.375rem}.py-12{padding-top:3rem;padding-bottom:3rem}.py-16{padding-top:4rem;padding-bottom:4rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-2\.5{padding-top:.625rem;padding-bottom:.625rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.py-8{padding-top:2rem;padding-bottom:2rem}.pl-4{padding-left:1rem}.pt-4{padding-top:1rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.font-mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-6xl{font-size:3.75rem;line-height:1}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.italic{font-style:italic}.leading-relaxed{line-height:1.625}.tracking-wider{letter-spacing:.05em}.text-blue-600{--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.text-blue-900{--tw-text-opacity: 1;color:rgb(30 58 138 / var(--tw-text-opacity, 1))}.text-cyan-600{--tw-text-opacity: 1;color:rgb(8 145 178 / var(--tw-text-opacity, 1))}.text-gray-400{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.text-gray-600{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.text-gray-700{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}.text-gray-900{--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.text-green-700{--tw-text-opacity: 1;color:rgb(21 128 61 / var(--tw-text-opacity, 1))}.text-red-500{--tw-text-opacity: 1;color:rgb(239 68 68 / var(--tw-text-opacity, 1))}.text-red-600{--tw-text-opacity: 1;color:rgb(220 38 38 / var(--tw-text-opacity, 1))}.text-red-700{--tw-text-opacity: 1;color:rgb(185 28 28 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.underline{text-decoration-line:underline}.opacity-0{opacity:0}.shadow-2xl{--tw-shadow: 0 25px 50px -12px rgb(0 0 0 / .25);--tw-shadow-colored: 0 25px 50px -12px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-xl{--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-colors{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-transform{transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-150{transition-duration:.15s}.duration-200{transition-duration:.2s}.duration-300{transition-duration:.3s}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}:root{--findtell-navy: #1e3a8a;--findtell-blue: #0ea5e9;--findtell-purple: #a855f7;--findtell-gray: #6b7280;--findtell-light-gray: #f3f4f6}body{margin:0;padding:0;font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}code{font-family:source-code-pro,Menlo,Monaco,Consolas,Courier New,monospace}*{box-sizing:border-box}.file\:mr-4::file-selector-button{margin-right:1rem}.file\:rounded-lg::file-selector-button{border-radius:.5rem}.file\:border-0::file-selector-button{border-width:0px}.file\:bg-cyan-50::file-selector-button{--tw-bg-opacity: 1;background-color:rgb(236 254 255 / var(--tw-bg-opacity, 1))}.file\:px-4::file-selector-button{padding-left:1rem;padding-right:1rem}.file\:py-2::file-selector-button{padding-top:.5rem;padding-bottom:.5rem}.file\:text-sm::file-selector-button{font-size:.875rem;line-height:1.25rem}.file\:font-semibold::file-selector-button{font-weight:600}.file\:text-cyan-700::file-selector-button{--tw-text-opacity: 1;color:rgb(14 116 144 / var(--tw-text-opacity, 1))}.hover\:border-cyan-400:hover{--tw-border-opacity: 1;border-color:rgb(34 211 238 / var(--tw-border-opacity, 1))}.hover\:border-cyan-500:hover{--tw-border-opacity: 1;border-color:rgb(6 182 212 / var(--tw-border-opacity, 1))}.hover\:bg-blue-700:hover{--tw-bg-opacity: 1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.hover\:bg-cyan-600:hover{--tw-bg-opacity: 1;background-color:rgb(8 145 178 / var(--tw-bg-opacity, 1))}.hover\:bg-cyan-700:hover{--tw-bg-opacity: 1;background-color:rgb(14 116 144 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-100:hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-200:hover{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-300:hover{--tw-bg-opacity: 1;background-color:rgb(209 213 219 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-400:hover{--tw-bg-opacity: 1;background-color:rgb(156 163 175 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-50:hover{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.hover\:bg-green-200:hover{--tw-bg-opacity: 1;background-color:rgb(187 247 208 / var(--tw-bg-opacity, 1))}.hover\:bg-green-700:hover{--tw-bg-opacity: 1;background-color:rgb(21 128 61 / var(--tw-bg-opacity, 1))}.hover\:bg-purple-700:hover{--tw-bg-opacity: 1;background-color:rgb(126 34 206 / var(--tw-bg-opacity, 1))}.hover\:bg-red-100:hover{--tw-bg-opacity: 1;background-color:rgb(254 226 226 / var(--tw-bg-opacity, 1))}.hover\:text-cyan-600:hover{--tw-text-opacity: 1;color:rgb(8 145 178 / var(--tw-text-opacity, 1))}.hover\:text-cyan-700:hover{--tw-text-opacity: 1;color:rgb(14 116 144 / var(--tw-text-opacity, 1))}.hover\:text-gray-600:hover{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.hover\:text-gray-700:hover{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.hover\:text-gray-900:hover{--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.hover\:text-red-700:hover{--tw-text-opacity: 1;color:rgb(185 28 28 / var(--tw-text-opacity, 1))}.hover\:text-red-800:hover{--tw-text-opacity: 1;color:rgb(153 27 27 / var(--tw-text-opacity, 1))}.hover\:shadow-lg:hover{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.hover\:shadow-xl:hover{--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.hover\:file\:bg-cyan-100::file-selector-button:hover{--tw-bg-opacity: 1;background-color:rgb(207 250 254 / var(--tw-bg-opacity, 1))}.focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\:ring-1:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\:ring-cyan-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(6 182 212 / var(--tw-ring-opacity, 1))}.disabled\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\:bg-gray-100:disabled{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.disabled\:bg-gray-400:disabled{--tw-bg-opacity: 1;background-color:rgb(156 163 175 / var(--tw-bg-opacity, 1))}.group:hover .group-hover\:visible{visibility:visible}.group:hover .group-hover\:opacity-100{opacity:1}
</style>
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>
